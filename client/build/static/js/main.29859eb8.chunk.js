(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(54),r=a.n(s),i=a(18),o=a(9),u=function(e){return{type:"FORWARD",children:e}},l=a(2),d=a(7),j={isModal:!1,children:null,back:[]},b=function(e,t){switch(t.type){case"CLEAR":return{initialModalData:j};case"FORWARD":var a,n=[];return e.children&&(a={elementName:e.children.elementName,props:e.children.props},n=n.concat(e.back?e.back:[],a)),Object(d.a)(Object(d.a)({},e),{},{isModal:!0,back:n,children:t.children});case"BACK":var c=e.back,s=c.pop();return Object(d.a)(Object(d.a)({},e),{},{children:s,back:c});default:return Object(d.a)({},e)}},m=a(0),p=Object(n.createContext)(),v=function(e){var t=Object(n.useReducer)(b,j),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(m.jsx)(p.Provider,{value:{modalData:c,modalDataDispatch:s},children:e.children})},h={loggedIn:!1,isAdmin:!1,activeUser:"",location:"",token:"",windowWidth:null},O=function(e,t){switch(t.type){case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{loggedIn:!0,activeUser:t.user.user.name,token:t.user.token,isAdmin:t.isAdmin});case"WINDOW":return Object(d.a)(Object(d.a)({},e),{},{windowWidth:t.windowWidth});case"LOGOUT":return Object(d.a)(Object(d.a)({},e),{},{loggedIn:!1,activeUser:"",token:"",isAdmin:!1});case"SET_LOCATION":return Object(d.a)(Object(d.a)({},e),{},{location:t.location});default:return Object(d.a)({},e)}},x=Object(n.createContext)(),f=function(e){var t=Object(n.useReducer)(O,h),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(m.jsx)(x.Provider,{value:{userData:c,userDataDispatch:s},children:e.children})},g=a(6),D=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function N(e){var t=e.slot,a=e.onClickFunc,n=Object.keys(t)[0],c=function(e){a(e,t)};return Object(m.jsxs)("div",{className:"time-slot",children:[Object(m.jsx)("div",{className:"time-slot__day",children:D[n-1]}),Object(m.jsx)("div",{className:"time-slot__container",children:t[n].length>0&&t[n].map((function(e,t){return Object(m.jsx)("div",{className:"time-slot__hour",id:t,onClick:c,children:e.startTime},Object(g.a)())}))})]})}function k(e){e.name;var t=e.slots,a=e.description,c=e.movieID,s=e.theaterID,r=Object(n.useContext)(p).modalDataDispatch,i=function(e,t){var a=Object.keys(t)[0],n=t[a][e.target.id].seats;r(u({elementName:"Seats",props:{seats:n,slotIndex:e.target.id,day:a,movieID:c,theaterID:s}}))};return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"description__container",children:a}),Object(m.jsx)("div",{children:t.length>0?t[0].map((function(e,t){return Object(m.jsx)(N,{slot:e,onClickFunc:i},Object(g.a)())})):"No Available Time Slots."})]})}var C=a(3),y=a.n(C),w=a(5),_=function(e){return{type:"SET_DATA",data:e}},S={adminsData:[],moviesData:[],availabilityData:[],theatersData:[],locationsData:[],newsData:[],isLoaded:!1},A=function(e,t){switch(t.type){case"SET_DATA":var a=function(e){var t={};for(var a in e)e[a]&&(t[a]=e[a]);return t}(t.data);return Object(d.a)(Object(d.a)({},e),a);default:return Object(d.a)({},e)}},I=Object(n.createContext)(),T=function(e){var t=Object(n.useReducer)(A,S),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(m.jsx)(I.Provider,{value:{contentData:c,contentDataDispatch:s},children:e.children})},M=a(12),L=a(10),E=a.n(L),P="".concat("http://localhost",":").concat("4000"),F=function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/login"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Unable to login");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/subscribe"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Unable to login");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/logout"),{token:t,isAdmin:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),B=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.patch("".concat(P,"/data/update-password"),{token:t,request:a,isAdmin:n});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(w.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(P,"/data/admin/get-all"),{params:{token:t}});case 3:return a=e.sent,e.abrupt("return",{adminsData:a.data});case 7:return e.prev=7,e.t0=e.catch(0),console.log(null===(n=e.t0.response)||void 0===n?void 0:n.statusText),e.abrupt("return",{adminsData:[]});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(w.a)(y.a.mark((function e(t,a){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/admin/delete"),{token:a,admins:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(null===(n=e.t0.response)||void 0===n?void 0:n.statusText);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(w.a)(y.a.mark((function e(t,a){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/add-movie/"),{movie:t,token:a});case 3:return n=e.sent,c=n.data,e.abrupt("return",c.id);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.patch("".concat(P,"/data/update-movie/"),{token:t,movieID:a,movieDetails:n});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("".concat(P,"/data/delete-movies/"),{movies:t,token:a});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),z=function(e){return e},H=function(e,t){return t.filter((function(t){var a=t.name;return e===a}))[0]},Z=function(e,t){return t.filter((function(t){var a=t.id;return e===a}))[0]},J=function(e,t){var a=[];return e.forEach((function(e){var n,c=Object(M.a)(t);try{for(c.s();!(n=c.n()).done;){var s=n.value;if(e.id===s.owner){a.push(e);break}}}catch(r){c.e(r)}finally{c.f()}})),a},K=function(e,t){var a=[];return e.forEach((function(e){var n,c=!1,s=Object(M.a)(t);try{for(s.s();!(n=s.n()).done;){var r=n.value;e.id===r.owner&&(c=!0)}}catch(i){s.e(i)}finally{s.f()}c||a.push(e)})),a},Q=function(e,t,a){try{return a.filter((function(a){var n=a.owner,c=a.theater,s=a.hasOpenSeats;return n===e&&c===t&&s})).map((function(e){return e.slots}))}catch(n){return console.log(n.message),[]}},$=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/add-movie-timeslot"),{id:t,timeSlot:a,token:n});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n){return e.apply(this,arguments)}}(),X=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.patch("".concat(P,"/data/add-comment"),{token:t,comment:a,id:n});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n){return e.apply(this,arguments)}}(),ee=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.patch("".concat(P,"/data/add-seat"),{token:t,orderDetails:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),te=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/add-theater"),{token:t,theater:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/delete-theaters"),{token:t,theaters:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),ne=function(e,t){try{var a=t.filter((function(t){var a=t.id;return e===a}))[0];return{name:a.name,movies:a.movies,seats:a.seats,location:a.location}}catch(n){return{name:"",movies:[],seats:0,location:""}}},ce=function(e,t,a){return a.filter((function(a){var n=a.name,c=a.location;return n===e&&c===t})).length>0},se=function(e){var t=e.location;return e.theaters.filter((function(e){return t===e.location}))},re=function(e){return e.map((function(e){var t=e.name,a=e.id,n=e.location;return{name:"".concat(t," - ").concat(n),id:a}}))},ie=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n,c,s){var r,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=[],i=n.length>c.movies.length?n.length:c.movies.length,o=0;o<i;o++)r.includes(c.movies[o])||r.push(c.movies[o]),r.includes(n[o])||r.push(c.movies[o]);return e.next=6,E.a.post("".concat(P,"/data/update-theater"),{token:t,theaterID:a,oldMoviesList:n,theaterDetails:c,allMovies:r,newTimeSlots:s});case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,n,c,s){return e.apply(this,arguments)}}(),oe=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/add-location"),{token:t,name:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),ue=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/delete-location"),{token:t,location:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),le=function(e,t){return t.filter((function(t){return t===e})).length>0},de=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/add-article"),{token:t,article:a});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log(e.t0.message),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),je=function(){var e=Object(w.a)(y.a.mark((function e(t,a,n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.patch("".concat(P,"/data/update-article"),{id:t,token:n,article:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(w.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("".concat(P,"/data/delete-articles"),{token:t,articles:a});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,e.next=4,pe("articles");case 4:return t.newsData=e.sent,e.next=7,pe("movies");case 7:return t.moviesData=e.sent,e.next=10,pe("timeslots");case 10:return t.availabilityData=e.sent,e.next=13,pe("theaters");case 13:return t.theatersData=e.sent,e.next=16,pe("locations");case 16:return t.locationsData=e.sent,t.isLoaded=!0,e.abrupt("return",t);case 21:e.prev=21,e.t0=e.catch(1),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(w.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("".concat(P,"/data/get-").concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(e){return e},he=function(e,t){return t.filter((function(t){return t.id===e}))[0]};function Oe(e){var t=e.seats,a=e.row,c=e.slotIndex,s=e.day,r=e.movieID,i=e.theaterID,o=e.setErrorMessage,l=Object(n.useContext)(p).modalDataDispatch,d=Object(n.useContext)(x).userData,j=Object(n.useContext)(I).contentDataDispatch,b=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,b,m,p,v;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(""),n=t.target.id,b=parseInt(12*(a-1))+parseInt(n)-1,m={cell:b,day:s,hourIndex:c,movieID:r,theaterID:i},e.prev=4,e.next=7,ee(d.token,m);case 7:return e.next=9,pe("timeslots");case 9:p=e.sent,j(_({availabilityData:p})),l({type:"CLEAR"}),l(u({elementName:"Reservation",props:{orderDetails:m,row:a,seat:n}})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),o((null===(v=e.t0.response)||void 0===v?void 0:v.data.message)||e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"row__container",children:[Object(m.jsx)("div",{className:"row__number",children:a}),Object(m.jsx)("div",{className:"row",children:t.map((function(e,t){return Object(m.jsx)("div",{id:t+1,className:(e?"green":"red")+" seat",onClick:e?b:function(){}},"seat"+t)}))})]})}function xe(e){var t=e.seats,a=e.slotIndex,c=e.day,s=e.movieID,r=e.theaterID,i=Object(n.useState)(""),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(m.jsxs)("div",{className:"seats",children:[Object(m.jsx)("div",{className:"screen"}),Object(m.jsx)("div",{className:"seats__container",children:t.length>0&&function(e){for(var t=[],n=0;n<e.length;){var i=Math.floor(n/12)+1;t.push(Object(m.jsx)(Oe,{seats:e.slice(n,n+12),row:i,slotIndex:a,day:c,movieID:s,theaterID:r,setErrorMessage:d},i)),n+=12}return t}(t).map((function(e){return e}))}),!!u&&Object(m.jsx)("div",{className:"error-message",children:u})]})}function fe(e){var t=e.orderDetails,a=e.row,c=e.seat,s=Object(n.useContext)(I).contentData,r=t.day,i=t.hourIndex,o=t.movieID,u=t.theaterID,l=Z(o,s.moviesData).name,d=ne(u,s.theatersData),j=s.availabilityData.filter((function(e){var t=e.owner,a=e.theater;return t===o&&a===u}))[0].slots,b=j.findIndex((function(e){return Object.keys(e)[0]===r})),p=(j[b][r][i]||"").startTime;return Object(m.jsxs)("div",{className:"reservation",children:[Object(m.jsx)("h1",{children:"Order Details:"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Movie:"})," ",l]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Location:"})," ",d.name,", ",d.location]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Time:"})," ",["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][r-1],", at ",p]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Seat: "}),"Row: ",a," , Seat:",c]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Reservetion ID:"})," ",Object(g.a)()]}),Object(m.jsx)("h4",{children:"Enjoy !"})]})}function ge(){return Object(m.jsx)("div",{})}function De(e){var t=e.rating,a=e.setRating,c=Object(n.useState)(["","","","",""]),s=Object(l.a)(c,2),r=s[0],i=s[1],o=function(e){var t=parseInt(e.target.id);!function(e){for(var t=["","","","",""],a=0;a<e;a++)t[a]="active";i(t)}(t),a(t)};return Object(m.jsxs)("div",{className:"add-comment__rating",children:[Object(m.jsxs)("div",{className:"star-wrapper",children:[Object(m.jsx)("div",{onClick:o,className:"fas fa-star s5 "+r[4],id:"5"}),Object(m.jsx)("div",{onClick:o,className:"fas fa-star s4 "+r[3],id:"4"}),Object(m.jsx)("div",{onClick:o,className:"fas fa-star s3 "+r[2],id:"3"}),Object(m.jsx)("div",{onClick:o,className:"fas fa-star s2 "+r[1],id:"2"}),Object(m.jsx)("div",{onClick:o,className:"fas fa-star s1 "+r[0],id:"1"})]}),t&&Object(m.jsx)("button",{onClick:function(){i(["","","","",""]),a(null)},children:"Clear"})]})}function Ne(e){var t=e.id,a=Object(n.useContext)(x).userData,c=Object(n.useContext)(p).modalDataDispatch,s=Object(n.useContext)(I).contentDataDispatch,r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)(null),b=Object(l.a)(j,2),v=b[0],h=b[1],O=Object(n.useState)(null),f=Object(l.a)(O,2),D=f[0],N=f[1],k=function(){var e=Object(w.a)(y.a.mark((function e(){var n,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(""),n={},v&&(n.rating=v),D&&(n.comment={user:a.activeUser,comment:D,id:Object(g.a)()}),e.prev=4,e.next=7,X(a.token,n,t);case 7:return e.next=9,pe("movies");case 9:r=e.sent,s(_({moviesData:r})),c({type:"CLEAR"}),c(u({elementName:"ApprovalMessage",props:{message:"Comment added!"}})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),d((null===(i=e.t0.response)||void 0===i?void 0:i.data.message)||e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add-comment__container",children:[Object(m.jsx)(De,{setRating:h,rating:v}),Object(m.jsx)("div",{className:"add-comment__comment",children:Object(m.jsx)("textarea",{onInput:function(e){d("");var t=e.target.value;N(""===t?null:t)}})}),Object(m.jsx)("button",{disabled:!D&&!v,onClick:k,children:"Submit"}),!!o&&Object(m.jsx)("div",{className:"error-message",children:o})]})}function ke(e){var t=e.comments,a=Object(n.useState)(!1),c=Object(l.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)("comments"),o=Object(l.a)(i,2),u=o[0],d=o[1];return Object(m.jsxs)("div",{className:"comments__container",children:[Object(m.jsx)("h3",{children:"Comments"}),Object(m.jsx)("div",{className:u,children:t.map((function(e,t){return Object(m.jsx)("div",{className:"comment",children:e.comment},Object(g.a)())}))}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){r(!s),d("comments"+(s?"":" more"))},children:s?"Show Less Comments":"Show More Comments"})})]})}function Ce(e){var t=e.description,a=e.comments,c=e.id,s=Object(n.useContext)(p).modalDataDispatch,r=Object(n.useContext)(I).contentData,i=function(e,t,a){var n,c=[],s=t.filter((function(t){return t.movies.includes(e)})),r=Object(M.a)(s);try{for(r.s();!(n=r.n()).done;){var i=n.value;c.push({theater:i.name,location:i.location,slots:Q(e,i.id,a),theaterID:i.id})}}catch(o){r.e(o)}finally{r.f()}return c}(c,r.theatersData,r.availabilityData),o=function(e){var t=i[e.target.id],a=t.name,n=t.slots,r=e.target.parentElement.id;s(u({elementName:"ShowMovieDetails",props:{name:a,slots:n,movieID:c,theaterID:r}}))};return Object(m.jsxs)("div",{className:"movie__container",children:[Object(m.jsx)("div",{className:"description__container",children:t}),Object(m.jsx)("div",{className:"theater-options",children:i.map((function(e,t){var a=e.theater,n=e.location,c=e.theaterID;return Object(m.jsx)("div",{id:c,children:Object(m.jsx)("div",{className:"modal__option",onClick:o,id:t,children:"".concat(a,", ").concat(n)})},Object(g.a)())}))}),Object(m.jsx)("div",{children:a.length>0?Object(m.jsx)(ke,{comments:a}):Object(m.jsx)("h3",{children:"No comments"})})]})}var ye=function(e,t){return{type:"LOGIN",user:e,isAdmin:t}},we=function(e){return{type:"SET_LOCATION",location:e}},_e=function(e){var t=Object(n.useContext)(x).userDataDispatch,a=Object(n.useContext)(p).modalDataDispatch,c=Object(n.useContext)(I).contentDataDispatch,s=Object(n.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],v=Object(n.useState)(!1),h=Object(l.a)(v,2),O=h[0],f=h[1],g=Object(n.useState)(!0),D=Object(l.a)(g,2),N=D[0],k=D[1],C=Object(n.useState)(!0),S=Object(l.a)(C,2),A=S[0],T=S[1],M=Object(n.useState)(""),L=Object(l.a)(M,2),E=L[0],P=L[1];Object(n.useEffect)((function(){""!==e.errorMessage&&P(e.errorMessage)}),[e.errorMessage]);var R=function(){var e=Object(w.a)(y.a.mark((function e(n){var s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,F({email:i,password:j,isAdmin:O});case 4:if(s=e.sent,t(ye(s,O)),!O){e.next=11;break}return e.next=9,W(s.token);case 9:r=e.sent,c(_(r));case 11:a({type:"CLEAR"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),P(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"login-form",children:[Object(m.jsx)("h3",{children:"Login"}),""!==E&&Object(m.jsx)("div",{className:"error-message",children:E}),Object(m.jsxs)("form",{className:"login-form",onSubmit:R,children:[Object(m.jsx)("input",{placeholder:"Email",onBlur:function(e){var t=e.target.value.trim();""===t?(o(""),k(!1)):(o(t),k(!0))}}),!N&&Object(m.jsx)("div",{className:"invalid-message",children:"You must enter your Email."}),Object(m.jsx)("input",{type:"password",placeholder:"Password",onBlur:function(e){var t=e.target.value.trim();b(""===t?"":t),T(""!==t)}}),!A&&Object(m.jsx)("div",{className:"invalid-message",children:"You must enter your password."}),Object(m.jsxs)("div",{className:"login-admin",children:[Object(m.jsx)("input",{type:"checkbox",onChange:function(e){f(e.target.checked)}}),"Login as admin"]}),Object(m.jsxs)("div",{className:"login-form__nav",children:[Object(m.jsx)("button",{type:"submit",disabled:""===i||""===j,children:"Submit"}),Object(m.jsx)("div",{className:"login-or-subscribe",onClick:function(){e.setIsLoginMode(!1)},children:"Subscribe"})]})]})]})},Se=a(8),Ae=a(55),Ie=a.n(Ae),Te=function(e){var t=Object(n.useContext)(x),a=t.userData,c=t.userDataDispatch,s=Object(n.useContext)(p).modalDataDispatch,r=Object(n.useContext)(I).contentDataDispatch,i=Object(n.useState)(["","","",""]),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(n.useState)(["","","",""]),v=Object(l.a)(b,2),h=v[0],O=v[1],f=Object(n.useState)([!1,!1,!1,!1]),g=Object(l.a)(f,2),D=g[0],N=g[1],k=Object(n.useState)(""),C=Object(l.a)(k,2),S=C[0],A=C[1],T=Object(n.useState)(""),M=Object(l.a)(T,2),L=M[0],E=M[1],P=Object(n.useState)(""),F=Object(l.a)(P,2),U=F[0],B=F[1],Y=function(e,t,a,n){var c=Object(Se.a)(h),s=Object(Se.a)(d),r=Object(Se.a)(D);c[n]=e,O(c),s[n]=t,j(s),r[n]=a,N(r)},q=function(e,t,a,n,c,s){e.length>0?a(e)?(Y("","",!0,t),n(e)):Y(s,"input-invalid",!1,t):Y(c,"input-invalid",!1,t)},V=function(){var t=Object(w.a)(y.a.mark((function t(n){var i,o,l,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,i={email:S,password:L,name:U,isAdmin:!e.partOfLogin},t.next=5,R(i);case 5:if(o=t.sent,!e.partOfLogin){t.next=10;break}c(ye(o,!1)),t.next=14;break;case 10:return t.next=12,W(a.token);case 12:l=t.sent,r(_(l));case 14:s({type:"CLEAR"}),s(u({elementName:"ApprovalMessage",props:{message:"Account successfully added!"}})),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(1),(d=["","","",""])[t.t0.index||3]=t.t0.message,O(d);case 23:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"login-form",children:[Object(m.jsx)("h3",{children:"Subscribe"}),Object(m.jsxs)("form",{onSubmit:V,children:[Object(m.jsx)("input",{placeholder:"Username",className:d[0],onBlur:function(e){var t=e.target.value.trim();q(t,0,(function(e){return!0}),B,"You must enter username","Username could not be MOSHE!!!")}}),""!==h[0]&&Object(m.jsx)("div",{className:"invalid-message",children:h[0]}),Object(m.jsx)("input",{placeholder:"Email",className:d[1],onBlur:function(e){var t=e.target.value.trim();q(t,1,Ie.a.isEmail,A,"You must enter your email","Email invalid")}}),""!==h[1]&&Object(m.jsx)("div",{className:"invalid-message",children:h[1]}),Object(m.jsx)("input",{type:"password",placeholder:"Password",className:d[2],onBlur:function(e){var t=e.target.value.trim();q(t,2,(function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(e)}),E,"You must enter password","Password must contain capital and regular characters, numbers and must have at least 8 characters")}}),""!==h[2]&&Object(m.jsx)("div",{className:"invalid-message",children:h[2]}),Object(m.jsx)("input",{type:"password",placeholder:"Repeat on password",className:d[3],onBlur:function(e){var t=e.target.value.trim();q(t,3,(function(){return L===t}),(function(){}),"You must enter again your password","The two passwords not identical")}}),""!==h[3]&&Object(m.jsx)("div",{className:"invalid-message",children:h[3]}),Object(m.jsxs)("div",{className:"login-form__nav",children:[Object(m.jsx)("button",{type:"submit",disabled:D.includes(!1),children:"Submit"}),e.partOfLogin&&Object(m.jsx)("div",{className:"login-or-subscribe",onClick:function(){e.setIsLoginMode(!0)},children:"Login"})]})]})]})},Me=function(e){var t,a,c=(null===e||void 0===e||null===(t=e.location)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.needToLogin)?"You need to login":"",s=Object(n.useState)(!0),r=Object(l.a)(s,2),i=r[0],o=r[1];return Object(m.jsx)("div",{className:"login-page",children:Object(m.jsx)("div",{className:"login-page__form",children:i?Object(m.jsx)(_e,{setIsLoginMode:o,errorMessage:c}):Object(m.jsx)(Te,{setIsLoginMode:o,partOfLogin:!0})})})};function Le(e){var t=e.sections,a=Object(n.useContext)(p).modalDataDispatch,c=function(e){var n=t[e.target.id],c=n.elementName,s=n.props;a(u({elementName:c,props:s}))};return Object(m.jsx)("div",{className:"menu__container",children:t.length>0&&t.map((function(e,t){var a=e.title;return Object(m.jsx)("button",{onClick:c,id:t,children:a},Object(g.a)())}))})}function Ee(e){var t=e.itemType,a=e.getItems,c=e.inputType,s=e.setAbleSubmit,r=e.getItemsParams,i=e.isChecked,o=e.setIsChecked,u=a(r),d=Object(n.useState)(Object(Se.a)(u)),j=Object(l.a)(d,2),b=j[0],p=j[1],v=function(e){var t=e.target.id;if("radio"===c){var a={};a[t]=!0,s(!0),o(a)}else if("checkbox"===c)if(e.target.checked){var n=i;n[t]=!0,o(n),s(!0)}else{var r=i;delete r[t],o(r),s(Object.keys(r).length>0)}};return Object(m.jsxs)("div",{className:"item-query",children:[Object(m.jsx)("div",{className:"query",children:Object(m.jsx)("input",{placeholder:"Find "+t,onInput:function(e){var t=e.target.value;if(""===t)p(u),s(Object.keys(i).length>0);else{var a=u.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));p(a),s(Object.keys(i).length>0&&a.length>0)}}})}),Object(m.jsx)("div",{className:"options__container",children:b.length>0&&b.map((function(e){return Object(m.jsxs)("div",{className:"query__option",children:[Object(m.jsx)("input",{id:e.id,type:c,onChange:v,checked:!!i[e.id]})," ",e.name]},Object(g.a)())}))})]})}function Pe(e){var t=e.itemType,a=e.getItems,c=e.getItemsParams,s=e.onSubmitFunc,r=e.adjustType,i=Object(n.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(n.useState)({}),b=Object(l.a)(j,2),p=b[0],v=b[1],h=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=O(r),e.next=3,s(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){switch(e){case"Update":return Object.keys(p)[0];default:return Object.keys(p)}};return Object(m.jsxs)("div",{className:"update-item",children:[Object(m.jsx)(Ee,{itemType:t,getItems:a,inputType:function(e){switch(e){case"Update":return"radio";default:return"checkbox"}}(r),isChecked:p,setIsChecked:v,setAbleSubmit:d,getItemsParams:c}),Object(m.jsxs)("div",{className:"update-item__buttons",children:[Object(m.jsx)("button",{onClick:function(){v({}),d(!1)},children:"Clear"}),Object(m.jsx)("button",{disabled:!u,onClick:h,children:r})]})]})}function Fe(){var e=Object(n.useContext)(p).modalDataDispatch,t=Object(n.useContext)(I).contentData;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Pick a movie:"}),Object(m.jsx)(Pe,{itemType:"Movies",getItems:z,getItemsParams:t.moviesData,onSubmitFunc:function(t){e(u({elementName:"UpdateMovieStats",props:{id:t}}))},adjustType:"Update"})]})}function Re(e){var t=e.clickLoactionFunc,a=Object(n.useContext)(I).contentData.locationsData,c=function(e){var a=e.target.innerText;t(a)};return Object(m.jsxs)("div",{className:"pick-location__container",children:[Object(m.jsx)("h3",{children:"Pick a location:"}),Object(m.jsx)("div",{children:a.length>0&&a.map((function(e){return Object(m.jsx)("div",{className:"modal__option",onClick:c,children:e},Object(g.a)())}))})]})}function Ue(){var e=Object(n.useContext)(p).modalDataDispatch,t=Object(n.useContext)(I).contentData,a=function(){};return Object(m.jsx)(Re,{clickLoactionFunc:function(n){e(u({elementName:"UpdateItem",props:{itemType:"Theaters",getItems:se,onSubmit:a,getItemsParams:{location:n,theaters:t.theatersData},elementName:"UpdateTheaterStats"}}))}})}function Be(e){var t=e.itemType,a=e.getItems,c=e.elementName,s=e.getItemsParams,r=Object(n.useContext)(p).modalDataDispatch,i=Object(n.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(n.useState)({}),v=Object(l.a)(b,2),h=v[0],O=v[1];return Object(m.jsxs)("div",{className:"update-item",children:[Object(m.jsx)(Ee,{itemType:t,getItems:a,inputType:"radio",isChecked:h,setIsChecked:O,setAbleSubmit:j,getItemsParams:s}),Object(m.jsxs)("div",{className:"update-item__buttons",children:[Object(m.jsx)("button",{onClick:function(){O({}),j(!1)},children:"Clear"}),Object(m.jsx)("button",{disabled:!d,onClick:function(){r(u({elementName:c,props:{id:Object.keys(h)[0]}}))},children:"Update"})]})]})}function We(e){var t=e.id,a=Object(n.useContext)(p).modalDataDispatch,c=Object(n.useContext)(I).contentData,s=ne(t,c.theatersData),r=s.name,i=s.movies,o=s.seats,d=Object(n.useState)(r),j=Object(l.a)(d,2),b=j[0],v=j[1],h=Object(n.useState)(o),O=Object(l.a)(h,2),x=O[0],f=O[1],D=Object(n.useState)(i),N=Object(l.a)(D,2),k=N[0],C=N[1],y=[v,f],w=Object(n.useState)(!1),_=Object(l.a)(w,2),S=_[0],A=_[1],T=c.moviesData,M=Object(n.useState)(Object(Se.a)(T)),L=Object(l.a)(M,2),E=L[0],P=L[1],F=function(e){var t=e.target.parentElement.id,a=Object(Se.a)(k);a.splice(t,1),C(a),A(S||0===a.length)},R=function(e){var t=k.indexOf(e.target.id),a=Object(Se.a)(k);t>=0?(a.splice(t,1),C(a)):(a.push(e.target.id),C(a))},U=function(e){var t=e.target.id,a=e.target.value;y[t](a)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:["Theater Name: ",Object(m.jsx)("input",{id:"0",value:b,onChange:U})]}),Object(m.jsxs)("div",{children:["Seats: ",Object(m.jsx)("input",{id:"1",value:x,type:"number",onChange:U})]}),Object(m.jsxs)("div",{className:"movies-in-theater",children:[k.map((function(e,t){var a=Z(e,c.moviesData).name;return Object(m.jsxs)("div",{className:"listed-movie",id:t,onClick:F,children:[Object(m.jsx)("div",{className:"remove",children:"Remove"}),a]},Object(g.a)())})),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"add-more-movies",onClick:function(){A(!S)},children:"Show "+(S?"Less":"More")+" Movies"}),S&&Object(m.jsxs)("div",{className:"more-movies-container",children:[Object(m.jsx)("div",{className:"query",children:Object(m.jsx)("input",{placeholder:"Find Movies",onInput:function(e){var t=e.target.value;if(""===t)P(T);else{var a=T.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));P(a)}}})}),E.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:e.id,type:"checkBox",checked:k.indexOf(e.id)>=0,onChange:R}),e.name]},Object(g.a)())}))]})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:function(){var e={name:b,seats:parseInt(x),movies:k};a(u({elementName:"UpdateAvailableTimeSlots",props:{oldMoviesList:i,theaterDetails:e,id:t}}))},disabled:0===k.length,children:"Update Available Time Slots"})})]})}var Ye={hours:[]},qe=function(e,t){switch(t.type){case"SET":return Object(d.a)(Object(d.a)({},e),{},{hours:t.hours});default:return Object(d.a)({},e)}},Ve=Object(n.createContext)(),Ge=function(e){var t=Object(n.useReducer)(qe,Ye),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(m.jsx)(Ve.Provider,{value:{hoursData:c,hoursDataDispatch:s},children:e.children})};function ze(e){var t=e.removeHour,a=e.id,c=Object(n.useContext)(Ve).hoursData;Object(n.useEffect)((function(){}),[c.hours]);return Object(m.jsxs)("div",{className:"add-time-slot__hour",onClick:function(e){t(e,c.hours)},id:a,children:[Object(m.jsxs)("select",{children:[Object(m.jsx)("option",{children:"09"}),Object(m.jsx)("option",{children:"10"}),Object(m.jsx)("option",{children:"11"}),Object(m.jsx)("option",{children:"12"}),Object(m.jsx)("option",{children:"13"}),Object(m.jsx)("option",{children:"14"}),Object(m.jsx)("option",{children:"15"}),Object(m.jsx)("option",{children:"16"}),Object(m.jsx)("option",{children:"17"}),Object(m.jsx)("option",{children:"18"}),Object(m.jsx)("option",{children:"19"}),Object(m.jsx)("option",{children:"20"})]}),Object(m.jsxs)("select",{children:[Object(m.jsx)("option",{children:"00"}),Object(m.jsx)("option",{children:"30"})]})]})}var He=function(e){return{type:"SET",hours:e}};function Ze(e){var t=e.movieTimeSlots,a=e.seats,c=e.setTimeSlots,s=e.index,r=e.newTimeSlots,i=Object(n.useContext)(I).contentData,o=Object(n.useContext)(Ve),u=o.hoursData,d=o.hoursDataDispatch,j=Z(t.movieID,i.moviesData).name,b=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],p=function(e){var t,a=[],n=Object(M.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.push(parseInt(Object.keys(c)[0])-1)}}catch(s){n.e(s)}finally{n.f()}return a},v=t.slots,h=Object(n.useState)(Object(Se.a)(v)),O=Object(l.a)(h,2),x=O[0],f=O[1],D=Object(n.useState)(p(x)),k=Object(l.a)(D,2),C=k[0],y=k[1],w=Object(n.useState)(!1),_=Object(l.a)(w,2),S=_[0],A=_[1],T=Object(n.useState)("Pick A Day"),L=Object(l.a)(T,2),E=L[0],P=L[1];Object(n.useEffect)((function(){f(r[s].slots)}),[r,s]);var F=function(e){for(var t=[],a=0;a<e;a++)t.push(!0);return t},R=function(e,t){var a;if(null===(a=e.target.children[0])||void 0===a?void 0:a.children[0]){var n=t.filter((function(t){return t.props.id===e.target.id}))[0],c=t.indexOf(n),s=[].concat(t.slice(0,c),t.slice(c+1)||[]);d(He(s))}e.stopPropagation()};return Object(m.jsxs)("div",{className:"update-time-slot__container",children:[Object(m.jsx)("h3",{children:j}),Object(m.jsx)("div",{className:"update-time-slot__timeslots",children:x.length>0&&x.map((function(e){return Object(m.jsx)(N,{slot:e,onClickFunc:function(){}},Object(g.a)())}))}),!!S&&Object(m.jsxs)("div",{className:"add-day__container",children:[Object(m.jsxs)("select",{onChange:function(e){P(e.target.value)},value:E,children:[Object(m.jsx)("option",{children:"Pick A Day"}),b.filter((function(e,t){return!C.includes(t)})).map((function(e){return Object(m.jsx)("option",{children:e},Object(g.a)())}))]}),Object(m.jsx)("div",{className:"add-time-slot",children:u.hours.length>0&&u.hours.map((function(e){return e}))}),Object(m.jsx)("div",{className:"add-time-slot__add-hour",onClick:function(){d(He([].concat(u.hours,Object(m.jsx)(ze,{removeHour:R,id:Object(g.a)()},Object(g.a)()))))},children:"+"}),Object(m.jsx)("button",{className:"add-day__submit",onClick:function(e){var t=e.target.parentElement.firstChild.value,n=b.indexOf(t)+1,r=function(e){var t,n=[],c=Object(M.a)(e);try{for(c.s();!(t=c.n()).done;){var s=t.value,r={},i=parseInt(s.children[0].value),o=s.children[1].value;r.startTime="".concat(i,":").concat(o),r.endTime="".concat(i+3,":").concat(o),r.seats=F(a),n.push(r)}}catch(u){c.e(u)}finally{c.f()}return n.sort((function(e,t){var a=e.startTime.split(":"),n=t.startTime.split(":");return parseInt(a[0])>parseInt(n[0])})),n}(e.target.parentElement.children[1].children),i={};i[n]=r;var o=x;o.push(i),o.sort((function(e,t){return Object.keys(e)[0]>Object.keys(t)[0]})),console.log(o),f(Object(Se.a)(o)),d(He([])),y(p(o)),A(!1),c(s,o)},disabled:!u.hours.length>0||"Pick A Day"===E,children:"Add"})]}),Object(m.jsx)("button",{className:"add-day__button",onClick:function(){A(C.length<7)},disabled:S||C.length>6,children:"Add Day"})]})}function Je(e){var t=e.oldMoviesList,a=e.theaterDetails,c=e.id,s=Object(n.useContext)(p).modalDataDispatch,r=Object(n.useContext)(x).userData,i=Object(n.useContext)(I),o=i.contentData,d=i.contentDataDispatch,j=Object(n.useState)(""),b=Object(l.a)(j,2),v=b[0],h=b[1],O=function(e,t,a){var n=[],c=a.filter((function(t){return t.theater===e}));return t.forEach((function(e){var t,a=null===(t=c.filter((function(t){return t.owner===e}))[0])||void 0===t?void 0:t.slots;n.push({movieID:e,slots:a||[]})})),n||[]}(c,a.movies,o.availabilityData),f=Object(n.useState)(Object(Se.a)(O)),D=Object(l.a)(f,2),N=D[0],k=D[1],C=Object(n.useState)(!1),S=Object(l.a)(C,2),A=S[0],T=S[1],L=function(e,t){var a=Object(Se.a)(N);a[e].slots=t,a[e].hasOpenSeats=!0,k(a)};Object(n.useEffect)((function(){var e,t=!0,a=Object(M.a)(N);try{for(a.s();!(e=a.n()).done;){0===e.value.slots.length&&(t=!1),T(t)}}catch(n){a.e(n)}finally{a.f()}}),[N]);var E=function(){var e=Object(w.a)(y.a.mark((function e(){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(""),e.next=4,ie(r.token,c,t,a,N);case 4:return console.log(N,t,a),e.next=7,pe("theaters");case 7:return n=e.sent,e.next=10,pe("timeslots");case 10:i=e.sent,d(_({theatersData:n,availabilityData:i})),s({type:"CLEAR"}),s(u({elementName:"ApprovalMessage",props:{message:"TimeSlots updated!"}})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0.response?h(e.t0.response.data.message):h(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"update-available-timeslots",children:[O.length>0&&O.map((function(e,t){return Object(m.jsx)(Ge,{children:Object(m.jsx)(Ze,{movieTimeSlots:e,seats:a.seats,setTimeSlots:L,index:t,newTimeSlots:N})},Object(g.a)())})),Object(m.jsx)("button",{disabled:!A,onClick:E,children:"Update Theater"}),""!==v&&Object(m.jsx)("div",{className:"error-message",children:v})]})}function Ke(){var e=Object(n.useContext)(p).modalDataDispatch,t=Object(n.useContext)(I),a=t.contentData,c=t.contentDataDispatch,s=Object(n.useContext)(x).userData,r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),v=b[0],h=b[1],O=function(){var t=Object(w.a)(y.a.mark((function t(){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h(""),le(o,a.locationsData)){t.next=17;break}return t.prev=2,t.next=5,oe(s.token,o);case 5:return t.next=7,pe("locations");case 7:n=t.sent,c(_({locationsData:n})),e(u({elementName:"AddNewTheaterStats",props:{location:o}})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),h((null===(r=t.t0.response)||void 0===r?void 0:r.data.message)||t.t0.message);case 15:t.next=18;break;case 17:h("Location already exists!");case 18:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Enter Location name:"}),Object(m.jsx)("input",{onInput:function(e){""!==v&&h(""),d(e.target.value)}}),Object(m.jsx)("button",{onClick:O,disabled:""===o,children:"Add"}),!!v&&Object(m.jsx)("div",{className:"error-message",children:v})]})}function Qe(){var e=Object(n.useContext)(p).modalDataDispatch;return Object(m.jsx)(Re,{clickLoactionFunc:function(t){e(u({elementName:"AddNewTheaterStats",props:{location:t}}))}})}function $e(e){var t=e.theaterID,a=e.onClickSubmitFunc,c=e.submitText,s=Object(n.useContext)(I).contentData,r=ne(t),i=r.name,o=r.movies,u=r.seats,d=Object(n.useState)(i),j=Object(l.a)(d,2),b=j[0],p=j[1],v=Object(n.useState)(u),h=Object(l.a)(v,2),O=h[0],x=h[1],f=Object(n.useState)(o),D=Object(l.a)(f,2),N=D[0],k=D[1],C=[p,x],_=Object(n.useState)(!1),S=Object(l.a)(_,2),A=S[0],T=S[1],M=s.moviesData,L=Object(n.useState)(Object(Se.a)(M)),E=Object(l.a)(L,2),P=E[0],F=E[1],R=function(e){var t=e.target.parentElement.id,a=Object(Se.a)(N);a.splice(t,1),k(a),T(A||0===a.length)},U=function(e){var t=N.indexOf(e.target.id),a=Object(Se.a)(N);t>=0?(a.splice(t,1),k(a)):(a.push(e.target.id),k(a))},B=function(e){var t=e.target.id,a=e.target.value;C[t](a)},W=function(){var e=Object(w.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:b,seats:parseInt(O),movies:N},e.prev=1,e.next=4,a(n,t,o);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:["Theater Name: ",Object(m.jsx)("input",{id:"0",value:b,onChange:B})]}),Object(m.jsxs)("div",{children:["Seats: ",Object(m.jsx)("input",{id:"1",value:O,type:"number",onChange:B})]}),Object(m.jsxs)("div",{className:"movies-in-theater",children:[N.map((function(e,t){var a=Z(e,s.moviesData).name;return Object(m.jsxs)("div",{className:"listed-movie",id:t,onClick:R,children:[Object(m.jsx)("div",{className:"remove",children:"Remove"}),a]},Object(g.a)())})),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{className:"add-more-movies",onClick:function(){T(!A)},children:"Show "+(A?"Less":"More")+" Movies"}),A&&Object(m.jsxs)("div",{className:"more-movies-container",children:[Object(m.jsx)("div",{className:"query",children:Object(m.jsx)("input",{placeholder:"Find Movies",onInput:function(e){var t=e.target.value;if(""===t)F(M);else{var a=M.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));F(a)}}})}),P.map((function(e,t){return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:e.id,type:"checkBox",checked:N.indexOf(e.id)>=0,onChange:U}),e.name]},Object(g.a)())}))]})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:W,disabled:0===N.length||""===b||!O>0,children:c})})]})}function Xe(e){var t=e.location,a=Object(n.useContext)(x).userData,c=Object(n.useContext)(I),s=c.contentData,r=c.contentDataDispatch,i=Object(n.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),p=b[0],v=b[1],h=function(){var e=Object(w.a)(y.a.mark((function e(n){var c,i,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(""),ce(n.name,t,s.theatersData)){e.next=19;break}return(c=n).location=t,d(!1),e.prev=5,e.next=8,te(a.token,c);case 8:return e.next=10,pe("theaters");case 10:i=e.sent,r(_({theatersData:i})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),v((null===(o=e.t0.response)||void 0===o?void 0:o.data.message)||e.t0.message);case 17:e.next=20;break;case 19:v("Theater already exists!");case 20:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add-new-theater__container",children:[Object(m.jsxs)("button",{onClick:function(){d(!u),v("")},children:[u?"-":"+"," New Theater"]}),u&&Object(m.jsx)("div",{className:"add-new-theater-form",children:Object(m.jsx)($e,{theaterID:Object(g.a)(),submitText:"Add Theater",onClickSubmitFunc:h})}),!!p&&Object(m.jsx)("div",{className:"error-message",children:p})]})}function et(){var e=Object(n.useContext)(p).modalDataDispatch,t=Object(n.useContext)(I).contentDataDispatch,a=Object(n.useContext)(x).userData,c=function(){var n=Object(w.a)(y.a.mark((function n(c){var s,r,i,o;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ue(a.token,c);case 3:return n.next=5,pe("locations");case 5:return s=n.sent,n.next=8,pe("theaters");case 8:return r=n.sent,n.next=11,pe("timeslots");case 11:i=n.sent,t(_({locationsData:s,theatersData:r,availabilityData:i})),e({type:"CLEAR"}),e(u({elementName:"ApprovalMessage",props:{message:"Location deleted!"}})),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log((null===(o=n.t0.response)||void 0===o?void 0:o.data.message)||n.t0.message);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e){return n.apply(this,arguments)}}();return Object(m.jsx)(Re,{clickLoactionFunc:function(t){e(u({elementName:"ConfirmDelete",props:{onDeleteFunc:c,items:[t],onDeleteFuncData:t}}))}})}function tt(e){var t=e.onDeleteFunc,a=e.onDeleteFuncData,c=e.items,s=Object(n.useContext)(p).modalDataDispatch,r=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(a);case 2:s({type:"CLEAR"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Are you sure you want to delete:"}),Object(m.jsx)("div",{children:c.length>0&&c.map((function(e,t){var a=t===c.length-1?".":", ";return"".concat(e).concat(a)}))}),Object(m.jsxs)("div",{className:"update-item__buttons",children:[Object(m.jsx)("button",{className:"delete-button",onClick:r,children:"Delete"}),Object(m.jsx)("button",{onClick:function(){s({type:"CLEAR"})},children:"Cancel"})]})]})}function at(){var e=Object(n.useContext)(p).modalDataDispatch;return Object(m.jsx)(Re,{clickLoactionFunc:function(t){e(u({elementName:"DeleteTheaters",props:{location:t}}))}})}function nt(e){var t=e.location,a=Object(n.useContext)(p).modalDataDispatch,c=Object(n.useContext)(I),s=c.contentData,r=c.contentDataDispatch,i=Object(n.useContext)(x).userData,o=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae(i.token,t);case 3:return e.next=5,pe("theaters");case 5:return n=e.sent,e.next=8,pe("timeslots");case 8:c=e.sent,r(_({theatersData:n,availabilityData:c})),a({type:"CLEAR"}),a(u({elementName:"ApprovalMessage",props:{message:"Theaters deleted!"}})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log((null===(s=e.t0.response)||void 0===s?void 0:s.data.message)||e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)(Pe,{itemType:"Theaters",getItems:se,getItemsParams:{location:t,theaters:s.theatersData},onSubmitFunc:function(e){var n=e.map((function(e){var a=ne(e).name;return"".concat(a," - ").concat(t)}));a(u({elementName:"ConfirmDelete",props:{onDeleteFunc:o,items:n,onDeleteFuncData:e}}))},adjustType:"Delete"})}function ct(e){var t=e.picture,a=e.setPicture,n=e.onInputText,c=e.pictureValue,s=e.setPictureValue,r=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.previousSibling,c=n.value,a(c);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:["Picture:",Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{id:"3",onInput:n}),!t&&Object(m.jsx)("button",{onClick:r,disabled:!c,children:"Add"})]}),!!t&&Object(m.jsxs)("div",{className:"image-preview__container",children:[Object(m.jsx)("img",{className:"image-preview",src:t,alt:"article_picture"}),Object(m.jsx)("button",{onClick:function(e){e.target.parentElement.previousSibling.children[0].value="",a(null),s(null)},children:"Clear"})]})]})}function st(){var e=Object(n.useContext)(x).userData,t=Object(n.useContext)(p).modalDataDispatch,a=Object(n.useContext)(I).contentDataDispatch,c=Object(n.useState)(""),s=Object(l.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),j=d[0],b=d[1],v=Object(n.useState)(""),h=Object(l.a)(v,2),O=h[0],f=h[1],g=Object(n.useState)(null),D=Object(l.a)(g,2),N=D[0],k=D[1],C=Object(n.useState)(null),S=Object(l.a)(C,2),A=S[0],T=S[1],M=[i,b,f,T],L=Object(n.useState)(""),E=Object(l.a)(L,2),P=E[0],F=E[1],R=function(e){""!==P&&F("");var t=e.target.id,a=e.target.value;M[t](a)},U=function(){var n=Object(w.a)(y.a.mark((function n(){var c;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,de(e.token,{name:r,subTitle:j,article:O,picture:N});case 3:return t({type:"CLEAR"}),n.next=6,pe("articles");case 6:c=n.sent,a(_({newsData:c})),t(u({elementName:"ApprovalMessage",props:{message:"Article Added!"}})),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response?F(n.t0.response.data.message):F(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(){return n.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add-article",children:["Title:",Object(m.jsx)("input",{id:"0",onInput:R}),"Sub-Title:",Object(m.jsx)("input",{id:"1",onInput:R}),"Article:",Object(m.jsx)("textarea",{id:"2",onInput:R}),Object(m.jsx)(ct,{picture:N,setPicture:k,onInputText:R,pictureValue:A,setPictureValue:T}),Object(m.jsx)("button",{disabled:!r||!j||!O,onClick:U,children:"Add Article"}),""!==P&&Object(m.jsx)("div",{className:"error-message",children:P})]})}function rt(){var e=Object(n.useContext)(I).contentData;return Object(m.jsx)(Be,{getItems:ve,getItemsParams:e.newsData,itemType:"Articles",elementName:"UpdateArticleStats"})}function it(e){var t=e.id,a=Object(n.useContext)(I),c=a.contentData,s=a.contentDataDispatch,r=Object(n.useContext)(x).userData,i=Object(n.useContext)(p).modalDataDispatch,o=he(t,c.newsData),d=o.name,j=o.subTitle,b=o.article,v=o.picture,h=Object(n.useState)(d),O=Object(l.a)(h,2),f=O[0],g=O[1],D=Object(n.useState)(j),N=Object(l.a)(D,2),k=N[0],C=N[1],S=Object(n.useState)(b),A=Object(l.a)(S,2),T=A[0],M=A[1],L=Object(n.useState)(v||""),E=Object(l.a)(L,2),P=E[0],F=[g,C,M,E[1]],R=Object(n.useState)(""),U=Object(l.a)(R,2),B=U[0],W=U[1],Y=function(e){var t=e.target.id,a=e.target.value;F[t](a)},q=function(){var e=Object(w.a)(y.a.mark((function e(){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W(""),e.next=4,je(t,{name:f,subTitle:k,article:T,picture:P},r.token);case 4:return e.next=6,pe("articles");case 6:a=e.sent,s(_({newsData:a})),i(u({elementName:"ApprovalMessage",props:{message:"Article Updated!"}})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),W(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add-article",children:["Title:",Object(m.jsx)("input",{value:f,id:"0",onInput:Y}),"Sub-Title:",Object(m.jsx)("textarea",{value:k,id:"1",onInput:Y}),"Article:",Object(m.jsx)("textarea",{value:T,id:"2",onInput:Y}),"Picture:",Object(m.jsx)("input",{value:P,id:"3",onInput:Y}),Object(m.jsx)("button",{onClick:q,disabled:!f||!k||!T,children:"Update"}),""!==B&&Object(m.jsx)("div",{className:"error-message",children:B})]})}function ot(e){var t=e.itemType,a=e.getItems,c=e.getItemsParams,s=e.onSubmitFunc,r=Object(n.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(n.useState)({}),j=Object(l.a)(d,2),b=j[0],p=j[1];return Object(m.jsxs)("div",{className:"update-item",children:[Object(m.jsx)(Ee,{itemType:t,getItems:a,inputType:"checkbox",isChecked:b,setIsChecked:p,setAbleSubmit:u,getItemsParams:c}),Object(m.jsxs)("div",{className:"update-item__buttons",children:[Object(m.jsx)("button",{onClick:function(){p({}),u(!1)},children:"Clear"}),Object(m.jsx)("button",{disabled:!o,onClick:function(){var e=Object.keys(b);s(e)},children:"Delete"})]})]})}function ut(){var e=Object(n.useContext)(x).userData,t=Object(n.useContext)(p).modalDataDispatch,a=Object(n.useContext)(I),c=a.contentData,s=a.contentDataDispatch,r=function(){var a=Object(w.a)(y.a.mark((function a(n){var c,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,be(e.token,n);case 3:return a.next=5,pe("articles");case 5:c=a.sent,s(_({newsData:c})),t({type:"CLEAR"}),t(u({elementName:"ApprovalMessage",props:{message:"Articles deleted!"}})),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t(u({elementName:"ApprovalMessage",props:{message:(null===(r=a.t0.response)||void 0===r?void 0:r.data.message)||a.t0.message}}));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}();return Object(m.jsx)(ot,{getItems:ve,getItemsParams:c.newsData,itemType:"Articles",onSubmitFunc:function(e){var a=e.map((function(e){return he(e,c.newsData).name}));t(u({elementName:"ConfirmDelete",props:{onDeleteFunc:r,items:a,onDeleteFuncData:e}}))}})}function lt(){var e=Object(n.useContext)(p).modalDataDispatch,t=Object(n.useContext)(x).userData,a=Object(n.useContext)(I),c=a.contentData,s=a.contentDataDispatch,r=Object(n.useState)(""),i=Object(l.a)(r,2),o=i[0],d=i[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),v=b[0],h=b[1],O=Object(n.useState)(""),f=Object(l.a)(O,2),g=f[0],D=f[1],N=Object(n.useState)(""),k=Object(l.a)(N,2),C=k[0],S=k[1],A=Object(n.useState)(null),T=Object(l.a)(A,2),M=T[0],L=T[1],E=Object(n.useState)(null),P=Object(l.a)(E,2),F=P[0],R=P[1],U=[h,S,D,R],B=function(e){d("");var t=e.target.id,a=e.target.value;U[t](a)},W=function(){var a=Object(w.a)(y.a.mark((function a(){var n,r;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(d(""),!H(v,c.moviesData)){a.next=5;break}d("Movie already exists!"),a.next=19;break;case 5:return a.prev=5,a.next=8,q({name:v,description:C,comments:[],ratings:{critics:g,audience:NaN,numOfRatings:0},picture:M},t.token);case 8:return n=a.sent,a.next=11,pe("movies");case 11:r=a.sent,s(_({moviesData:r})),e(u({elementName:"AddMovieTimeSlots",props:{id:n}})),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(5),a.t0.response?d(a.t0.response.data.message):d(a.t0.message);case 19:case"end":return a.stop()}}),a,null,[[5,16]])})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add-movie",children:["Name:",Object(m.jsx)("input",{id:"0",onInput:B}),"Description:",Object(m.jsx)("input",{id:"1",onInput:B}),"Critics: ",Object(m.jsx)("input",{type:"number",id:"2",onInput:B}),Object(m.jsx)(ct,{picture:M,setPicture:L,onInputText:B,pictureValue:F,setPictureValue:R}),Object(m.jsx)("button",{disabled:!v||!g||!C||g<=0||g>1,onClick:W,children:"Add Time Slots"}),!!o&&Object(m.jsx)("div",{className:"error-message",children:o})]})}function dt(){var e=Object(n.useContext)(p).modalDataDispatch,t=Object(n.useContext)(I),a=t.contentData,c=t.contentDataDispatch,s=Object(n.useContext)(x).userData,r=function(){var t=Object(w.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(a,s.token);case 2:return t.next=4,pe("movies");case 4:n=t.sent,c(_({moviesData:n})),e({type:"CLEAR"}),e(u({elementName:"ApprovalMessage",props:{message:"Movies Deleted"}}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Pick a movie:"}),Object(m.jsx)(Pe,{itemType:"Movies",getItems:z,getItemsParams:a.moviesData,onSubmitFunc:function(t){var n=t.map((function(e){return Z(e,a.moviesData).name}));e(u({elementName:"ConfirmDelete",props:{onDeleteFunc:r,items:n,onDeleteFuncData:t}}))},adjustType:"Delete"})]})}function jt(e){var t=e.id,a=Object(n.useContext)(p).modalDataDispatch,c=Object(n.useContext)(I).contentData;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Pick a theater:"}),Object(m.jsx)(Pe,{itemType:"Theaters",getItems:re,getItemsParams:c.theatersData,onSubmitFunc:function(e){a(u({elementName:"AddTimeSlots",props:{id:t,theaters:e}}))},adjustType:"Add"})]})}function bt(){var e=Object(n.useContext)(x).userData,t=Object(n.useContext)(p).modalDataDispatch,a=Object(n.useState)(""),c=Object(l.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(""),o=Object(l.a)(i,2),d=o[0],j=o[1],b=Object(n.useState)(""),v=Object(l.a)(b,2),h=v[0],O=v[1],f=Object(n.useState)(["",""]),g=Object(l.a)(f,2),D=g[0],N=g[1],k=Object(n.useState)(["",""]),C=Object(l.a)(k,2),_=C[0],S=C[1],A=Object(n.useState)([!1,!1]),I=Object(l.a)(A,2),T=I[0],M=I[1],L=function(e,t,a,n){var c=Object(Se.a)(_),s=Object(Se.a)(D),r=Object(Se.a)(T);c[n]=e,S(c),s[n]=t,N(s),r[n]=a,M(r)},E=function(e,t,a,n,c,s){e.length>0?a(e)?(L("","",!0,t),n(e)):L(s,"input-invalid",!1,t):L(c,"input-invalid",!1,t)},P=function(){var a=Object(w.a)(y.a.mark((function a(){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(""),a.prev=1,a.next=4,B(e.token,{currentPassword:d,newPassword:h},!0);case 4:t({type:"CLEAR"}),t(u({elementName:"ApprovalMessage",props:{message:"Password successfully updated!"}})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),r((null===(n=a.t0.response)||void 0===n?void 0:n.data.message)||"Server unavailable");case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"add-article",children:["Enter Current Password: ",Object(m.jsx)("input",{type:"password",id:"0",onInput:function(e){var t=e.target.value.trim();j(t)}}),"Enter New Password: ",Object(m.jsx)("input",{type:"password",id:"1",onBlur:function(e){var t=e.target.value.trim();E(t,0,(function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(e)}),O,"You must enter a new password","Password must contain capital and regular characters, numbers and must have at least 8 characters")}}),""!==_[0]&&Object(m.jsx)("div",{className:"invalid-message",children:_[0]}),"Re-Enter New Password: ",Object(m.jsx)("input",{type:"password",id:"2",onBlur:function(e){var t=e.target.value.trim();E(t,1,(function(){return h===t}),(function(){}),"You must enter again your new password","The two passwords not identical")}}),""!==_[1]&&Object(m.jsx)("div",{className:"invalid-message",children:_[1]}),Object(m.jsx)("button",{onClick:P,disabled:""===d||T.includes(!1),children:"Change Password"}),""!==s&&Object(m.jsx)("div",{className:"error-message",children:s})]})}function mt(){return Object(m.jsx)(Te,{partOflogin:!1})}function pt(){var e=Object(n.useContext)(x).userData,t=Object(n.useContext)(p).modalDataDispatch,a=Object(n.useContext)(I),c=a.contentData,s=a.contentDataDispatch,r=function(){var a=Object(w.a)(y.a.mark((function a(n){var c;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y(n,e.token);case 2:return a.next=4,W(e.token);case 4:c=a.sent,s(_(c)),t({type:"CLEAR"}),t(u({elementName:"ApprovalMessage",props:{message:"Accounts successfully deleted!"}}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(m.jsx)(Pe,{itemType:"Admin",getItems:function(){return c.adminsData.filter((function(t){return t.name!==e.activeUser}))},getItemsParams:void 0,onSubmitFunc:function(e){var a=e.map((function(e){var t;return(t=e,c.adminsData.filter((function(e){return e.id===t}))[0]).name}));t(u({elementName:"ConfirmDelete",props:{onDeleteFunc:r,items:a,onDeleteFuncData:e}}))},adjustType:"Delete"})}function vt(e){var t=e.theaterID,a=e.name,c=e.seats,s=e.setTimeSlots,r=e.index,i=Object(n.useContext)(Ve),o=i.hoursData,u=i.hoursDataDispatch,d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],j=function(e){var t,a=[],n=Object(M.a)(e[0]);try{for(n.s();!(t=n.n()).done;){var c=t.value;a.push(parseInt(Object.keys(c)[0])-1)}}catch(s){n.e(s)}finally{n.f()}return a},b=Object(n.useState)([].concat([[]])),p=Object(l.a)(b,2),v=p[0],h=p[1],O=Object(n.useState)(j(v)),x=Object(l.a)(O,2),f=x[0],D=x[1],k=Object(n.useState)(!1),C=Object(l.a)(k,2),y=C[0],w=C[1],_=Object(n.useState)("Pick A Day"),S=Object(l.a)(_,2),A=S[0],I=S[1],T=function(e){for(var t=[],a=0;a<e;a++)t.push(!0);return t},L=function(e,t){var a;if(null===(a=e.target.children[0])||void 0===a?void 0:a.children[0]){var n=t.filter((function(t){return t.props.id===e.target.id}))[0],c=t.indexOf(n),s=[].concat(t.slice(0,c),t.slice(c+1)||[]);console.log(s),u(He(s))}e.stopPropagation()};return Object(m.jsxs)("div",{className:"update-time-slot__container",children:[Object(m.jsx)("h3",{children:a}),Object(m.jsx)("div",{className:"update-time-slot__timeslots",children:v.length>0&&v[0].map((function(e){return Object(m.jsx)(N,{slot:e,onClickFunc:function(){}},Object(g.a)())}))}),!!y&&Object(m.jsxs)("div",{className:"add-day__container",children:[Object(m.jsxs)("select",{onChange:function(e){I(e.target.value)},value:A,children:[Object(m.jsx)("option",{children:"Pick A Day"}),d.filter((function(e,t){return!f.includes(t)})).map((function(e){return Object(m.jsx)("option",{children:e},Object(g.a)())}))]}),Object(m.jsx)("div",{className:"add-time-slot",children:o.hours.length>0&&o.hours.map((function(e){return e}))}),Object(m.jsx)("div",{className:"add-time-slot__add-hour",onClick:function(){u(He([].concat(o.hours,Object(m.jsx)(ze,{removeHour:L,id:Object(g.a)()},Object(g.a)()))))},children:"+"}),Object(m.jsx)("button",{className:"add-day__submit",onClick:function(e){var a=e.target.parentElement.firstChild.value,n=d.indexOf(a)+1,i=function(e){var t,a=[],n=Object(M.a)(e);try{for(n.s();!(t=n.n()).done;){var s=t.value,r={},i=parseInt(s.children[0].value),o=s.children[1].value;r.startTime="".concat(i,":").concat(o),r.endTime="".concat(i+3,":").concat(o),r.seats=T(c),a.push(r)}}catch(u){n.e(u)}finally{n.f()}return a.sort((function(e,t){var a=e.startTime.split(":"),n=t.startTime.split(":");return parseInt(a[0])>parseInt(n[0])})),a}(e.target.parentElement.children[1].children),o={};o[n]=i;var l=Object(Se.a)(v[0]);l.push(o),l.sort((function(e,t){return Object.keys(e)[0]>Object.keys(t)[0]})),h([l]),u(He([])),D(j([l])),w(!1),s(r,{theater:t,slots:l,hasOpenSeats:!0})},disabled:!o.hours.length>0||"Pick A Day"===A,children:"Add"})]}),Object(m.jsx)("button",{className:"add-day__button",onClick:function(){w(f.length<7)},disabled:y||f.length>6,children:"Add Day"})]})}function ht(e){var t=e.id,a=e.theaters,c=Object(n.useContext)(p).modalDataDispatch,s=Object(n.useContext)(x).userData,r=Object(n.useContext)(I),i=r.contentData,o=r.contentDataDispatch,d=Object(n.useState)(!0),j=Object(l.a)(d,2),b=j[0],v=j[1],h=Object(n.useState)(function(e){for(var t=[],a=0;a<e;a++)t.push(void 0);return t}(a.length)),O=Object(l.a)(h,2),f=O[0],D=O[1],N=Object(n.useState)(""),k=Object(l.a)(N,2),C=k[0],S=k[1],A=function(e,t){var a=f;a[e]=t,D(a),v(!function(e){var t,a=!0,n=Object(M.a)(e);try{for(n.s();!(t=n.n()).done;)t.value||(a=!1)}catch(c){n.e(c)}finally{n.f()}return a}(a))},T=function(){var e=Object(w.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(""),e.prev=1,e.next=4,$(t,{timeSlot:f},s.token);case 4:return e.next=6,pe("timeslots");case 6:return a=e.sent,e.next=9,pe("theaters");case 9:n=e.sent,o(_({availabilityData:a,theatersData:n})),c({type:"CLEAR"}),c(u({elementName:"ApprovalMessage",props:{message:"Timeslot added!"}})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),e.t0.response?S(e.t0.response.data.message):S(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[a.length>0&&a.map((function(e,t){var a=ne(e,i.theatersData),n=a.name,c=a.location,s=a.seats;return Object(m.jsx)(Ge,{children:Object(m.jsx)(vt,{name:"".concat(n," - ").concat(c),seats:s,index:t,setTimeSlots:A,theaterID:e})},Object(g.a)())})),Object(m.jsx)("button",{disabled:b,onClick:T,children:"Add Time Slots"}),!!C&&Object(m.jsx)("div",{className:"error-message",children:C})]})}function Ot(e){var t=e.id,a=Object(n.useContext)(I),c=a.contentData,s=a.contentDataDispatch,r=Object(n.useContext)(x).userData,i=Object(n.useContext)(p).modalDataDispatch,o=Z(t,c.moviesData),d=o.name,j=o.description,b=o.picture,v=Object(n.useState)(j),h=Object(l.a)(v,2),O=h[0],f=h[1],g=Object(n.useState)(b),D=Object(l.a)(g,2),N=D[0],k=[f,D[1]],C=Object(n.useState)(""),S=Object(l.a)(C,2),A=S[0],T=S[1],M=function(){var e=Object(w.a)(y.a.mark((function e(){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(""),e.prev=1,e.next=4,V(r.token,t,{description:O,picture:N});case 4:return e.next=6,pe("movies");case 6:a=e.sent,s(_({moviesData:a})),i({type:"CLEAR"}),i(u({elementName:"ApprovalMessage",props:{message:"Movie updated!"}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),T((null===(n=e.t0.response)||void 0===n?void 0:n.data.message)||e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),L=function(e){T("");var t=e.target.value,a=e.target.id;k[a](t)};return Object(m.jsxs)("div",{className:"add-article",children:[Object(m.jsx)("h3",{children:d}),"Description:",Object(m.jsx)("textarea",{value:O,onInput:L,id:"0"}),"Picture:",Object(m.jsx)("input",{value:N,onInput:L,id:"1"}),Object(m.jsx)("button",{disabled:""===O,onClick:M,children:"Update"}),!!A&&Object(m.jsx)("div",{className:"error-message",children:A})]})}function xt(e){var t=e.message,a=Object(n.useContext)(p).modalDataDispatch;return setTimeout((function(){a({type:"CLEAR"})}),1500),Object(m.jsx)("div",{className:"approval-message",children:Object(m.jsx)("h1",{children:t})})}function ft(){var e,t=Object(n.useContext)(p),a=t.modalData,s=t.modalDataDispatch,r={Default:ge,LoginPage:Me,ApprovalMessage:xt,ShowMovieDetails:k,Seats:xe,Reservation:fe,AddComment:Ne,Movie:Ce,Menu:Le,UpdateMovie:Fe,AddMovie:lt,DeleteMovies:dt,AddMovieTimeSlots:jt,AddTimeSlots:ht,UpdateMovieStats:Ot,ConfirmDelete:tt,UpdateItem:Be,AdjustItems:Pe,UpdateTheater:Ue,UpdateTheaterStats:We,UpdateAvailableTimeSlots:Je,AddLoction:Ke,AddTheater:Qe,AddNewTheaterStats:Xe,DeleteLocation:et,DeleteTheater:at,DeleteTheaters:nt,AddArticle:st,UpdateArticle:rt,UpdateArticleStats:it,DeleteArticle:ut,ChangePassword:bt,AddAccount:mt,DeleteAccount:pt},i=Object(n.useState)({elementName:"Default",props:{}}),o=Object(l.a)(i,2),u=o[0],d=o[1];Object(n.useEffect)((function(){d(a.children)}),[a.children]);return Object(m.jsx)("div",{className:"modal__container",children:Object(m.jsxs)("div",{className:"modal",children:[Object(m.jsxs)("div",{className:"modal__header",children:[(null===(e=a.back)||void 0===e?void 0:e.length)>0&&Object(m.jsx)("div",{className:"modal__back",onClick:function(e){s({type:"BACK"}),e.stopPropagation()},children:"Back"}),Object(m.jsx)("div",{className:"close-modal__container",onClick:function(){s({type:"CLEAR"})},children:Object(m.jsx)("div",{className:"close-modal"})})]}),Object(m.jsx)("div",{className:"modal__content",children:c.a.createElement(r[u.elementName],u.props)})]})})}function gt(e){var t=e.section,a=e.sections,c=Object(n.useContext)(p).modalDataDispatch,s=t.toLowerCase();return Object(m.jsxs)("div",{className:"setting__container",children:[Object(m.jsx)("div",{className:"icon_container",children:Object(m.jsx)("div",{className:"setting",onClick:function(){c(u({elementName:"Menu",props:{sections:a}}))},children:Object(m.jsx)("img",{src:"./icons/account/settings__"+s+".png",alt:"icon"})})}),Object(m.jsx)("div",{className:"setting__title",children:"Manage "+t})]})}function Dt(){var e=Object(n.useContext)(p).modalData;return Object(m.jsxs)("div",{className:"admin-account__container",children:[Object(m.jsx)(gt,{section:"Movies",sections:[{title:"Add New Movie",elementName:"AddMovie",props:{}},{title:"Update Movie",elementName:"UpdateMovie",props:{}},{title:"Delete Movie",elementName:"DeleteMovies",props:{}}]}),Object(m.jsx)(gt,{section:"Theaters",sections:[{title:"Add New Theater",elementName:"AddTheater",props:{}},{title:"Update Theater",elementName:"UpdateTheater",props:{}},{title:"Delete Theater",elementName:"DeleteTheater",props:{}},{title:"Add New Location",elementName:"AddLoction",props:{}},{title:"Delete Location",elementName:"DeleteLocation",props:{}}]}),Object(m.jsx)(gt,{section:"News",sections:[{title:"Add New Article",elementName:"AddArticle",props:{}},{title:"Update Article",elementName:"UpdateArticle",props:{}},{title:"Delete Article",elementName:"DeleteArticle",props:{}}]}),Object(m.jsx)(gt,{section:"Account",sections:[{title:"Change Password",elementName:"ChangePassword",props:{}},{title:"Add New Admin Account",elementName:"AddAccount",props:{}},{title:"Delete Admin Account",elementName:"DeleteAccount",props:{}}]}),e.isModal&&Object(m.jsx)(ft,{})]})}function Nt(){var e=Object(n.useContext)(x).userData;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:[e.activeUser,", Welcome Back!"]}),Object(m.jsx)("p",{children:"Now you can catch up with latest movie releases, nearby theaters and read the news everyone talks about!"})]})}function kt(){var e=Object(n.useContext)(x).userData,t=Object(n.useContext)(p),a=t.modalData,c=t.modalDataDispatch;return Object(n.useEffect)((function(){e.loggedIn||c(u({elementName:"LoginPage",props:{}}))}),[e.loggedIn,c]),Object(m.jsx)("div",{className:"account__main",children:e.loggedIn?Object(m.jsx)("div",{children:e.isAdmin?Object(m.jsx)(Dt,{}):Object(m.jsx)(Nt,{})}):a.isModal&&Object(m.jsx)(ft,{})})}function Ct(e){var t=e.name,a=t.toLowerCase().trim();return Object(m.jsxs)(i.b,{to:"/".concat(a),className:"nav",activeClassName:"nav_active",children:[Object(m.jsx)("img",{className:"icon",src:"./icons/footer/\u200f\u200f".concat(t,".png"),alt:"icon"}),Object(m.jsx)("img",{className:"icon__active",src:"./icons/footer/\u200f\u200f".concat(t,"__active.png"),alt:"icon"}),Object(m.jsx)("div",{children:t})]})}function yt(){return Object(m.jsx)("div",{className:"footer__container",children:Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)(Ct,{name:"Movies"}),Object(m.jsx)(Ct,{name:"Theaters"}),Object(m.jsx)(Ct,{name:"News"}),Object(m.jsx)(Ct,{name:"Account"})]})})}function wt(e){var t=e.itemType,a=e.items,n=e.itemInput,c=e.onClickFunc,s=""===n?[]:a.filter((function(e){return e.name.trim().toLowerCase().includes(n)}));return Object(m.jsxs)("div",{className:"item-serach__section",children:[Object(m.jsx)("h3",{children:t}),Object(m.jsx)("div",{className:"item-serach__items",children:s.length>0?s.map((function(e){var t=e.name,a=e.id,n=e.picture;return Object(m.jsxs)("div",{className:"item-search__item",onClick:c,id:a,children:[Object(m.jsx)("img",{className:"item-search__image",src:n,alt:"serach"}),Object(m.jsx)("div",{children:t})]},Object(g.a)())})):"No "+t+" match the search"})]})}function _t(e){var t=e.itemInput,a=e.setOnInput,c=e.setIsQuery,s=Object(o.g)(),r=Object(n.useContext)(I).contentData,i=Object(n.useContext)(p).modalDataDispatch;return Object(m.jsxs)("div",{className:"item-serach__container",children:[Object(m.jsx)(wt,{itemType:"Movies",items:r.moviesData,itemInput:t,onClickFunc:function(e){var t=e.target,a=t.children[0]?t:t.parentElement,n=Z(a.id,r.moviesData),c=n.description,s=n.comments,o=n.id;i(u({elementName:"Movie",props:{description:c,comments:s,id:o}}))}}),Object(m.jsx)(wt,{itemType:"News",items:r.newsData,itemInput:t,onClickFunc:function(e){var t=e.target,n=t.children[0]?t:t.parentElement;a(!1),c(!1),s.push("/news/article/".concat(n.id))}})]})}function St(){return Object(m.jsx)("div",{className:"loader-container",children:Object(m.jsx)("div",{className:"loader"})})}function At(){var e=Object(n.useContext)(x),t=e.userData,a=e.userDataDispatch,c=Object(n.useContext)(I).contentDataDispatch,s=Object(n.useState)(!1),r=Object(l.a)(s,2),u=r[0],d=r[1],j=Object(n.useState)(!1),b=Object(l.a)(j,2),p=b[0],v=b[1],h=Object(n.useState)(!1),O=Object(l.a)(h,2),f=O[0],g=O[1],D=Object(n.useState)(!1),N=Object(l.a)(D,2),k=N[0],C=N[1],S=Object(n.useState)(""),A=Object(l.a)(S,2),T=A[0],M=A[1],L=Object(o.g)();Object(n.useEffect)((function(){return d(!0),a({type:"WINDOW",windowWidth:window.innerWidth}),u&&me().then((function(e){c(_(e)),v(!0)})).catch((function(e){console.log(e)})),function(){d(!1)}}),[a,c,u]);var E=function(){var e=Object(w.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t.token,t.isAdmin);case 3:a({type:"LOGOUT"}),L.push("/movies"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"header__container",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("img",{className:"header__logo",src:"./icons/header/logo.png",alt:"logo",onClick:function(){L.push("/movies")}}),Object(m.jsx)("div",{className:"header__search_bar",children:Object(m.jsxs)("div",{className:"bar",children:[Object(m.jsx)("img",{className:"find-icon",src:"./icons/header/find_icon.png",alt:"find"}),Object(m.jsx)("input",{placeholder:"Movies and News",onInput:function(e){var t=e.target.value.trim().toLowerCase();M(t),g(""!==t)},onFocus:function(){C(!0)}}),f&&Object(m.jsx)("div",{className:"cancel-query",onClick:function(e){e.target.previousSibling.value="",g(!1)}})]})}),k&&Object(m.jsx)("div",{className:"cancel-item-serach",onClick:function(e){C(!1),g(!1),e.target.previousSibling.children[0].children[1].value=""},children:"Cancel"}),!k&&Object(m.jsxs)("div",{className:"nav__bar",children:[Object(m.jsx)("div",{className:"nav__link",children:Object(m.jsx)(i.b,{to:"/movies",className:"a_nav",activeClassName:"a_nav__active",children:"Movies"})}),Object(m.jsx)("div",{className:"nav__link",children:Object(m.jsx)(i.b,{to:"/theaters",className:"a_nav",activeClassName:"a_nav__active",children:"Theaters"})}),Object(m.jsx)("div",{className:"nav__link",children:Object(m.jsx)(i.b,{to:"/news",className:"a_nav",activeClassName:"a_nav__active",children:"News"})}),Object(m.jsxs)(i.b,{className:"account_logo",to:"/account",children:["                    ",Object(m.jsx)("img",{src:"./icons/header/\u200f\u200faccount_icon__header.png",alt:"account_logo"})]})]})]}),t.loggedIn&&Object(m.jsx)("div",{className:"logout",onClick:E,children:"Logout"}),k&&Object(m.jsx)(_t,{itemInput:T,setOnInput:C,setIsQuery:g}),!p&&Object(m.jsx)(St,{})]})}function It(e){var t,a=e.criticsRatings,c=e.audienceRatings,s=e.id,r=Object(n.useContext)(p).modalDataDispatch,i=Object(n.useContext)(x).userData,o=function(){r(u({elementName:"AddComment",props:{id:s}}))};return Object(m.jsxs)("div",{className:"movie-ratings__container",children:[Object(m.jsxs)("div",{className:"movie-ratings__data",children:[Object(m.jsxs)("div",{className:"movie-ratings__critics",children:[Object(m.jsx)("div",{className:"movie-ratings__icon",children:Object(m.jsx)("img",{src:"./icons/ratings/"+(t=a,(t>=.9?"med-tomato":t>=.6?"good-tomato":"rotten-tomato")+".png"),alt:"audience-icon"})}),Object(m.jsxs)("div",{className:"movie-ratings__legend",children:[Math.round(100*a),"%"]})]}),Object(m.jsxs)("div",{className:"movie-ratings__audience",children:[Object(m.jsx)("div",{className:"movie-ratings__icon",children:Object(m.jsx)("img",{src:"./icons/ratings/"+(c>.5?"good":"bad")+"-popcorn.png",alt:"audience-icon"})}),Object(m.jsxs)("div",{className:"movie-ratings__legend",children:[Math.round(100*c),"%"]})]})]}),i.loggedIn&&!i.isAdmin&&Object(m.jsxs)("div",{className:"movie-ratings__buttons",children:[Object(m.jsx)("button",{onClick:o,className:"add-comment-button__text",children:"Add Comment"}),Object(m.jsx)("button",{onClick:o,className:"add-comment-button__plus",children:"+"})]})]})}function Tt(e){var t=e.id,a=e.description,c=e.name,s=e.ratings,r=e.comments,i=e.picture,o=Object(n.useContext)(p).modalDataDispatch,l=function(){o(u({elementName:"Movie",props:{description:a,comments:r,id:t}}))};return Object(m.jsxs)("div",{className:"item",children:[Object(m.jsx)("div",{className:"poster__container",onClick:l,children:Object(m.jsx)("img",{className:"poster",src:i||"./movies-images/movies-icon.png",alt:"movie-poster"})}),Object(m.jsx)(It,{criticsRatings:s.critics,audienceRatings:s.audience,id:t}),Object(m.jsx)("div",{className:"movie-name",onClick:l,children:c})]})}function Mt(e){var t=e.scrollBy;return Object(m.jsx)("div",{className:"scroll-button",onClick:function(e){(e.target.previousSibling?e.target:e.target.parentElement).previousSibling.scrollBy({top:0,left:t,behavior:"smooth"})},children:Object(m.jsx)("span",{className:"scroll-button__right"})})}function Lt(e){var t=e.scrollBy;return Object(m.jsx)("div",{className:"scroll-button",onClick:function(e){(e.target.nextSibling?e.target:e.target.parentElement).nextSibling.scrollBy({top:0,left:-t,behavior:"smooth"})},children:Object(m.jsx)("span",{className:"scroll-button__left"})})}function Et(e){var t=e.section,a=e.getMoviesFunc,c=Object(n.useContext)(x).userData,s=Object(n.useContext)(I).contentData,r=24*c.windowWidth/100,i=a(s.moviesData,s.availabilityData);return Object(m.jsxs)("div",{className:"now-playing",children:[Object(m.jsx)("h3",{children:t}),Object(m.jsxs)("div",{className:"container__box",children:[Object(m.jsx)(Lt,{scrollBy:r}),Object(m.jsx)("div",{className:"item__container",children:i.length>0?i.map((function(e,t){var a=e.id,n=e.description,c=e.name,s=e.ratings,r=e.comments,i=e.picture;return Object(m.jsx)(Tt,{id:a,description:n,name:c,ratings:s,comments:r,picture:i},Object(g.a)())})):"No Available Movies "}),Object(m.jsx)(Mt,{scrollBy:r})]})]})}function Pt(){return Object(m.jsx)(Et,{section:"Coming Soon",getMoviesFunc:K})}function Ft(){return Object(m.jsx)(Et,{section:"Now Playing",getMoviesFunc:J})}function Rt(){var e=Object(n.useContext)(p).modalData;return Object(m.jsxs)("div",{className:"movies__container",children:[Object(m.jsx)(Ft,{}),Object(m.jsx)(Pt,{}),e.isModal&&Object(m.jsx)(ft,{})]})}function Ut(){var e=Object(n.useContext)(I).contentData,t=Object(o.g)(),a=e.newsData,c=function(e){var a=(e.target.children[0]?e.target:e.target.parentElement).id;t.push("/news/article/".concat(a))};return Object(m.jsx)("div",{className:"news__main",children:Object(m.jsx)("div",{className:"news__container",children:a.map((function(e){var t=e.name,a=e.picture,n=e.id;return Object(m.jsxs)("div",{id:n,className:"article",onClick:c,children:[Object(m.jsx)("img",{src:a||"./news-images/non-picture.jpg",alt:"article_pitcure"}),Object(m.jsx)("h1",{children:t})]},n)}))})})}function Bt(e){var t=e.name,a=e.slots,c=e.id,s=e.picture,r=e.description,i=e.movieID,o=Object(n.useContext)(p).modalDataDispatch;return Object(m.jsxs)("div",{className:"theater__movie",onClick:function(){o(u({elementName:"ShowMovieDetails",props:{name:t,slots:a,description:r,movieID:i,theaterID:c}}))},children:[Object(m.jsx)("h4",{children:t}),Object(m.jsx)("div",{className:"poster__container",children:Object(m.jsx)("img",{className:"poster",src:s||"./movies-images/movies-icon.png",alt:"movie-poster"})})]})}function Wt(e){var t=e.id,a=e.name,c=e.movies,s=Object(n.useContext)(I).contentData,r=24*Object(n.useContext)(x).userData.windowWidth/100,i=function(e){return s.moviesData.filter((function(t){return t.id===e}))[0]},o=function(e){var a,n=[],c=Object(M.a)(e);try{for(c.s();!(a=c.n()).done;){var r=a.value,o={id:r},u=i(r);if(u){var l=u.name,d=u.picture,j=u.description;o.name=l,o.picture=d,o.description=j,o.slots=Q(r,t,s.availabilityData),n.push(o)}}}catch(b){c.e(b)}finally{c.f()}return n}(c);return Object(m.jsxs)("div",{className:"theater",children:[Object(m.jsx)("h3",{children:a}),Object(m.jsxs)("div",{className:"container__box",children:[Object(m.jsx)(Lt,{scrollBy:r}),Object(m.jsx)("div",{className:"theater__movies__container",children:o.length>0&&o.map((function(e,a){return Object(m.jsx)(Bt,{name:e.name,picture:e.picture,description:e.description,slots:e.slots,id:t,movieID:e.id},Object(g.a)())}))}),Object(m.jsx)(Mt,{scrollBy:r})]})]})}function Yt(e){var t=e.theaters,a=e.location,c=Object(n.useContext)(x).userDataDispatch,s=Object(n.useContext)(p).modalData;return Object(m.jsxs)("div",{className:"theaters__container",children:[Object(m.jsxs)("div",{className:"theaters__location",children:[Object(m.jsxs)("h3",{children:["Theaters in ",a]}),Object(m.jsx)("div",{className:"change-location",onClick:function(){c(we(""))},children:"Change Location"})]}),t.length>0?t.map((function(e){return Object(m.jsx)(Wt,{id:e.id,name:e.name,movies:e.movies},Object(g.a)())})):Object(m.jsx)("h3",{children:"No theaters available."}),s.isModal&&Object(m.jsx)(ft,{})]})}function qt(){var e,t=Object(n.useContext)(I).contentData,a=Object(n.useContext)(x),c=a.userData,s=a.userDataDispatch,r=t.locationsData;return Object(m.jsxs)("div",{className:"theaters__main",children:[""===c.location&&Object(m.jsxs)("div",{className:"pick-location",children:[Object(m.jsx)("h3",{children:"Pick a location:"}),Object(m.jsx)("select",{children:r.map((function(e,t){return Object(m.jsx)("option",{children:e},Object(g.a)())}))}),Object(m.jsx)("button",{onClick:function(e){var t=e.target.previousSibling.value;s(we(t))},children:"Go"})]}),""!==c.location&&Object(m.jsx)(Yt,{theaters:(e=c.location,t.theatersData.filter((function(t){return t.location===e}))),location:c.location})]})}function Vt(e){var t=e.id,a=Object(n.useContext)(I).contentData,c=Object(n.useContext)(p).modalData,s=he(t,a.newsData),r=s.name,i=s.subTitle,o=s.picture,u=s.article;return Object(m.jsxs)("div",{className:"article__main",children:[Object(m.jsx)("h2",{children:r}),Object(m.jsx)("h4",{children:i}),Object(m.jsx)("img",{src:o||"./news-images/non-picture.jpg",alt:"article_picture"}),Object(m.jsx)("p",{children:u}),c.isModal&&Object(m.jsx)(ft,{})]})}var Gt=a(57),zt=["component"],Ht=function(e){var t=e.component,a=Object(Gt.a)(e,zt),c=Object(n.useContext)(I).contentData,s=document.location.pathname.replace("/news/article/",""),r=he(s,c.newsData);return Object(m.jsx)(o.b,Object(d.a)(Object(d.a)({},a),{},{component:function(e){return r?Object(m.jsx)(t,Object(d.a)(Object(d.a)({},e),{},{id:s})):Object(m.jsx)(o.a,{to:{pathname:"/news"}})}}))};function Zt(){return Object(m.jsx)(i.a,{children:Object(m.jsx)(v,{children:Object(m.jsx)(f,{children:Object(m.jsxs)(T,{children:[Object(m.jsx)(At,{}),Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{path:"/",exact:!0,children:Object(m.jsx)(o.a,{to:"/movies"})}),Object(m.jsx)(o.b,{path:"/movies",component:Rt}),Object(m.jsx)(o.b,{path:"/account",component:kt}),Object(m.jsx)(Ht,{path:"/news/article",component:Vt}),Object(m.jsx)(o.b,{path:"/news",component:Ut}),Object(m.jsx)(o.b,{path:"/theaters",component:qt}),Object(m.jsx)(o.b,{path:"*",component:Rt})]}),Object(m.jsx)(yt,{})]})})})})}function Jt(){return Object(m.jsx)(Zt,{})}a(168);var Kt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,170)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(Jt,{})}),document.getElementById("root")),Kt()}},[[169,1,2]]]);
//# sourceMappingURL=main.29859eb8.chunk.js.map