{"version":3,"sources":["actions/ModalActions.js","reducers/ModalReducer.js","contexts/ModalContext.js","reducers/UserReducer.js","contexts/UserContext.js","components/theaters/TimeSlot.js","components/theaters/ShowMovieDetails.js","actions/DataActions.js","reducers/DataReducer.js","contexts/DataContext.js","server/login.js","server/utils.js","components/theaters/Row.js","components/theaters/Seats.js","components/theaters/Reservation.js","components/main/Default.js","components/movies/StarRating.js","components/movies/AddComment.js","components/movies/ShowComments.js","components/movies/Movie.js","actions/UserActions.js","components/login/LoginForm.js","components/login/SubscribeForm.js","components/login/LoginPage.js","components/account/Menu.js","components/account/admin/QueryItems.js","components/account/admin/AdjustItems.js","components/account/admin/movies/UpdateMovie.js","components/account/admin/theaters/PickLocation.js","components/account/admin/theaters/UpdateTheater.js","components/account/admin/UpdateItem.js","components/account/admin/theaters/UpdateTheaterStats.js","reducers/SlotHoursReducer.js","contexts/SlotHoursContext.js","components/account/admin/theaters/AddHour.js","actions/SlotHoursActions.js","components/account/admin/theaters/UpdateTimeSlot.js","components/account/admin/theaters/UpdateAvailableTimeSlots.js","components/account/admin/theaters/AddLoction.js","components/account/admin/theaters/AddTheater.js","components/account/admin/theaters/AdjustTheaterDetails.js","components/account/admin/theaters/AddNewTheaterStats.js","components/account/admin/theaters/DeleteLocation.js","components/account/admin/ConfirmDelete.js","components/account/admin/theaters/DeleteTheater.js","components/account/admin/theaters/DeleteTheaters.js","components/account/admin/AddPicture.js","components/account/admin/news/AddArticle.js","components/account/admin/news/UpdateArticle.js","components/account/admin/news/UpdateArticleStats.js","components/account/admin/DeleteItems.js","components/account/admin/news/DeleteArticle.js","components/account/admin/movies/AddMovie.js","components/account/admin/movies/DeleteMovies.js","components/account/admin/movies/AddMovieTimeSlots.js","components/account/admin/account/ChangePassword.js","components/account/admin/account/AddAccount.js","components/account/admin/account/DeleteAccount.js","components/account/admin/movies/AddTimeSlot.js","components/account/admin/movies/AddTimeSlots.js","components/account/admin/movies/UpdateMovieStats.js","components/main/ApprovalMessage.js","components/main/Modal.js","components/account/admin/Setting.js","components/account/admin/AdminAccount.js","components/account/user/UserAccount.js","components/account/Account.js","components/main/FooterIcon.js","components/main/Footer.js","components/main/ItemQueryContainer.js","components/main/ItemSearch.js","components/main/LoaderContainer.js","components/main/Header.js","components/movies/Ratings.js","components/movies/MovieItem.js","components/main/ScrollRight.js","components/main/ScrollLeft.js","components/movies/MoviesSection.js","components/movies/ComingSoon.js","components/movies/NowPlaying.js","components/movies/Movies.js","components/news/News.js","components/theaters/MovieInTheater.js","components/theaters/Theater.js","components/theaters/ShowTheaters.js","components/theaters/Theaters.js","components/news/Article.js","routers/ArticleRoute.js","routers/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["goForwardAction","children","type","initialModalData","isModal","back","ModalReducer","modalData","action","result","elementName","props","concat","cell","pop","ModalContext","createContext","ModalContextProvider","useReducer","modalDataDispatch","Provider","value","initialUserData","loggedIn","isAdmin","activeUser","location","token","windowWidth","UserReducer","userData","user","name","UserContext","UserContextProvider","userDataDispatch","week","TimeSlot","slot","onClickFunc","day","Object","keys","onClickTime","event","className","length","map","show","i","id","onClick","startTime","nanoid","ShowMovieDetails","slots","description","movieID","theaterID","useContext","onClickShowHours","seats","target","slotIndex","setDataAction","data","initialData","adminsData","moviesData","availabilityData","theatersData","locationsData","newsData","isLoaded","DataReducer","newData","key","getData","DataContext","DataContextProvider","contentData","contentDataDispatch","serverURL","process","loginUser","request","a","axios","post","Error","subscribe","logout","changePassword","patch","getAdminsData","get","params","console","log","response","statusText","deleteAdmins","adminsIDsArray","admins","addMovie","movie","deleteMovies","movies","getMovies","getMovieByName","movieName","filter","getMovieByID","getAvailableMovies","forEach","timeSlot","owner","push","getUnavailableMovies","found","getMovieAvailability","theater","hasOpenSeats","err","message","addAvailability","addComment","comment","reserveSeat","orderDetails","addNewTheater","getTheaterByID","theaters","checkForExistingTheater","theaterName","theaterLocation","getTheatersByLocation","getTheaters","updateTheater","oldMoviesList","theaterDetails","newTimeSlots","allMovies","includes","addNewLocation","checkForExistingLocation","locations","l","addArticle","article","updateArticle","deleteArticles","articles","getAllData","section","getNews","news","getArticleByid","articleID","Row","row","setErrorMessage","onClickSeat","seat","parseInt","hourIndex","Seats","useState","errorMessage","Math","floor","slice","getRows","Reservation","Default","StarRating","rating","setRating","active","setActive","onClickStar","maxIndex","setChosenStar","AddComment","setComment","onClickSubmit","onInput","input","disabled","ShowComments","comments","showMore","setShowMore","moreClass","setMoreClass","Movie","allSlots","availableTheaters","getMovieAvailabilityAll","onClickTheater","parentElement","loginAction","setLocationAction","LoginForm","email","setEmail","password","setPassword","setIsAdmin","isEmailInputValid","setIsEmailInputValid","isPasswordInputValid","setIsPasswordInputValid","useEffect","onSubmitForm","preventDefault","resUserData","onSubmit","placeholder","onBlur","theEmail","trim","thePassword","onChange","checked","setIsLoginMode","SubscribeForm","inputClasses","setInputClasses","invalidMessages","setInvalidMessages","validInputs","setValidInputs","username","setUsername","setStateOfInputs","inputClass","isvalidInput","inputindex","newInavlidMessages","newInputClasses","newValidInputs","validateInput","isValueValidFunc","setValue","missingValueMessage","invalidValueMessage","onSubmitform","partOfLogin","subscribeData","errorMessageArray","index","newUsername","newEmail","validator","isEmail","newPassword","test","passwordRepeated","LoginPage","state","needToLogin","isLoginMode","Menu","sections","onClickOption","title","QueryItems","itemType","getItems","inputType","setAbleSubmit","getItemsParams","isChecked","setIsChecked","items","diaplayItems","setDisplayItems","onChangeChecked","record","item","toLowerCase","DeleteItems","onSubmitFunc","adjustType","ableSubmit","itemsToSubmit","getItemsToSubmit","getInputType","UpdateMovie","PickLocation","clickLoactionFunc","onClickLocation","innerText","UpdateTheater","UpdateItem","UpdateTheaterStats","nameValue","setNameValue","seatsValue","setSeatsValue","moviesList","setMoviesList","setValues","addMoreMovies","setAddMoreMovies","displyMovies","setDisplayMovies","onClickRemove","newMovieList","splice","onChangeMovieChecked","indexOf","onChangeValue","initialHoursData","hours","SlotHoursReducer","hoursData","SlotHoursContext","SlotHoursContextProvider","hoursDataDispatch","AddHour","removeHour","setHoursAction","UpdateTimeSlot","movieTimeSlots","setTimeSlots","getDays","displaySlots","setDisplaySlots","existingDays","setExistingDays","addDay","setAddDay","setDay","createSeats","seatsNum","h","e","hour","newHours","stopPropagation","firstChild","keyDay","showHours","hh","mm","endTime","sort","b","h1","split","h2","getHours","newSlots","UpdateAvailableTimeSlots","timeSlots","filterdData","getAllTheaterTimeSlots","setNewTimeSlots","isAllMoviesUpdated","setisAllMoviesUpdated","setNewSlots","update","onClickUpdate","AddLoction","setLocation","onClickAddLocation","AddTheater","AdjustTheaterDetails","onClickSubmitFunc","submitText","AddNewTheaterStats","addNewTheaterForm","setAddNewTheaterForm","DeleteLocation","locationTheaters","deleteLocation","onDeleteFunc","onDeleteFuncData","ConfirmDelete","onClickDelete","seperator","DeleteTheater","DeleteTheaters","deleteTheaters","theatersNames","AddPicture","picture","setPicture","onInputText","pictureValue","setPictureValue","onClickAddPicture","pictureInput","previousSibling","src","alt","AddArticle","setName","subTitle","setSubTitle","setArticle","setInput","onClickAdd","UpdateArticle","UpdateArticleStats","subTitleValue","setSubTitleValue","articleValue","setArticleValue","DeleteArticle","articlesNames","AddMovie","critics","setCritics","setDescription","onClickAddTimeSlots","ratings","audience","NaN","numOfRatings","DeleteMovies","moviesNames","AddMovieTimeSlots","ChangePassword","currentPassword","setCurrentPassword","setNewPassword","onClickChange","AddAccount","partOflogin","DeleteAccount","idArray","undefined","adminNames","adminID","AddTimeSlots","isDisabled","setIsDisabled","numOfTheaters","setTheatersSlots","availability","setAvailability","setSlot","newAvailability","valid","isValidTimeSlot","theaterId","UpdateMovieStats","newDescription","setNewDescription","fieldsToUpdate","ApprovalMessage","setTimeout","Modal","components","AdjustItems","setChildren","React","createElement","Setting","sectionLower","AdminAccount","UserAccount","Account","FooterIcon","nameLower","to","activeClassName","Footer","ItemQueryContainer","itemInput","filterdItems","ItemSearch","setOnInput","setIsQuery","history","useHistory","element","LoaderContainer","Header","componentOn","setComponentOn","setIsLoaded","isQuery","setItemInput","window","innerWidth","then","res","catch","onClickLogout","onFocus","Ratings","criticsRatings","audienceRatings","onClickAddComment","round","MovieItem","onClickMovie","ScrollRight","scrollBy","top","left","behavior","nextSibling","MoviesSection","getMoviesFunc","displayMovies","ComingSoon","NowPlaying","Movies","News","onClickArticle","MovieInTheater","substring","getSlots","Theater","getMovieSpecs","moviesToDisplay","movieSpecs","ShowTheaters","Theaters","requestedLocation","Article","ArticleRoute","Component","component","rest","document","pathname","replace","AppRouter","path","exact","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"mLAIaA,EAAkB,SAACC,GAAD,MAAe,CAC1CC,KAAM,UACND,a,cCNSE,EAAmB,CAC5BC,SAAS,EACTH,SAAU,KACVI,KAAM,IAyCKC,EArCM,SAACC,EAAWC,GAC7B,OAAQA,EAAON,MACX,IAAK,QACD,MAAO,CACHC,oBAER,IAAK,UACD,IACIF,EADAQ,EAAS,GASb,OAPMF,EAAUN,WACZA,EAAW,CACPS,YAAaH,EAAUN,SAASS,YAChCC,MAAOJ,EAAUN,SAASU,OAE9BF,EAASA,EAAOG,OAASL,EAAUF,KAAOE,EAAUF,KAAO,GAAIJ,IAE5D,2BACAM,GADP,IAEIH,SAAS,EACTC,KAAMI,EACNR,SAAUO,EAAOP,WAEzB,IAAK,OACD,IAAII,EAAOE,EAAUF,KACfQ,EAAOR,EAAKS,MAClB,OAAO,2BACAP,GADP,IAEIN,SAAUY,EACVR,SAER,QACI,OAAO,eAAKE,K,OCnCXQ,EAAeC,0BAWbC,EATc,SAACN,GAC1B,MAAuCO,qBAAWZ,EAAcH,GAAhE,mBAAOI,EAAP,KAAkBY,EAAlB,KACA,OACI,cAACJ,EAAaK,SAAd,CAAuBC,MAAO,CAAEd,YAAWY,qBAA3C,SACKR,EAAMV,YCTNqB,EAAkB,CAC3BC,UAAU,EACVC,SAAS,EACTC,WAAY,GACZC,SAAU,GACVC,MAAO,GACPC,YAAa,MAyCFC,EArCK,SAACC,EAAUtB,GAC3B,OAAQA,EAAON,MACX,IAAK,QACD,OAAO,2BACA4B,GADP,IAEIP,UAAU,EACVE,WAAYjB,EAAOuB,KAAKA,KAAKC,KAC7BL,MAAOnB,EAAOuB,KAAKJ,MACnBH,QAAShB,EAAOgB,UAExB,IAAK,SACD,OAAO,2BACAM,GADP,IAEIF,YAAapB,EAAOoB,cAE5B,IAAK,SACD,OAAO,2BACAE,GADP,IAEIP,UAAU,EACVE,WAAY,GACZE,MAAO,GACPH,SAAS,IAGjB,IAAK,eACD,OAAO,2BACAM,GADP,IAEIJ,SAAUlB,EAAOkB,WAGzB,QACI,OAAO,eAAKI,KCtCXG,EAAcjB,0BAWZkB,EATa,SAACvB,GACzB,MAAqCO,qBAAWW,EAAaP,GAA7D,mBAAOQ,EAAP,KAAiBK,EAAjB,KACA,OACI,cAACF,EAAYb,SAAb,CAAsBC,MAAO,CAAES,WAAUK,oBAAzC,SACKxB,EAAMV,Y,OCNbmC,EAAO,CAAC,SAAU,UAAW,YAAa,WAC5C,SAAU,WAAY,UAEX,SAASC,EAAT,GAA0C,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAC/BC,EAAOC,OAAOC,KAAKJ,GAAO,GAC1BK,EAAc,SAACC,GACjBL,EAAYK,EAAON,IAKvB,OACI,sBAAKO,UAAU,YAAf,UACI,qBAAKA,UAAU,iBAAf,SAAiCT,EAAKI,EAAM,KAC5C,qBAAKK,UAAU,uBAAf,SACKP,EAAKE,GAAKM,OAAS,GAAKR,EAAKE,GAAKO,KAAI,SAACC,EAAMC,GAAP,OACnC,qBACIJ,UAAU,kBAEVK,GAAID,EACJE,QAASR,EAJb,SAI2BK,EAAKI,WAFvBC,uBCfd,SAASC,EAAT,GAA4E,EAAhDtB,KAAiD,IAA3CuB,EAA0C,EAA1CA,MAAOC,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UAElEvC,EAAsBwC,qBAAW5C,GAAjCI,kBACFyC,EAAmB,SAAChB,EAAON,GAC7B,IAAME,EAAOC,OAAOC,KAAKJ,GAAO,GAC1BuB,EAAQvB,EAAKE,GAAKI,EAAMkB,OAAOZ,IAAIW,MACzC1C,EAAkBnB,EAAgB,CAAEU,YAAa,QAASC,MAAO,CAAEkD,QAAOE,UAAWnB,EAAMkB,OAAOZ,GAAIV,MAAKiB,UAASC,iBAExH,OACI,gCACI,qBAAKb,UAAU,yBAAf,SACKW,IAEL,8BACKD,EAAMT,OAAS,EACZS,EAAM,GAAGR,KAAI,SAACT,EAAMW,GAAP,OAAc,cAACZ,EAAD,CAAyBC,KAAMA,EAAMC,YAAaqB,GAAnCP,kBACxC,gC,2BCtBTW,EAAgB,SAACC,GAAD,MAAW,CACpC/D,KAAM,WACN+D,SCFSC,EAAc,CACvBC,WAAY,GACZC,WAAY,GACZC,iBAAkB,GAClBC,aAAc,GACdC,cAAe,GACfC,SAAU,GACVC,UAAU,GA6BCC,EAlBK,SAACT,EAAMzD,GACvB,OAAQA,EAAON,MAEX,IAAK,WACD,IAAMyE,EAZF,SAACV,GACb,IAAMxD,EAAS,GACf,IAAK,IAAImE,KAAOX,EACNA,EAAKW,KAAMnE,EAAOmE,GAAOX,EAAKW,IAExC,OAAOnE,EAOiBoE,CAAQrE,EAAOyD,MAC/B,OAAO,2BACAA,GACAU,GAIX,QACI,OAAO,eAAKV,KC3BXa,EAAc9D,0BAWZ+D,EATa,SAACpE,GACzB,MAA2CO,qBAAWwD,EAAaR,GAAnE,mBAAOc,EAAP,KAAoBC,EAApB,KACA,OACI,cAACH,EAAY1D,SAAb,CAAsBC,MAAO,CAAE2D,cAAaC,uBAA5C,SACKtE,EAAMV,Y,yBCNNiF,EAAS,UAFHC,mBAEG,YADHA,QAGNC,EAAS,uCAAG,WAAOC,GAAP,eAAAC,EAAA,+EAEIC,IAAMC,KAAN,UAAcN,EAAd,UAAiCG,GAFrC,cAEX5E,EAFW,yBAGVA,EAAOwD,MAHG,sCAMH,IAAIwB,MAAM,mBANP,yDAAH,sDAWTC,EAAS,uCAAG,WAAOL,GAAP,eAAAC,EAAA,+EAEIC,IAAMC,KAAN,UAAcN,EAAd,cAAqCG,GAFzC,cAEX5E,EAFW,yBAGVA,EAAOwD,MAHG,sCAMH,IAAIwB,MAAM,mBANP,yDAAH,sDAWTE,EAAM,uCAAG,WAAOhE,EAAOH,GAAd,SAAA8D,EAAA,+EAERC,IAAMC,KAAN,UAAcN,EAAd,WAAkC,CAAEvD,QAAOH,YAFnC,yHAAH,wDCfNoE,EAAc,uCAAG,WAAOjE,EAAO0D,EAAS7D,GAAvB,SAAA8D,EAAA,+EAEhBC,IAAMM,MAAN,UAAeX,EAAf,yBAAiD,CAAEvD,QAAO0D,UAAS7D,YAFnD,yHAAH,0DAQdsE,EAAa,uCAAG,WAAOnE,GAAP,iBAAA2D,EAAA,+EAEAC,IAAMQ,IAAN,UAAab,EAAb,uBAA6C,CAAEc,OAAQ,CAAErE,WAFzD,cAEflB,EAFe,yBAGd,CAAE0D,WAAY1D,EAAOwD,OAHP,uCAKrBgC,QAAQC,IAAR,UAAY,KAAIC,gBAAhB,aAAY,EAAcC,YALL,kBAMd,CAAEjC,WAAY,KANA,yDAAH,sDAWbkC,EAAY,uCAAG,WAAOC,EAAgB3E,GAAvB,eAAA2D,EAAA,+EAEdC,IAAMC,KAAN,UAAcN,EAAd,sBAA6C,CAAEvD,QAAO4E,OAAQD,IAFhD,sDAKpBL,QAAQC,IAAR,UAAY,KAAIC,gBAAhB,aAAY,EAAcC,YALN,wDAAH,wDAYZI,EAAQ,uCAAG,WAAOC,EAAO9E,GAAd,iBAAA2D,EAAA,sEACGC,IAAMC,KAAN,UAAcN,EAAd,oBAA2C,CAAEuB,QAAO9E,UADvD,uBACZsC,EADY,EACZA,KADY,kBAEbA,EAAKf,IAFQ,2CAAH,wDASRwD,EAAY,uCAAG,WAAOC,EAAQhF,GAAf,SAAA2D,EAAA,sEAClBC,IAAMC,KAAN,UAAcN,EAAd,wBAA+C,CAAEyB,SAAQhF,UADvC,2CAAH,wDAKZiF,EAAY,SAACxC,GACtB,OAAOA,GAGEyC,EAAiB,SAACC,EAAW1C,GACtC,OAAOA,EAAW2C,QAAO,gBAAG/E,EAAH,EAAGA,KAAH,OAAe8E,IAAc9E,KAAO,IAGpDgF,EAAe,SAACvD,EAASW,GAClC,OAAiBA,EAAY2C,QAAO,gBAAG7D,EAAH,EAAGA,GAAH,OAAaO,IAAYP,KAAK,IAGzD+D,EAAqB,SAAC7C,EAAYC,GAC3C,IAAM5D,EAAS,GASf,OARA2D,EAAW8C,SAAQ,SAACT,GAAW,IAAD,gBACLpC,GADK,IAC1B,2BAAuC,CAAC,IAA/B8C,EAA8B,QACnC,GAAIV,EAAMvD,KAAOiE,EAASC,MAAO,CAC7B3G,EAAO4G,KAAKZ,GACZ,QAJkB,kCAQvBhG,GAGE6G,EAAuB,SAAClD,EAAYC,GAC7C,IAAM5D,EAAS,GAQf,OAPA2D,EAAW8C,SAAQ,SAACT,GAChB,IAD0B,EACtBc,GAAQ,EADc,cAELlD,GAFK,IAE1B,2BAAuC,CAAC,IAA/B8C,EAA8B,QAC/BV,EAAMvD,KAAOiE,EAASC,QAAOG,GAAQ,IAHnB,8BAKrBA,GAAO9G,EAAO4G,KAAKZ,MAErBhG,GAGE+G,EAAuB,SAAC/D,EAASC,EAAWW,GACrD,IAGI,OAFwBA,EAAiB0C,QAAO,gBAAGK,EAAH,EAAGA,MAAOK,EAAV,EAAUA,QAASC,EAAnB,EAAmBA,aAAnB,OAAuCN,IAAU3D,GAAWgE,IAAY/D,GAAagE,KACvG3E,KAAI,SAACT,GAAD,OAAWA,EAAKiB,SAEpD,MAAOoE,GAEL,OADA1B,QAAQC,IAAIyB,EAAIC,SACT,KAaFC,EAAe,uCAAG,WAAO3E,EAAIiE,EAAUxF,GAArB,SAAA2D,EAAA,+EAEjBC,IAAMC,KAAN,UAAcN,EAAd,4BAAmD,CAAEhC,KAAIiE,WAAUxF,UAFlD,yHAAH,0DASfmG,EAAU,uCAAG,WAAOnG,EAAOoG,EAAS7E,GAAvB,SAAAoC,EAAA,+EAEZC,IAAMM,MAAN,UAAeX,EAAf,qBAA6C,CAAEvD,QAAOoG,UAAS7E,OAFnD,yHAAH,0DASV8E,EAAW,uCAAG,WAAOrG,EAAOsG,GAAd,SAAA3C,EAAA,+EAEbC,IAAMM,MAAN,UAAeX,EAAf,kBAA0C,CAAEvD,QAAOsG,iBAFtC,yHAAH,wDASXC,GAAa,uCAAG,WAAOvG,EAAO8F,GAAd,SAAAnC,EAAA,+EAEfC,IAAMC,KAAN,UAAcN,EAAd,qBAA4C,CAAEvD,QAAO8F,YAFtC,yHAAH,wDAabU,GAAiB,SAACzE,EAAW0E,GACtC,IACI,MAA0CA,EAASrB,QAAO,gBAAG7D,EAAH,EAAGA,GAAH,OAAaQ,IAAcR,KAAK,GAC1F,MAAO,CAAElB,KADT,EAAQA,KACO2E,OADf,EAAcA,OACS9C,MADvB,EAAsBA,MACQnC,SAD9B,EAA6BA,UAE/B,MAAOiG,GACL,MAAO,CAAE3F,KAAM,GAAI2E,OAAQ,GAAI9C,MAAO,EAAGnC,SAAU,MAI9C2G,GAA0B,SAACC,EAAaC,EAAiBH,GAClE,OAAOA,EAASrB,QAAO,gBAAG/E,EAAH,EAAGA,KAAMN,EAAT,EAASA,SAAT,OACnBM,IAASsG,GAAe5G,IAAa6G,KACtCzF,OAAS,GAGH0F,GAAwB,SAAC,GAA4B,IAA1B9G,EAAyB,EAAzBA,SACpC,OAD6D,EAAf0G,SAC9BrB,QAAO,SAACU,GAAD,OAAc/F,IAAa+F,EAAQ/F,aAGjD+G,GAAc,SAACL,GACxB,OAAOA,EAASrF,KAAI,gBAAGf,EAAH,EAAGA,KAAMkB,EAAT,EAASA,GAAIxB,EAAb,EAAaA,SAAb,MAA6B,CAAEM,KAAK,GAAD,OAAKA,EAAL,cAAeN,GAAYwB,UAGzEwF,GAAa,uCAAG,WAAO/G,EAAO+B,EAAWiF,EAAeC,EAAgBC,GAAxD,mBAAAvD,EAAA,sDAMrB,IANqB,SAEfwD,EAAY,GACZhG,EAAS6F,EAAc7F,OAAS8F,EAAejC,OAAO7D,OACxD6F,EAAc7F,OACd8F,EAAejC,OAAO7D,OACjBG,EAAI,EAAGA,EAAIH,EAAQG,IACnB6F,EAAUC,SAASH,EAAejC,OAAO1D,KAAK6F,EAAUzB,KAAKuB,EAAejC,OAAO1D,IACnF6F,EAAUC,SAASJ,EAAc1F,KAAK6F,EAAUzB,KAAKuB,EAAejC,OAAO1D,IAR/D,gBAWfsC,IAAMC,KAAN,UAAcN,EAAd,wBAA+C,CAAEvD,QAAO+B,YAAWiF,gBAAeC,iBAAgBE,YAAWD,iBAX9F,2HAAH,8DAgCbG,GAAc,uCAAG,WAAOrH,EAAOK,GAAd,SAAAsD,EAAA,+EAEhBC,IAAMC,KAAN,UAAcN,EAAd,sBAA6C,CAAEvD,QAAOK,SAFtC,yHAAH,wDAediH,GAA2B,SAACvH,EAAUwH,GAC/C,OAAOA,EAAUnC,QAAO,SAACoC,GAAD,OACpBA,IAAMzH,KACPoB,OAAS,GAMHsG,GAAU,uCAAG,WAAOzH,EAAO0H,GAAd,SAAA/D,EAAA,+EAEZC,IAAMC,KAAN,UAAcN,EAAd,qBAA4C,CAAEvD,QAAO0H,YAFzC,4DAKlBpD,QAAQC,IAAI,KAAI0B,SALE,6DAAH,wDAUV0B,GAAa,uCAAG,WAAOpG,EAAImG,EAAS1H,GAApB,SAAA2D,EAAA,+EAEfC,IAAMM,MAAN,UAAeX,EAAf,wBAAgD,CAAEhC,KAAIvB,QAAO0H,YAF9C,yHAAH,0DASbE,GAAc,uCAAG,WAAO5H,EAAO6H,GAAd,SAAAlE,EAAA,+EAEhBC,IAAMC,KAAN,UAAcN,EAAd,yBAAgD,CAAEvD,QAAO6H,aAFzC,yHAAH,wDASdC,GAAU,uCAAG,4BAAAnE,EAAA,6DAChBrB,EAAO,GADS,kBAGIY,GAAQ,YAHZ,cAGlBZ,EAAKO,SAHa,gBAIMK,GAAQ,UAJd,cAIlBZ,EAAKG,WAJa,iBAKYS,GAAQ,aALpB,eAKlBZ,EAAKI,iBALa,iBAMQQ,GAAQ,YANhB,eAMlBZ,EAAKK,aANa,iBAOSO,GAAQ,aAPjB,eAOlBZ,EAAKM,cAPa,OAQlBN,EAAKQ,UAAW,EARE,kBASXR,GATW,kCAWlBgC,QAAQC,IAAR,MAXkB,0DAAH,qDAgBVrB,GAAO,uCAAG,WAAO6E,GAAP,iBAAApE,EAAA,+EAEQC,IAAMQ,IAAN,UAAab,EAAb,qBAAmCwE,IAF3C,uBAEPzF,EAFO,EAEPA,KAFO,kBAGRA,GAHQ,gCAKfgC,QAAQC,IAAR,MALe,yDAAH,sDAWPyD,GAAU,SAACC,GACpB,OAAOA,GAGEC,GAAiB,SAACC,EAAWN,GACtC,OAAOA,EAASzC,QAAO,qBAAG7D,KAAiB4G,KAAY,IC7R5C,SAASC,GAAT,GAAmF,IAApElG,EAAmE,EAAnEA,MAAOmG,EAA4D,EAA5DA,IAAKjG,EAAuD,EAAvDA,UAAWvB,EAA4C,EAA5CA,IAAKiB,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,UAAWuG,EAAmB,EAAnBA,gBAClE9I,EAAsBwC,qBAAW5C,GAAjCI,kBACAW,EAAa6B,qBAAW1B,GAAxBH,SACAmD,EAAwBtB,qBAAWmB,GAAnCG,oBAEFiF,EAAW,uCAAG,WAAOtH,GAAP,uBAAA0C,EAAA,6DAChB2E,EAAgB,IACVE,EAAOvH,EAAMkB,OAAOZ,GACpBrC,EAAOuJ,SAAqB,IAAXJ,EAAM,IAAWI,SAASD,GAAQ,EACnDlC,EAAe,CACjBpH,OACA2B,MACA6H,UAAWtG,EACXN,UACAC,aATY,kBAYNsE,EAAYlG,EAASH,MAAOsG,GAZtB,uBAamBpD,GAAQ,aAb3B,OAaNR,EAbM,OAcZY,EAAoBjB,EAAc,CAAEK,sBACpClD,EZ5B2B,CACnCjB,KAAM,UY4BEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,cACbC,MAAO,CAAEsH,mBAlBD,kDAqBZgC,GAAgB,eAAI9D,gBAAJ,eAAclC,KAAK2D,UAAW,KAAIA,SArBtC,0DAAH,sDA2BjB,OACI,sBAAK/E,UAAU,iBAAf,UACI,qBAAKA,UAAU,cAAf,SAA8BmH,IAC9B,qBAAKnH,UAAU,MAAf,SACKgB,EAAMd,KAAI,SAACoH,EAAMlH,GAAP,OACP,qBACIC,GAAID,EAAI,EAERJ,WAAYsH,EAAO,QAAU,OAAS,QACtChH,QAASgH,EAAOD,EAAc,cAFzB,OAASjH,WC5CvB,SAASqH,GAAT,GAA+D,IAA9CzG,EAA6C,EAA7CA,MAAOE,EAAsC,EAAtCA,UAAWvB,EAA2B,EAA3BA,IAAKiB,EAAsB,EAAtBA,QAASC,EAAa,EAAbA,UAC5D,EAAwC6G,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KAgBA,OACI,sBAAKpH,UAAU,QAAf,UACI,qBAAKA,UAAU,WACf,qBAAKA,UAAU,mBAAf,SACKgB,EAAMf,OAAS,GAnBZ,SAACe,GAEb,IADA,IAAMpD,EAAS,GACNwC,EAAI,EAAGA,EAAIY,EAAMf,QAAS,CAC/B,IAAMkH,EAAOS,KAAKC,MAAMzH,EAAI,IAAM,EAClCxC,EAAO4G,KAAK,cAAC0C,GAAD,CAAelG,MAAOA,EAAM8G,MAAM1H,EAAGA,EAAI,IACjD+G,IAAKA,EAAKjG,UAAWA,EAAWvB,IAAKA,EACrCiB,QAASA,EAASC,UAAWA,EAC7BuG,gBAAiBA,GAHCD,IAKtB/G,GAAK,GAET,OAAOxC,EAQsBmK,CAAQ/G,GAAOd,KAAI,SAACiH,GAAD,OAAUA,SAEnDQ,GAAgB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCxBhD,SAASK,GAAT,GAAwC,IAAjB5C,EAAgB,EAAhBA,aAM9BvE,GACAuE,EALApH,KAKAoH,EAJAzF,IAIAyF,EAHAoC,UAGApC,EAFAxE,QAEAwE,EADAvE,WAGJ,OACI,8BAKQA,ICfD,SAASoH,KACpB,OACI,wBCFO,SAASC,GAAT,GAA4C,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UACzC,EAA4BV,mBAAS,CAAC,GAAI,GAAI,GAAI,GAAI,KAAtD,mBAAOW,EAAP,KAAeC,EAAf,KAOMC,EAAc,SAACxI,GACjB,IAAMM,EAAKkH,SAASxH,EAAMkB,OAAOZ,KAPf,SAACmI,GAEnB,IADA,IAAM5K,EAAS,CAAC,GAAI,GAAI,GAAI,GAAI,IACvBwC,EAAI,EAAGA,EAAIoI,EAAUpI,IAAIxC,EAAOwC,GAAK,SAC9CkI,EAAU1K,GAKV6K,CAAcpI,GACd+H,EAAU/H,IAOd,OACI,sBAAKL,UAAU,sBAAf,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKM,QAASiI,EAAavI,UAAW,kBAAoBqI,EAAO,GAAIhI,GAAG,MACxE,qBAAKC,QAASiI,EAAavI,UAAW,kBAAoBqI,EAAO,GAAIhI,GAAG,MACxE,qBAAKC,QAASiI,EAAavI,UAAW,kBAAoBqI,EAAO,GAAIhI,GAAG,MACxE,qBAAKC,QAASiI,EAAavI,UAAW,kBAAoBqI,EAAO,GAAIhI,GAAG,MACxE,qBAAKC,QAASiI,EAAavI,UAAW,kBAAoBqI,EAAO,GAAIhI,GAAG,SAE3E8H,GAAU,wBAAQ7H,QAbP,WAChBgI,EAAU,CAAC,GAAI,GAAI,GAAI,GAAI,KAC3BF,EAAU,OAWK,sBClBR,SAASM,GAAT,GAA6B,IAAPrI,EAAM,EAANA,GACzBpB,EAAa6B,qBAAW1B,GAAxBH,SACAX,EAAsBwC,qBAAW5C,GAAjCI,kBACA8D,EAAwBtB,qBAAWmB,GAAnCG,oBACR,EAAwCsF,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KACA,EAA4BM,mBAAS,MAArC,mBAAOS,EAAP,KAAeC,EAAf,KACA,EAA8BV,mBAAS,MAAvC,mBAAOxC,EAAP,KAAgByD,EAAhB,KAOMC,EAAa,uCAAG,gCAAAnG,EAAA,6DAClB2E,EAAgB,IACV5E,EAAU,GACZ2F,IAAQ3F,EAAQ2F,OAASA,GACzBjD,IAAS1C,EAAQ0C,QAAU,CAC3BhG,KAAMD,EAASL,WACfsG,UACA7E,GAAIG,gBAPU,kBAURyE,EAAWhG,EAASH,MAAO0D,EAASnC,GAV5B,uBAWW2B,GAAQ,UAXnB,OAWRT,EAXQ,OAYda,EAAoBjB,EAAc,CAAEI,gBACpCjD,EjBrC2B,CACnCjB,KAAM,UiBqCEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,qBAhBR,kDAmBdqC,GAAgB,eAAI9D,gBAAJ,eAAclC,KAAK2D,UAAW,KAAIA,SAnBpC,0DAAH,qDAuBnB,OACI,sBAAK/E,UAAU,yBAAf,UACI,cAACkI,GAAD,CAAYE,UAAWA,EAAWD,OAAQA,IAC1C,qBAAKnI,UAAU,uBAAf,SACI,0BAAU6I,QAjCC,SAAC9I,GACpBqH,EAAgB,IAChB,IAAM0B,EAAQ/I,EAAMkB,OAAOzC,MACTmK,EAAJ,KAAVG,EAAyB,KACbA,QA+BZ,wBACIC,UAAW7D,IAAYiD,EACvB7H,QAASsI,EAFb,sBAIGjB,GAAgB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCtDhD,SAASqB,GAAT,GAAqC,IAAbC,EAAY,EAAZA,SACnC,EAAgCvB,oBAAS,GAAzC,mBAAOwB,EAAP,KAAiBC,EAAjB,KACA,EAAkCzB,mBAAS,YAA3C,mBAAO0B,EAAP,KAAkBC,EAAlB,KAKA,OACI,sBAAKrJ,UAAU,sBAAf,UACI,0CACA,qBAAKA,UAAWoJ,EAAhB,SACKH,EAAS/I,KAAI,SAACgF,EAAS9E,GAAV,OACV,qBAAoBJ,UAAU,UAA9B,SAAyCkF,EAAQA,SAAvC1E,oBAGlB,8BACI,wBAAQF,QAbA,WAChB6I,GAAaD,GACbG,EAAa,YAAeH,EAAqB,GAAV,WAW/B,SACKA,EAAW,qBAAuB,4BCZxC,SAASI,GAAT,GAA+C,IAA9B3I,EAA6B,EAA7BA,YAAasI,EAAgB,EAAhBA,SAAU5I,EAAM,EAANA,GAC3C/B,EAAsBwC,qBAAW5C,GAAjCI,kBACA6D,EAAgBrB,qBAAWmB,GAA3BE,YAEFoH,ER8F6B,SAAC3I,EAAS2E,EAAU/D,GACvD,IAD4E,EACtE5D,EAAS,GACT4L,EAAoBjE,EAASrB,QAAO,qBAAGJ,OAAqBoC,SAAStF,MAFC,cAGxD4I,GAHwD,IAG5E,gCAAS5E,EAAT,QAAuChH,EAAO4G,KAAK,CAAEI,QAASA,EAAQzF,KAAMN,SAAU+F,EAAQ/F,SAAU6B,MAAOiE,EAAqB/D,EAASgE,EAAQvE,GAAImB,GAAmBX,UAAW+D,EAAQvE,MAHnH,8BAI5E,OAAOzC,EQlGU6L,CAAwBpJ,EAAI8B,EAAYV,aAAcU,EAAYX,kBAE7EkI,EAAiB,SAAC3J,GACpB,MAAwBwJ,EAASxJ,EAAMkB,OAAOZ,IAAtClB,EAAR,EAAQA,KAAMuB,EAAd,EAAcA,MACRG,EAAYd,EAAMkB,OAAO0I,cAActJ,GAC7C/B,EAAkBnB,EAAgB,CAC9BU,YAAa,mBACbC,MAAO,CAAEqB,OAAMuB,QAAOE,QAASP,EAAIQ,iBAG3C,OACI,sBAAKb,UAAU,mBAAf,UACI,qBAAKA,UAAU,yBAAf,SACKW,IAEL,qBAAKX,UAAU,kBAAf,SACKuJ,EAASrJ,KAAI,WAAmCE,GAAnC,IAAGwE,EAAH,EAAGA,QAAS/F,EAAZ,EAAYA,SAAUgC,EAAtB,EAAsBA,UAAtB,OACV,qBAAoBR,GAAIQ,EAAxB,SACI,qBAAKb,UAAU,gBAAgBM,QAASoJ,EAAgBrJ,GAAID,EAA5D,mBACQwE,EADR,aACoB/F,MAFd2B,oBAOlB,8BACKyI,EAAShJ,OAAS,EACf,cAAC+I,GAAD,CAAcC,SAAUA,IACxB,kDCvCb,IAAMW,GAAc,SAAC1K,EAAMP,GAAP,MAAoB,CAC3CtB,KAAM,QACN6B,OACAP,YAiBSkL,GAAoB,SAAChL,GAAD,MAAe,CAC5CxB,KAAM,eACNwB,aCwEWiL,GAnFG,SAAChM,GACf,IAAQwB,EAAqBwB,qBAAW1B,GAAhCE,iBACAhB,EAAsBwC,qBAAW5C,GAAjCI,kBACA8D,EAAwBtB,qBAAWmB,GAAnCG,oBAER,EAA0BsF,mBAAS,IAAnC,mBAAOqC,EAAP,KAAcC,EAAd,KACA,EAAgCtC,mBAAS,IAAzC,mBAAOuC,EAAP,KAAiBC,EAAjB,KACA,EAA8BxC,oBAAS,GAAvC,mBAAO/I,EAAP,KAAgBwL,EAAhB,KACA,EAAkDzC,oBAAS,GAA3D,mBAAO0C,EAAP,KAA0BC,EAA1B,KACA,EAAwD3C,oBAAS,GAAjE,mBAAO4C,EAAP,KAA6BC,EAA7B,KACA,EAAwC7C,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KACAoD,qBAAU,WACqB,KAAvB1M,EAAM6J,cACNP,EAAgBtJ,EAAM6J,gBAE3B,CAAC7J,EAAM6J,eACV,IAqBM8C,EAAY,uCAAG,WAAO1K,GAAP,iBAAA0C,EAAA,6DACjB1C,EAAM2K,iBADW,kBAGanI,EAAU,CAAEwH,QAAOE,WAAUtL,YAH1C,UAGPgM,EAHO,OAIbrL,EAAiBsK,GAAYe,EAAahM,KACtCA,EALS,iCAMYsE,EAAc0H,EAAY7L,OANtC,OAMH4E,EANG,OAOTtB,EAAoBjB,EAAcuC,IAPzB,QASbpF,ErBzD2B,CACnCjB,KAAM,UqB+Ce,kDAWb+J,EAAgB,KAAIrC,SAXP,0DAAH,sDAsBlB,OACI,sBAAK/E,UAAU,aAAf,UACI,uCAEqB,KAAjB2H,GAAuB,qBAAK3H,UAAU,gBAAf,SAAgC2H,IAE3D,uBAAM3H,UAAU,aAAa4K,SAAUH,EAAvC,UACI,uBAAOI,YAAY,QAAQC,OA9Cd,SAAC/K,GACtB,IAAMgL,EAAWhL,EAAMkB,OAAOzC,MAAMwM,OACnB,KAAbD,GACAf,EAAS,IACTK,GAAqB,KAErBL,EAASe,GACTV,GAAqB,QAwCfD,GAAqB,qBAAKpK,UAAU,kBAAf,wCACvB,uBAAO3C,KAAK,WAAWwN,YAAY,WAAWC,OArC9B,SAAC/K,GACzB,IAAMkL,EAAclL,EAAMkB,OAAOzC,MAAMwM,OACvCd,EAA4B,KAAhBe,EAAqB,GAAKA,GACtCV,EAAwC,KAAhBU,OAmCdX,GAAwB,qBAAKtK,UAAU,kBAAf,2CAC1B,sBAAKA,UAAU,cAAf,UAA6B,uBAAO3C,KAAK,WAAW6N,SAdrC,SAACnL,GACxBoK,EAAWpK,EAAMkB,OAAOkK,YAahB,oBACA,sBAAKnL,UAAU,kBAAf,UACI,wBAAQ3C,KAAK,SAAS0L,SAvDjB,KAAVgB,GAA6B,KAAbE,EAuDX,oBACA,qBAAKjK,UAAU,qBAAqBM,QArB3B,WACrBxC,EAAMsN,gBAAe,IAoBT,iC,4BCqFLC,GA9JO,SAACvN,GACnB,MAAuCgD,qBAAW1B,GAA1CH,EAAR,EAAQA,SAAUK,EAAlB,EAAkBA,iBACVhB,EAAsBwC,qBAAW5C,GAAjCI,kBACA8D,EAAwBtB,qBAAWmB,GAAnCG,oBACR,EAAwCsF,mBAAS,CAAC,GAAI,GAAI,GAAI,KAA9D,mBAAO4D,EAAP,KAAqBC,EAArB,KACA,EAA8C7D,mBAAS,CAAC,GAAI,GAAI,GAAI,KAApE,mBAAO8D,EAAP,KAAwBC,EAAxB,KACA,EAAsC/D,mBAAS,EAAC,GAAO,GAAO,GAAO,IAArE,mBAAOgE,EAAP,KAAoBC,EAApB,KACA,EAA0BjE,mBAAS,IAAnC,mBAAOqC,EAAP,KAAcC,EAAd,KACA,EAAgCtC,mBAAS,IAAzC,mBAAOuC,EAAP,KAAiBC,EAAjB,KACA,EAAgCxC,mBAAS,IAAzC,mBAAOkE,EAAP,KAAiBC,EAAjB,KAOMC,EAAmB,SAAC/G,EAASgH,EAAYC,EAAcC,GACzD,IAAMC,EAAkB,aAAOV,GACzBW,EAAe,aAAOb,GACtBc,EAAc,aAAOV,GAC3BQ,EAAmBD,GAAclH,EACjC0G,EAAmBS,GACnBC,EAAgBF,GAAcF,EAC9BR,EAAgBY,GAChBC,EAAeH,GAAcD,EAC7BL,EAAeS,IAGbC,EAAgB,SAClB7N,EACAyN,EACAK,EACAC,EACAC,EACAC,GAIIjO,EAAMyB,OAAS,EACXqM,EAAiB9N,IACjBsN,EAAiB,GAAI,IAAI,EAAMG,GAC/BM,EAAS/N,IAETsN,EAAiBW,EAAqB,iBAAiB,EAAOR,GAGlEH,EAAiBU,EAAqB,iBAAiB,EAAOP,IA+DhES,EAAY,uCAAG,WAAO3M,GAAP,qBAAA0C,EAAA,6DACjB1C,EAAM2K,iBADW,SAGPlI,EAAU,CAAEuH,QAAOE,WAAU9K,KAAMyM,EAAUjN,SAAUb,EAAM6O,aAHtD,SAIe9J,EAAUL,GAJzB,UAIPoK,EAJO,QAKT9O,EAAM6O,YALG,iBAKUrN,EAAiBsK,GAAYgD,GAAe,IALtD,yCAOY3J,EAAchE,EAASH,OAPnC,QAOH4E,EAPG,OAQTtB,EAAoBjB,EAAcuC,IARzB,QAUbpF,EtBlI2B,CACnCjB,KAAM,UsBkIEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,kCAbT,mDAiBP8H,EAAoB,CAAC,GAAI,GAAI,GAAI,KACrB,KAAIC,OAAS,GAAK,KAAI/H,QACxC0G,EAAmBoB,GAnBN,0DAAH,sDA4BlB,OACI,sBAAK7M,UAAU,aAAf,UACI,2CACA,uBAAM4K,SAAU8B,EAAhB,UACI,uBAAO7B,YAAY,WAAW7K,UAAWsL,EAAa,GAAIR,OA3F/C,SAAC/K,GACpB,IAAMgN,EAAchN,EAAMkB,OAAOzC,MAAMwM,OAIvCqB,EACIU,EACA,GALmB,SAACvO,GACpB,OAAO,IAMPqN,EACA,0BACA,qCAiF4B,KAAvBL,EAAgB,IAAa,qBAAKxL,UAAU,kBAAf,SAAkCwL,EAAgB,KAChF,uBAAOX,YAAY,QAAQ7K,UAAWsL,EAAa,GAAIR,OA9E/C,SAAC/K,GACjB,IAAMiN,EAAWjN,EAAMkB,OAAOzC,MAAMwM,OAEpCqB,EACIW,EACA,EACAC,KAAUC,QACVlD,EACA,4BACA,oBAsE4B,KAAvBwB,EAAgB,IAAa,qBAAKxL,UAAU,kBAAf,SAAkCwL,EAAgB,KAChF,uBAAOnO,KAAK,WAAWwN,YAAY,WAAW7K,UAAWsL,EAAa,GAAIR,OAnE/D,SAAC/K,GACpB,IAAMoN,EAAcpN,EAAMkB,OAAOzC,MAAMwM,OAKvCqB,EACIc,EACA,GANoB,SAAC3O,GAErB,MADsB,sDACD4O,KAAK5O,KAM1B0L,EACA,0BACA,wGAwD4B,KAAvBsB,EAAgB,IAAa,qBAAKxL,UAAU,kBAAf,SAAkCwL,EAAgB,KAChF,uBAAOnO,KAAK,WAAWwN,YAAY,qBAAqB7K,UAAWsL,EAAa,GAAIR,OArDjE,SAAC/K,GAC5B,IAAMsN,EAAmBtN,EAAMkB,OAAOzC,MAAMwM,OAI5CqB,EACIgB,EACA,GAL4B,WAC5B,OAAOpD,IAAaoD,KAMpB,cACA,qCACA,sCA2C4B,KAAvB7B,EAAgB,IAAa,qBAAKxL,UAAU,kBAAf,SAAkCwL,EAAgB,KAChF,sBAAKxL,UAAU,kBAAf,UACI,wBAAQ3C,KAAK,SAAS0L,SAzI3B2C,EAAYxF,UAAS,GAyIhB,oBACCpI,EAAM6O,aAAe,qBAAK3M,UAAU,qBAAqBM,QAlBrD,WACjBxC,EAAMsN,gBAAe,IAiBa,6BC7I3BkC,GAhBG,SAACxP,GAAW,IAAD,IAEnB6J,GAAoB,OAAL7J,QAAK,IAALA,GAAA,UAAAA,EAAOe,gBAAP,mBAAiB0O,aAAjB,eAAwBC,aACzC,oBAAsB,GAC1B,EAAsC9F,oBAAS,GAA/C,mBAAO+F,EAAP,KAAoBrC,EAApB,KACA,OACI,qBAAKpL,UAAW,aAAhB,SACI,qBAAKA,UAAU,mBAAf,SACKyN,EACG,cAAC,GAAD,CAAWrC,eAAgBA,EAAgBzD,aAAcA,IACzD,cAAC,GAAD,CAAeyD,eAAgBA,EAAgBuB,aAAa,SCVjE,SAASe,GAAT,GAA6B,IAAbC,EAAY,EAAZA,SACnBrP,EAAsBwC,qBAAW5C,GAAjCI,kBAEFsP,EAAgB,SAAC7N,GAEnB,MAA+B4N,EAAS5N,EAAMkB,OAAOZ,IAA7CxC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,MAKrBQ,EAAkBnB,EAJD,CACbU,cACAC,YAKR,OACI,qBAAKkC,UAAU,kBAAf,SACK2N,EAAS1N,OAAS,GAAK0N,EAASzN,KAAI,WAAYE,GAAZ,IAAGyN,EAAH,EAAGA,MAAH,OACjC,wBAAuBvN,QAASsN,EAAevN,GAAID,EAAnD,SAAuDyN,GAA1CrN,oBClBd,SAASsN,GAAT,GAAgH,IAA1FC,EAAyF,EAAzFA,SAAUC,EAA+E,EAA/EA,SAAUC,EAAqE,EAArEA,UAAWC,EAA0D,EAA1DA,cAAeC,EAA2C,EAA3CA,eAAgBC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,aACpGC,EAAQN,EAASG,GACvB,EAAwCzG,mBAAS,aAAI4G,IAArD,mBAAOC,EAAP,KAAqBC,EAArB,KAcMC,EAAkB,SAAC1O,GACrB,IAAMM,EAAKN,EAAMkB,OAAOZ,GACxB,GAAkB,UAAd4N,EAAuB,CACvB,IAAMS,EAAS,GACfA,EAAOrO,IAAM,EACb6N,GAAc,GACdG,EAAaK,QAEZ,GAAkB,aAAdT,EACL,GAAIlO,EAAMkB,OAAOkK,QAAS,CACtB,IAAMuD,EAASN,EACfM,EAAOrO,IAAM,EACbgO,EAAaK,GACbR,GAAc,OACX,CACH,IAAMQ,EAASN,SACRM,EAAOrO,GACdgO,EAAaK,GACbR,EAActO,OAAOC,KAAK6O,GAAQzO,OAAS,KAKvD,OACI,sBAAKD,UAAU,aAAf,UACI,qBAAKA,UAAU,QAAf,SACI,uBAAO6K,YAAa,QAAUkD,EAAUlF,QAvChC,SAAC9I,GACjB,IAAMvB,EAAQuB,EAAMkB,OAAOzC,MAC3B,GAAc,KAAVA,EACAgQ,EAAgBF,GAChBJ,EAActO,OAAOC,KAAKuO,GAAWnO,OAAS,OAC3C,CACH,IAAMiE,EAASoK,EAAMpK,QAAO,SAACyK,GAAD,OAAWA,EAAKxP,KAAKyP,cAAc1I,SAAS1H,EAAMoQ,kBAC9EJ,EAAgBtK,GAChBgK,EAAetO,OAAOC,KAAKuO,GAAWnO,OAAS,GAAOiE,EAAOjE,OAAS,SAiCtE,qBAAKD,UAAU,qBAAf,SACIuO,EAAatO,OAAS,GAAKsO,EAAarO,KAAI,SAACyO,GAAD,OACxC,sBAAoB3O,UAAU,gBAA9B,UACI,uBAAOK,GAAIsO,EAAKtO,GAAIhD,KAAM4Q,EAAW/C,SAAUuD,EAAiBtD,UAAWiD,EAAUO,EAAKtO,MAD9F,IACuGsO,EAAKxP,OADlGqB,uBC9Cf,SAASqO,GAAT,GAAwF,IAAjEd,EAAgE,EAAhEA,SAAUC,EAAsD,EAAtDA,SAAUG,EAA4C,EAA5CA,eAAgBW,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,WACpF,EAAoCrH,oBAAS,GAA7C,mBAAOsH,EAAP,KAAmBd,EAAnB,KACA,EAAkCxG,mBAAS,IAA3C,mBAAO0G,EAAP,KAAkBC,EAAlB,KAMMzF,EAAa,uCAAG,4BAAAnG,EAAA,6DACZwM,EAAgBC,EAAiBH,GADrB,SAEZD,EAAaG,GAFD,2CAAH,qDAKbC,EAAmB,SAACH,GACtB,OAAQA,GACJ,IAAK,SAAU,OAAOnP,OAAOC,KAAKuO,GAAW,GAC7C,QAAS,OAAOxO,OAAOC,KAAKuO,KAWpC,OACI,sBAAKpO,UAAU,cAAf,UACI,cAAC8N,GAAD,CACIC,SAAUA,EACVC,SAAUA,EACVC,UAZS,SAACc,GAClB,OAAQA,GACJ,IAAK,SAAU,MAAO,QACtB,QAAS,MAAO,YASDI,CAAaJ,GACxBX,UAAWA,EACXC,aAAcA,EACdH,cAAeA,EACfC,eAAgBA,IAEpB,sBAAKnO,UAAU,uBAAf,UACI,wBAAQM,QApCC,WACjB+N,EAAa,IACbH,GAAc,IAkCN,mBACA,wBAAQnF,UAAWiG,EAAY1O,QAASsI,EAAxC,SAAwDmG,UCpCzD,SAASK,KACpB,IAAQ9Q,EAAsBwC,qBAAW5C,GAAjCI,kBACA6D,EAAgBrB,qBAAWmB,GAA3BE,YAWR,OACI,gCACI,+CACA,cAAC,GAAD,CACI4L,SAAU,SACVC,SAAUjK,EACVoK,eAAgBhM,EAAYZ,WAC5BuN,aAhBU,SAACzO,GACnB/B,EAAkBnB,EAAgB,CAC9BU,YAAa,mBACbC,MAAO,CAAEuC,UAcL0O,WAAY,cCxBb,SAASM,GAAT,GAA8C,IAAtBC,EAAqB,EAArBA,kBAG7BjJ,EAFkBvF,qBAAWmB,GAA3BE,YAEsBT,cACxB6N,EAAkB,SAACxP,GACrB,IAAMlB,EAAWkB,EAAMkB,OAAOuO,UAC9BF,EAAkBzQ,IAEtB,OACI,sBAAKmB,UAAU,2BAAf,UACI,kDACA,8BACKqG,EAAUpG,OAAS,GAAKoG,EAAUnG,KAAI,SAACrB,GAAD,OACnC,qBAAoBmB,UAAU,gBAAgBM,QAASiP,EAAvD,SAAyE1Q,GAA/D2B,uBCXf,SAASiP,KACpB,IAAQnR,EAAsBwC,qBAAW5C,GAAjCI,kBACA6D,EAAgBrB,qBAAWmB,GAA3BE,YACFyG,EAAgB,aAgBtB,OACI,cAACyG,GAAD,CACIC,kBAfgB,SAACzQ,GACrBP,EAAkBnB,EAAgB,CAC9BU,YAAa,aACbC,MAAO,CACHiQ,SAAU,WACVC,SAAUrI,GACViF,SAAUhC,EACVuF,eAAgB,CAAEtP,WAAU0G,SAAUpD,EAAYV,cAClD5D,YAAa,4BCfd,SAAS6R,GAAT,GAA2E,IAArD3B,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,SAAUnQ,EAAgC,EAAhCA,YAAasQ,EAAmB,EAAnBA,eAC1D7P,EAAsBwC,qBAAW5C,GAAjCI,kBACR,EAAoCoJ,oBAAS,GAA7C,mBAAOsH,EAAP,KAAmBd,EAAnB,KACA,EAAkCxG,mBAAS,IAA3C,mBAAO0G,EAAP,KAAkBC,EAAlB,KAaA,OACI,sBAAKrO,UAAU,cAAf,UACI,cAAC8N,GAAD,CACIC,SAAUA,EACVC,SAAUA,EACVC,UAAW,QACXG,UAAWA,EACXC,aAAcA,EACdH,cAAeA,EACfC,eAAgBA,IAEpB,sBAAKnO,UAAU,uBAAf,UACI,wBAAQM,QAxBC,WACjB+N,EAAa,IACbH,GAAc,IAsBN,mBACA,wBAAQnF,UAAWiG,EAAY1O,QApBrB,WAClBhC,EAAkBnB,EAAgB,CAC9BU,cACAC,MAAO,CAAEuC,GAAIT,OAAOC,KAAKuO,GAAW,QAiBhC,0BC5BD,SAASuB,GAAT,GAAqC,IAAPtP,EAAM,EAANA,GACjC/B,EAAsBwC,qBAAW5C,GAAjCI,kBACA6D,EAAgBrB,qBAAWmB,GAA3BE,YACR,EAAgCmD,GAAejF,EAAI8B,EAAYV,cAAvDtC,EAAR,EAAQA,KAAM2E,EAAd,EAAcA,OAAQ9C,EAAtB,EAAsBA,MACtB,EAAkC0G,mBAASvI,GAA3C,mBAAOyQ,EAAP,KAAkBC,EAAlB,KACA,EAAoCnI,mBAAS1G,GAA7C,mBAAO8O,EAAP,KAAmBC,EAAnB,KACA,EAAoCrI,mBAAS5D,GAA7C,mBAAOkM,EAAP,KAAmBC,EAAnB,KACMC,EAAY,CAACL,EAAcE,GACjC,EAA0CrI,oBAAS,GAAnD,mBAAOyI,EAAP,KAAsBC,EAAtB,KACMnK,EAAY9D,EAAYZ,WAC9B,EAAyCmG,mBAAS,aAAIzB,IAAtD,mBAAOoK,EAAP,KAAqBC,EAArB,KAcMC,EAAgB,SAACxQ,GACnB,IAAM+M,EAAQ/M,EAAMkB,OAAO0I,cAActJ,GACnCmQ,EAAY,aAAOR,GACzBQ,EAAaC,OAAO3D,EAAO,GAC3BmD,EAAcO,GACdJ,EAAiBD,GAAyC,IAAxBK,EAAavQ,SAI7CyQ,EAAuB,SAAC3Q,GAC1B,IAAM+M,EAAQkD,EAAWW,QAAQ5Q,EAAMkB,OAAOZ,IACxCmQ,EAAY,aAAOR,GACrBlD,GAAS,GACT0D,EAAaC,OAAO3D,EAAO,GAC3BmD,EAAcO,KAGdA,EAAahM,KAAKzE,EAAMkB,OAAOZ,IAC/B4P,EAAcO,KAGhBI,EAAgB,SAAC7Q,GACnB,IAAM+M,EAAQ/M,EAAMkB,OAAOZ,GACrB7B,EAAQuB,EAAMkB,OAAOzC,MAC3B0R,EAAUpD,GAAOtO,IAuBrB,OACI,gCACI,iDAAmB,uBAAO6B,GAAG,IAAI7B,MAAOoR,EAAW1E,SAAU0F,OAC7D,0CAAY,uBAAOvQ,GAAG,IAAI7B,MAAOsR,EAAYzS,KAAK,SAAS6N,SAAU0F,OACrE,sBAAK5Q,UAAU,oBAAf,UACKgQ,EAAW9P,KAAI,SAACU,EAASR,GACtB,IAAQjB,EAASgF,EAAavD,EAASuB,EAAYZ,YAA3CpC,KACR,OAAQ,sBAAKa,UAAU,eAA8BK,GAAID,EAAGE,QAASiQ,EAA7D,UACJ,qBAAKvQ,UAAU,SAAf,oBAAqCb,IADEqB,kBAI/C,gCACI,wBAAQR,UAAU,kBAAkBM,QAhC3B,WACrB8P,GAAkBD,IA+BN,SAAgE,SAAYA,EAAyB,OAAT,QAAmB,YAC9GA,GAAiB,sBAAKnQ,UAAU,wBAAf,UACd,qBAAKA,UAAU,QAAf,SACI,uBAAO6K,YAAa,cAAehC,QA1EvC,SAAC9I,GACjB,IAAMvB,EAAQuB,EAAMkB,OAAOzC,MAC3B,GAAc,KAAVA,EACA8R,EAAiBrK,OAEd,CACH,IAAM/B,EAAS+B,EAAU/B,QAAO,SAACyK,GAAD,OAAWA,EAAKxP,KAAKyP,cAAc1I,SAAS1H,EAAMoQ,kBAClF0B,EAAiBpM,SAsEDmM,EAAanQ,KAAI,SAAC0D,EAAOxD,GAAR,OACb,gCACI,uBAAOC,GAAIuD,EAAMvD,GAAIhD,KAAK,WAAW8N,QAAS6E,EAAWW,QAAQ/M,EAAMvD,KAAO,EAAG6K,SAAUwF,IAAyB9M,EAAMzE,OADpHqB,2BAS9B,8BACI,wBAAQF,QA7CE,WAClB,IAAMyF,EAAiB,CACnB5G,KAAMyQ,EACN5O,MAAOuG,SAASuI,GAChBhM,OAAQkM,GAEZ1R,EAAkBnB,EAAgB,CAC9BU,YAAa,2BACbC,MAAO,CACHgI,cAAehC,EACfiC,iBACA1F,UAkCgC0I,SAAgC,IAAtBiH,EAAW/P,OAArD,8CC1GT,IAAM4Q,GAAmB,CAC5BC,MAAO,IAkBIC,GAdU,SAACC,EAAWrT,GACjC,OAAQA,EAAON,MACX,IAAK,MACD,OAAO,2BACA2T,GADP,IAEIF,MAAOnT,EAAOmT,QAEtB,QACI,OAAO,eAAKE,KCVXC,GAAmB9S,0BAWjB+S,GATkB,SAACpT,GAC9B,MAAuCO,qBAAW0S,GAAkBF,IAApE,mBAAOG,EAAP,KAAkBG,EAAlB,KACA,OACI,cAACF,GAAiB1S,SAAlB,CAA2BC,MAAO,CAAEwS,YAAWG,qBAA/C,SACKrT,EAAMV,YCNJ,SAASgU,GAAT,GAAsC,IAAnBC,EAAkB,EAAlBA,WAAYhR,EAAM,EAANA,GAClC2Q,EAAclQ,qBAAWmQ,IAAzBD,UACRxG,qBAAU,cAEP,CAACwG,EAAUF,QAKd,OACI,sBAAK9Q,UAAU,sBAAsBM,QAJxB,SAACP,GACdsR,EAAWtR,EAAOiR,EAAUF,QAG4BzQ,GAAIA,EAA5D,UACI,mCACI,wCAAmB,wCAAmB,wCACtC,wCAAmB,wCAAmB,wCAAmB,wCACzD,wCAAmB,wCAAmB,wCACtC,wCAAmB,2CACd,mCACL,wCAAmB,8CCpB5B,IAAMiR,GAAiB,SAACR,GAAD,MAAY,CACtCzT,KAAM,MACNyT,UCOW,SAASS,GAAT,GAAuF,IAA7DC,EAA4D,EAA5DA,eAAgBxQ,EAA4C,EAA5CA,MAAOyQ,EAAqC,EAArCA,aAAc3E,EAAuB,EAAvBA,MAAO9G,EAAgB,EAAhBA,aAEzE7D,EAAgBrB,qBAAWmB,GAA3BE,YACR,EAAyCrB,qBAAWmQ,IAA5CD,EAAR,EAAQA,UAAWG,EAAnB,EAAmBA,kBACXhS,EAASgF,EAAaqN,EAAe5Q,QAASuB,EAAYZ,YAA1DpC,KACFI,EAAO,CAAC,SAAU,UAAW,YAAa,WAC5C,SAAU,WAAY,UACpBmS,EAAU,SAACC,GACb,IAD8B,EACxB/T,EAAS,GADe,cAEb+T,GAFa,IAE9B,gCAASlS,EAAT,QACI7B,EAAO4G,KAAK+C,SAAS3H,OAAOC,KAAKJ,GAAM,IAAM,IAHnB,8BAI9B,OAAO7B,GAEL8C,EAAQ8Q,EAAe9Q,MAC7B,EAAwCgH,mBAAS,aAAIhH,IAArD,mBAAOiR,EAAP,KAAqBC,EAArB,KACA,EAAwClK,mBAASgK,EAAQC,IAAzD,mBAAOE,EAAP,KAAqBC,EAArB,KACA,EAA4BpK,oBAAS,GAArC,mBAAOqK,EAAP,KAAeC,EAAf,KACA,EAAsBtK,mBAAS,cAA/B,mBAAO/H,EAAP,KAAYsS,EAAZ,KACAzH,qBAAU,WACNoH,EAAgB5L,EAAa8G,GAAOpM,SAErC,CAACsF,EAAc8G,IAClB,IA4BMoF,EAAc,SAACC,GAEjB,IADA,IAAMnR,EAAQ,GACLZ,EAAI,EAAGA,EAAI+R,EAAU/R,IAAIY,EAAMwD,MAAK,GAC7C,OAAOxD,GAsBLqQ,EAAa,SAACtR,EAAOqS,GAAO,IAAD,EAC7B,GAAK,UAACrS,EAAMkB,OAAO7D,SAAS,UAAvB,aAAC,EAA0BA,SAAS,GAAI,CACzC,IAAMiV,EAAKD,EAAElO,QAAO,SAACoO,GAAD,OAAWA,EAAKxU,MAAMuC,KAAON,EAAMkB,OAAOZ,MAAM,GAC9DyM,EAAQsF,EAAEzB,QAAQ0B,GAClBE,EAAW,GAAGxU,OAAOqU,EAAEtK,MAAM,EAAGgF,GAAQsF,EAAEtK,MAAMgF,EAAQ,IAAM,IACpEqE,EAAkBG,GAAeiB,IAGrCxS,EAAMyS,mBAOV,OACI,sBAAKxS,UAAU,8BAAf,UACI,6BAAKb,IACL,qBAAKa,UAAU,8BAAf,SAEQ2R,EAAa1R,OAAS,GAAK0R,EAAazR,KAAI,SAACT,GAEzC,OACI,cAACD,EAAD,CAAyBC,KAAMA,EAAMC,YAAa,cAAnCc,sBAK5BuR,GAAU,sBAAK/R,UAAU,qBAAf,UACT,yBAAQkL,SAlFA,SAACnL,GACjBkS,EAAOlS,EAAMkB,OAAOzC,QAiFmBA,MAAOmB,EAAtC,UACI,iCAAS,eACRJ,EAAK2E,QAAO,SAAC3E,EAAMa,GAAP,OAAeyR,EAAa3L,SAAS9F,MAAKF,KAAI,SAACP,GAAD,OAAU,iCAAwBA,GAAXa,qBAEtF,qBAAKR,UAAU,gBAAf,SACKgR,EAAUF,MAAM7Q,OAAS,GAAK+Q,EAAUF,MAAM5Q,KAAI,SAACoS,GAAD,OAAWA,OAGlE,qBAAKtS,UAAU,0BAA0BM,QA1B9B,WACnB6Q,EAAkBG,GAAe,GAAGvT,OAAOiT,EAAUF,MAAO,cAACM,GAAD,CAAwBC,WAAYA,EAAYhR,GAAIG,eAAtCA,mBAyBlE,eAEA,wBAAQR,UAAU,kBAAkBM,QA1DvB,SAACP,GACtB,IAAMJ,EAAMI,EAAMkB,OAAO0I,cAAc8I,WAAWjU,MAC5CkU,EAASnT,EAAKoR,QAAQhR,GAAO,EAE7BgT,EA7BO,SAAC7B,GACd,IADwB,EAClBlT,EAAS,GADS,cAEPkT,GAFO,IAExB,2BAAwB,CAAC,IAAhBwB,EAAe,QACd7S,EAAO,GACPmT,EAAKrL,SAAS+K,EAAKlV,SAAS,GAAGoB,OAC/BqU,EAAKP,EAAKlV,SAAS,GAAGoB,MAC5BiB,EAAKc,UAAL,UAAoBqS,EAApB,YAA0BC,GAC1BpT,EAAKqT,QAAL,UAAkBF,EAAK,EAAvB,YAA4BC,GAC5BpT,EAAKuB,MAAQkR,EAAYlR,GACzBpD,EAAO4G,KAAK/E,IATQ,8BAgBxB,OALA7B,EAAOmV,MAAK,SAACtQ,EAAGuQ,GACZ,IAAMC,EAAKxQ,EAAElC,UAAU2S,MAAM,KACvBC,EAAKH,EAAEzS,UAAU2S,MAAM,KAC7B,OAAQ3L,SAAS0L,EAAG,IAAM1L,SAAS4L,EAAG,OAEnCvV,EAaWwV,CADYrT,EAAMkB,OAAO0I,cAAcvM,SAAS,GACjBA,UAC3CqC,EAAO,GACbA,EAAKiT,GAAUC,EACf,IAAMU,EAAW1B,EACjB0B,EAAS7O,KAAK/E,GACd4T,EAASN,MAAK,SAACtQ,EAAGuQ,GAAJ,OAAWpT,OAAOC,KAAK4C,GAAG,GAAK7C,OAAOC,KAAKmT,GAAG,MAC5D5P,QAAQC,IAAIgQ,GACZzB,EAAgB,aAAIyB,IACpBlC,EAAkBG,GAAe,KACjCQ,EAAgBJ,EAAQ2B,IACxBrB,GAAU,GACVP,EAAa3E,EAAOuG,IA2CmDtK,UAAWiI,EAAUF,MAAM7Q,OAAS,GAAa,eAARN,EAAxG,oBAEJ,wBAAQK,UAAU,kBAAkBM,QA1FtB,WAClB0R,EAAUH,EAAa5R,OAAS,IAyFgC8I,SAAUgJ,GAAUF,EAAa5R,OAAS,EAAtG,wBClHG,SAASqT,GAAT,GAA0E,IAAtCxN,EAAqC,EAArCA,cAAeC,EAAsB,EAAtBA,eAAgB1F,EAAM,EAANA,GACtE/B,EAAsBwC,qBAAW5C,GAAjCI,kBACAW,EAAa6B,qBAAW1B,GAAxBH,SACR,EAA6C6B,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBACrB,EAAwCsF,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KACMmM,E1BmL4B,SAAC1S,EAAWiD,EAAQtC,GACtD,IAAM5D,EAAS,GACT4V,EAAchS,EAAiB0C,QAAO,qBAAGU,UAA2B/D,KAK1E,OAJAiD,EAAOO,SAAQ,SAACT,GAAW,IAAD,EAChBlD,EAAK,UAAG8S,EAAYtP,QAAO,qBAAGK,QAAuBX,KAAQ,UAAxD,aAAG,EAAyDlD,MACnEA,GAAO9C,EAAO4G,KAAK,CAAE5D,QAASgD,EAAOlD,aAEtC9C,GAAU,G0B1LC6V,CAAuBpT,EAAI0F,EAAejC,OAAQ3B,EAAYX,kBAChF,EAAwCkG,mBAAS,aAAI6L,IAArD,mBAAOvN,EAAP,KAAqB0N,EAArB,KACA,EAAoDhM,oBAAS,GAA7D,mBAAOiM,EAAP,KAA2BC,EAA3B,KACMC,EAAc,SAAC/G,EAAOyG,GACxB,IAAMF,EAAQ,aAAOrN,GACrBqN,EAASvG,GAAOpM,MAAQ6S,EACxBF,EAASvG,GAAOjI,cAAe,EAC/B6O,EAAgBL,IAEpB7I,qBAAU,WACN,IADY,EACRsJ,GAAS,EADD,cAEM9N,GAFN,IAEZ,2BAAgC,CACD,IADC,QAClBtF,MAAMT,SAAc6T,GAAS,GACvCF,EAAsBE,IAJd,iCAMb,CAAC9N,IACJ,IAAM+N,EAAa,uCAAG,8BAAAtR,EAAA,sEAEd2E,EAAgB,IAFF,SAGRvB,GAAc5G,EAASH,MAAOuB,EAAIyF,EAAeC,EAAgBC,GAHzD,cAId5C,QAAQC,IAAI2C,EAAcF,EAAeC,GAJ3B,SAKa/D,GAAQ,YALrB,cAKRP,EALQ,iBAMiBO,GAAQ,aANzB,QAMRR,EANQ,OAOdY,EAAoBjB,EAAc,CAAEM,eAAcD,sBAClDlD,ErCxC2B,CACnCjB,KAAM,UqCwCEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,yBAXR,kDAeV,KAAIzB,SAAU8D,EAAgB,KAAI9D,SAASlC,KAAK2D,SAC/CqC,EAAgB,KAAIrC,SAhBX,0DAAH,qDAqBnB,OACI,sBAAK/E,UAAU,6BAAf,UACKuT,EAAUtT,OAAS,GAAKsT,EAAUrT,KAAI,SAACoE,EAAUlE,GAAX,OACnC,cAAC,GAAD,UACI,cAACmR,GAAD,CAAgBC,eAAgBlN,EAAUtD,MAAO+E,EAAe/E,MAAOyQ,aAAcoC,EAAa/G,MAAO1M,EAAG4F,aAAcA,KAD/FxF,kBAInC,wBAAQuI,UAAW4K,EAAoBrT,QAASyT,EAAhD,4BAEqB,KAAjBpM,GAAuB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCtDxD,SAASqM,KACpB,IAAQ1V,EAAsBwC,qBAAW5C,GAAjCI,kBACR,EAA6CwC,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBACbnD,EAAa6B,qBAAW1B,GAAxBH,SAER,EAAgCyI,mBAAS,IAAzC,mBAAO7I,EAAP,KAAiBoV,EAAjB,KACA,EAAwCvM,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KAOM8M,EAAkB,uCAAG,8BAAAzR,EAAA,yDACvB2E,EAAgB,IACXhB,GAAyBvH,EAAUsD,EAAYT,eAF7B,0CAITyE,GAAelH,EAASH,MAAOD,GAJtB,uBAKamD,GAAQ,aALrB,OAKTN,EALS,OAMfU,EAAoBjB,EAAc,CAAEO,mBACpCpD,EAAkBnB,EAAgB,CAC9BU,YAAa,qBACbC,MAAO,CACHe,eAVO,kDAcfuI,GAAgB,eAAI9D,gBAAJ,eAAclC,KAAK2D,UAAW,KAAIA,SAdnC,gCAiBhBqC,EAAgB,4BAjBA,0DAAH,qDAmBxB,OACI,gCACI,sDACA,uBAAOyB,QA3BS,SAAC9I,GACA,KAAjB4H,GAAqBP,EAAgB,IACzC6M,EAAYlU,EAAMkB,OAAOzC,UA0BrB,wBAAQ8B,QAAS4T,EAAoBnL,SAAuB,KAAblK,EAA/C,mBACG8I,GAAgB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCzChD,SAASwM,KACpB,IAAQ7V,EAAsBwC,qBAAW5C,GAAjCI,kBAOR,OACI,cAAC+Q,GAAD,CACIC,kBARgB,SAACzQ,GACrBP,EAAkBnB,EAAgB,CAC9BU,YAAa,qBACbC,MAAO,CAAEe,kBCLN,SAASuV,GAAT,GAA6E,IAA7CvT,EAA4C,EAA5CA,UAAWwT,EAAiC,EAAjCA,kBAAmBC,EAAc,EAAdA,WACjEnS,EAAgBrB,qBAAWmB,GAA3BE,YACR,EAAgCmD,GAAezE,GAAvC1B,EAAR,EAAQA,KAAM2E,EAAd,EAAcA,OAAQ9C,EAAtB,EAAsBA,MACtB,EAAkC0G,mBAASvI,GAA3C,mBAAOyQ,EAAP,KAAkBC,EAAlB,KACA,EAAoCnI,mBAAS1G,GAA7C,mBAAO8O,EAAP,KAAmBC,EAAnB,KACA,EAAoCrI,mBAAS5D,GAA7C,mBAAOkM,EAAP,KAAmBC,EAAnB,KACMC,EAAY,CAACL,EAAcE,GACjC,EAA0CrI,oBAAS,GAAnD,mBAAOyI,EAAP,KAAsBC,EAAtB,KACMnK,EAAsB9D,EAAYZ,WACxC,EAAyCmG,mBAAS,aAAIzB,IAAtD,mBAAOoK,EAAP,KAAqBC,EAArB,KAaMC,EAAgB,SAACxQ,GACnB,IAAM+M,EAAQ/M,EAAMkB,OAAO0I,cAActJ,GACnCmQ,EAAY,aAAOR,GACzBQ,EAAaC,OAAO3D,EAAO,GAC3BmD,EAAcO,GACdJ,EAAiBD,GAAyC,IAAxBK,EAAavQ,SAI7CyQ,EAAuB,SAAC3Q,GAC1B,IAAM+M,EAAQkD,EAAWW,QAAQ5Q,EAAMkB,OAAOZ,IACxCmQ,EAAY,aAAOR,GACrBlD,GAAS,GACT0D,EAAaC,OAAO3D,EAAO,GAC3BmD,EAAcO,KAGdA,EAAahM,KAAKzE,EAAMkB,OAAOZ,IAC/B4P,EAAcO,KAGhBI,EAAgB,SAAC7Q,GACnB,IAAM+M,EAAQ/M,EAAMkB,OAAOZ,GACrB7B,EAAQuB,EAAMkB,OAAOzC,MAC3B0R,EAAUpD,GAAOtO,IAOfoK,EAAa,uCAAG,4BAAAnG,EAAA,6DACZsD,EAAiB,CACnB5G,KAAMyQ,EACN5O,MAAOuG,SAASuI,GAChBhM,OAAQkM,GAJM,kBAORqE,EAAkBtO,EAAgBlF,EAAWiD,GAPrC,sDAQFV,QAAQC,IAAR,MARE,wDAAH,qDAanB,OACI,gCACI,iDAAmB,uBAAOhD,GAAG,IAAI7B,MAAOoR,EAAW1E,SAAU0F,OAC7D,0CAAY,uBAAOvQ,GAAG,IAAI7B,MAAOsR,EAAYzS,KAAK,SAAS6N,SAAU0F,OACrE,sBAAK5Q,UAAU,oBAAf,UACKgQ,EAAW9P,KAAI,SAACU,EAASR,GACtB,IAAQjB,EAASgF,EAAavD,EAASuB,EAAYZ,YAA3CpC,KACR,OAAQ,sBAAKa,UAAU,eAA8BK,GAAID,EAAGE,QAASiQ,EAA7D,UACJ,qBAAKvQ,UAAU,SAAf,oBAAqCb,IADEqB,kBAI/C,gCACI,wBAAQR,UAAU,kBAAkBM,QA7B3B,WACrB8P,GAAkBD,IA4BN,SAAgE,SAAYA,EAAyB,OAAT,QAAmB,YAC9GA,GAAiB,sBAAKnQ,UAAU,wBAAf,UACd,qBAAKA,UAAU,QAAf,SACI,uBAAO6K,YAAa,cAAehC,QAvEvC,SAAC9I,GACjB,IAAMvB,EAAQuB,EAAMkB,OAAOzC,MAC3B,GAAc,KAAVA,EACA8R,EAAiBrK,OAEd,CACH,IAAM/B,EAAS+B,EAAU/B,QAAO,SAACyK,GAAD,OAAWA,EAAKxP,KAAKyP,cAAc1I,SAAS1H,EAAMoQ,kBAClF0B,EAAiBpM,SAmEDmM,EAAanQ,KAAI,SAAC0D,EAAOxD,GAAR,OACb,gCACI,uBAAOC,GAAIuD,EAAMvD,GAAIhD,KAAK,WAAW8N,QAAS6E,EAAWW,QAAQ/M,EAAMvD,KAAO,EAAG6K,SAAUwF,IAAyB9M,EAAMzE,OADpHqB,2BAS9B,8BACI,wBAAQF,QAASsI,EAAeG,SAAgC,IAAtBiH,EAAW/P,QAA8B,KAAd2P,IAAqBE,EAAa,EAAvG,SAA2GwE,SC3F5G,SAASC,GAAT,GAA2C,IAAb1V,EAAY,EAAZA,SACjCI,EAAa6B,qBAAW1B,GAAxBH,SACR,EAA6C6B,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBACrB,EAAkDsF,oBAAS,GAA3D,mBAAO8M,EAAP,KAA0BC,EAA1B,KACA,EAAwC/M,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KAKMwB,EAAa,uCAAG,WAAO7C,GAAP,mBAAAtD,EAAA,yDAClB2E,EAAgB,IACX5B,GAAwBO,EAAe5G,KAAMN,EAAUsD,EAAYV,cAFtD,wBAGRmD,EAAUmB,GACRlH,SAAWA,EACnB4V,GAAqB,GALP,kBAOJpP,GAAcpG,EAASH,MAAO8F,GAP1B,wBAQiB5C,GAAQ,YARzB,QAQJP,EARI,OASVW,EAAoBjB,EAAc,CAAEM,kBAT1B,kDAWV2F,GAAgB,eAAI9D,gBAAJ,eAAclC,KAAK2D,UAAW,KAAIA,SAXxC,gCAeXqC,EAAgB,2BAfL,0DAAH,sDAkBnB,OACI,sBAAKpH,UAAU,6BAAf,UACI,yBAAQM,QAxBa,WACzBmU,GAAsBD,GACtBpN,EAAgB,KAsBZ,UAAwCoN,EAAoB,IAAM,IAAlE,kBACCA,GAAqB,qBAAKxU,UAAU,uBAAf,SAClB,cAACoU,GAAD,CACIvT,UAAWL,cACX8T,WAAY,cACZD,kBAAmBzL,QAGxBjB,GAAgB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCxChD,SAAS+M,KACpB,IAAQpW,EAAsBwC,qBAAW5C,GAAjCI,kBAaFsK,EAAgB,SAAC/J,I/BuMG,SAACA,EAAU0G,GACrCnC,QAAQC,IAAIxE,GACZ,IAAM8V,EAAmBhP,GAAsB,CAAE9G,WAAU0G,aAAYrF,KAAI,qBAAGG,OAAkB,GAChG+C,QAAQC,IAAIsR,G+BzMRC,CAAe/V,IAGnB,OACI,cAACwQ,GAAD,CACIC,kBAjBgB,SAACzQ,GACrBP,EAAkBnB,EAAgB,CAC9BU,YAAa,gBACbC,MAAO,CACH+W,aAAcjM,EACd0F,MAAO,CAACzP,GACRiW,iBAAkBjW,SCVnB,SAASkW,GAAT,GAAmE,IAA1CF,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,iBAAkBxG,EAAS,EAATA,MAC5DhQ,EAAsBwC,qBAAW5C,GAAjCI,kBAMF0W,EAAa,uCAAG,sBAAAvS,EAAA,sEACZoS,EAAaC,GADD,OAElBxW,E3Cb+B,CACnCjB,KAAM,U2CUgB,2CAAH,qDAKnB,OACI,gCACI,kEACA,8BACKiR,EAAMrO,OAAS,GAAKqO,EAAMpO,KAAI,SAACyO,EAAMvO,GAClC,IAAM6U,EAAY7U,IAAMkO,EAAMrO,OAAS,EAAI,IAAM,KACjD,MAAM,GAAN,OAAW0O,GAAX,OAAkBsG,QAG1B,sBAAKjV,UAAU,uBAAf,UACI,wBAAQA,UAAU,gBAAgBM,QAAS0U,EAA3C,oBACA,wBAAQ1U,QApBE,WAClBhC,E3CR+B,CACnCjB,KAAM,W2C0BM,0BCtBD,SAAS6X,KACpB,IAAQ5W,EAAsBwC,qBAAW5C,GAAjCI,kBAQR,OACI,cAAC+Q,GAAD,CACIC,kBATgB,SAACzQ,GACrBP,EAAkBnB,EAAgB,CAC9BU,YAAa,iBACbC,MAAO,CAAEe,kBCLN,SAASsW,GAAT,GAAuC,IAAbtW,EAAY,EAAZA,SAC7BP,EAAsBwC,qBAAW5C,GAAjCI,kBAiBFsK,EAAgB,SAACrD,IlC+HG,SAACA,GAC3BnC,QAAQC,IAAIkC,GkC/HR6P,CAAe7P,IAEnB,OACI,cAAC,GAAD,CACIwI,SAAU,WACVC,SAAUrI,GACVwI,eAAgBtP,EAChBiQ,aAvBc,SAACR,GACnB,IAAM+G,EAAgB/G,EAAMpO,KAAI,SAACyO,GAC7B,IAAQxP,EAASmG,GAAeqJ,GAAxBxP,KACR,MAAM,GAAN,OAAUA,EAAV,cAAoBN,MAExBP,EAAkBnB,EAAgB,CAC9BU,YAAa,gBACbC,MAAO,CACH+W,aAAcjM,EACd0F,MAAO+G,EACPP,iBAAkBxG,OActBS,WAAY,WC9BT,SAASuG,GAAT,GAGX,IAFAC,EAED,EAFCA,QAASC,EAEV,EAFUA,WACTC,EACD,EADCA,YAAaC,EACd,EADcA,aAAcC,EAC5B,EAD4BA,gBASrBC,EAAiB,uCAAG,WAAO7V,GAAP,iBAAA0C,EAAA,sDAChBoT,EAAe9V,EAAMkB,OAAO6U,gBAC5BP,EAAUM,EAAarX,MAC7BgX,EAAWD,GAHW,2CAAH,sDAOvB,OACI,2CAEI,gCACI,uBAAOlV,GAAG,IAAIwI,QAAS4M,KACrBF,GAAW,wBAAQjV,QAASsV,EAAmB7M,UAAW2M,EAA/C,sBAEdH,GAAW,sBAAKvV,UAAU,2BAAf,UACV,qBAAKA,UAAU,gBAAgB+V,IAAKR,EAASS,IAAI,oBACjD,wBAAQ1V,QAtBC,SAACP,GACUA,EAAMkB,OAAO0I,cAAcmM,gBAAgB1Y,SAAS,GAC5DoB,MAAQ,GAC5BgX,EAAW,MACXG,EAAgB,OAkBR,yBCrBD,SAASM,KACpB,IAAQhX,EAAa6B,qBAAW1B,GAAxBH,SACAX,EAAsBwC,qBAAW5C,GAAjCI,kBACA8D,EAAwBtB,qBAAWmB,GAAnCG,oBACR,EAAwBsF,mBAAS,IAAjC,mBAAOvI,EAAP,KAAa+W,EAAb,KACA,EAAgCxO,mBAAS,IAAzC,mBAAOyO,EAAP,KAAiBC,EAAjB,KACA,EAA8B1O,mBAAS,IAAvC,mBAAOlB,EAAP,KAAgB6P,EAAhB,KACA,EAA8B3O,mBAAS,MAAvC,mBAAO6N,EAAP,KAAgBC,EAAhB,KACA,EAAwC9N,mBAAS,MAAjD,mBAAOgO,EAAP,KAAqBC,EAArB,KACMW,EAAW,CAACJ,EAASE,EAAaC,EAAYV,GACpD,EAAwCjO,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KACMqO,EAAc,SAAC1V,GACI,KAAjB4H,GAAqBP,EAAgB,IACzC,IAAM0F,EAAQ/M,EAAMkB,OAAOZ,GACrB7B,EAAQuB,EAAMkB,OAAOzC,MAC3B8X,EAASxJ,GAAOtO,IAGd+X,EAAU,uCAAG,4BAAA9T,EAAA,+EAEL8D,GAAWtH,EAASH,MAAO,CAAEK,OAAMgX,WAAU3P,UAAS+O,YAFjD,cAIXjX,E/C9B2B,CACnCjB,KAAM,U+CyBa,SAKY2E,GAAQ,YALpB,OAKLL,EALK,OAMXS,EAAoBjB,EAAc,CAAEQ,cACpCrD,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,qBATX,kDAYP,KAAIzB,SAAU8D,EAAgB,KAAI9D,SAASlC,KAAK2D,SAC/CqC,EAAgB,KAAIrC,SAbd,0DAAH,qDAiBhB,OACI,sBAAK/E,UAAU,cAAf,mBACU,uBAAOK,GAAG,IAAIwI,QAAS4M,IADjC,aAEc,uBAAOpV,GAAG,IAAIwI,QAAS4M,IAFrC,WAGY,0BAAUpV,GAAG,IAAIwI,QAAS4M,IAElC,cAACH,GAAD,CACIC,QAASA,EACTC,WAAYA,EACZC,YAAaA,EACbC,aAAcA,EACdC,gBAAiBA,IAErB,wBACI5M,UAAW5J,IAASgX,IAAa3P,EACjClG,QAASiW,EAFb,yBAMqB,KAAjB5O,GAAuB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCzDxD,SAAS6O,KACpB,IAAQrU,EAAgBrB,qBAAWmB,GAA3BE,YACR,OACI,cAACuN,GAAD,CACI1B,SAAUlH,GACVqH,eAAgBhM,EAAYR,SAC5BoM,SAAS,WACTlQ,YAAY,uBCJT,SAAS4Y,GAAT,GAAqC,IAAPpW,EAAM,EAANA,GACzC,EAA6CS,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBACbnD,EAAa6B,qBAAW1B,GAAxBH,SACAX,EAAsBwC,qBAAW5C,GAAjCI,kBACR,EAA6C0I,GAAe3G,EAAI8B,EAAYR,UAApExC,EAAR,EAAQA,KAAMgX,EAAd,EAAcA,SAAU3P,EAAxB,EAAwBA,QAAS+O,EAAjC,EAAiCA,QACjC,EAAkC7N,mBAASvI,GAA3C,mBAAOyQ,EAAP,KAAkBC,EAAlB,KACA,EAA0CnI,mBAASyO,GAAnD,mBAAOO,EAAP,KAAsBC,EAAtB,KACA,EAAwCjP,mBAASlB,GAAjD,mBAAOoQ,EAAP,KAAqBC,EAArB,KACA,EAAwCnP,mBAAS6N,GAAW,IAA5D,mBAAOG,EAAP,KACMY,EAAW,CAACzG,EAAc8G,EAAkBE,EADlD,MAEA,EAAwCnP,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KAEMqO,EAAc,SAAC1V,GACjB,IAAM+M,EAAQ/M,EAAMkB,OAAOZ,GACrB7B,EAAQuB,EAAMkB,OAAOzC,MAC3B8X,EAASxJ,GAAOtO,IAIduV,EAAa,uCAAG,4BAAAtR,EAAA,sEAEd2E,EAAgB,IAFF,SAGRX,GAAcpG,EAAI,CACpBlB,KAAMyQ,EACNuG,SAAUO,EACVlQ,QAASoQ,EACTrB,QAASG,GACVzW,EAASH,OARE,uBASSkD,GAAQ,YATjB,OASRL,EATQ,OAUdS,EAAoBjB,EAAc,CAAEQ,cACpCrD,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,uBAbR,kDAgBdqC,EAAgB,KAAIrC,SAhBN,0DAAH,qDAqBnB,OACI,sBAAK/E,UAAU,cAAf,mBACU,uBAAOxB,MAAOoR,EAAWvP,GAAG,IAAIwI,QAAS4M,IADnD,aAEc,0BAAUjX,MAAOkY,EAAerW,GAAG,IAAIwI,QAAS4M,IAF9D,WAGY,0BAAUjX,MAAOoY,EAAcvW,GAAG,IAAIwI,QAAS4M,IAH3D,WAIY,uBAAOjX,MAAOkX,EAAcrV,GAAG,IAAIwI,QAAS4M,IACpD,wBAAQnV,QAASyT,EAAehL,UAAW6G,IAAc8G,IAAkBE,EAA3E,oBAEqB,KAAjBjP,GAAuB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCrDxD,SAASkH,GAAT,GAA4E,IAArDd,EAAoD,EAApDA,SAAUC,EAA0C,EAA1CA,SAAUG,EAAgC,EAAhCA,eAAgBW,EAAgB,EAAhBA,aACtE,EAAoCpH,oBAAS,GAA7C,mBAAOsH,EAAP,KAAmBd,EAAnB,KACA,EAAkCxG,mBAAS,IAA3C,mBAAO0G,EAAP,KAAkBC,EAAlB,KAWA,OACI,sBAAKrO,UAAU,cAAf,UACI,cAAC8N,GAAD,CACIC,SAAUA,EACVC,SAAUA,EACVC,UAAW,WACXG,UAAWA,EACXC,aAAcA,EACdH,cAAeA,EACfC,eAAgBA,IAEpB,sBAAKnO,UAAU,uBAAf,UACI,wBAAQM,QAtBC,WACjB+N,EAAa,IACbH,GAAc,IAoBN,mBACA,wBAAQnF,UAAWiG,EAAY1O,QAlBrB,WAClB,IAAM2O,EAAgBrP,OAAOC,KAAKuO,GAClCU,EAAaG,IAgBL,0BCrBD,SAAS6H,KACpB,IAAQ7X,EAAa6B,qBAAW1B,GAAxBH,SACAX,EAAsBwC,qBAAW5C,GAAjCI,kBACR,EAA6CwC,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBAgBfwG,EAAa,uCAAG,WAAOjC,GAAP,iBAAAlE,EAAA,+EAERiE,GAAezH,EAASH,MAAO6H,GAFvB,uBAIS3E,GAAQ,YAJjB,OAIRL,EAJQ,OAKdS,EAAoBjB,EAAc,CAAEQ,cACpCrD,EnDjC2B,CACnCjB,KAAM,UmDiCEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,wBATR,kDAYdzG,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,SAAS,eAAIzB,gBAAJ,eAAclC,KAAK2D,UAAW,KAAIA,YAd1C,0DAAH,sDAoBnB,OACI,cAAC,GAAD,CACIiJ,SAAUlH,GACVqH,eAAgBhM,EAAYR,SAC5BoM,SAAS,WACTe,aAxCc,SAACR,GACnB,IAAMyI,EAAgBzI,EAAMpO,KAAI,SAACyO,GAE7B,OADiB3H,GAAe2H,EAAMxM,EAAYR,UAA1CxC,QAGZb,EAAkBnB,EAAgB,CAC9BU,YAAa,gBACbC,MAAO,CACH+W,aAAcjM,EACd0F,MAAOyI,EACPjC,iBAAkBxG,SCdnB,SAAS0I,KAEpB,IAAQ1Y,EAAsBwC,qBAAW5C,GAAjCI,kBACAW,EAAa6B,qBAAW1B,GAAxBH,SACR,EAA6C6B,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBACrB,EAAwCsF,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KAEA,EAAwBM,mBAAS,IAAjC,mBAAOvI,EAAP,KAAa+W,EAAb,KACA,EAA8BxO,mBAAS,IAAvC,mBAAOuP,EAAP,KAAgBC,EAAhB,KACA,EAAsCxP,mBAAS,IAA/C,mBAAO/G,EAAP,KAAoBwW,EAApB,KACA,EAA8BzP,mBAAS,MAAvC,mBAAO6N,EAAP,KAAgBC,EAAhB,KACA,EAAwC9N,mBAAS,MAAjD,mBAAOgO,EAAP,KAAqBC,EAArB,KACMW,EAAW,CAACJ,EAASiB,EAAgBD,EAAYvB,GAEjDF,EAAc,SAAC1V,GACjBqH,EAAgB,IAChB,IAAM0F,EAAQ/M,EAAMkB,OAAOZ,GACrB7B,EAAQuB,EAAMkB,OAAOzC,MAC3B8X,EAASxJ,GAAOtO,IAGd4Y,EAAmB,uCAAG,8BAAA3U,EAAA,yDACxB2E,EAAgB,KACZpD,EAAe7E,EAAMgD,EAAYZ,YAFb,gBAGpB6F,EAAgB,yBAHI,gDAMCzD,EAAS,CACtBxE,OAAMwB,cACNsI,SAAU,GACVoO,QAAS,CACLJ,UACAK,SAAUC,IACVC,aAAc,GAElBjC,WAEDtW,EAASH,OAhBI,cAMVuB,EANU,iBAiBS2B,GAAQ,UAjBjB,QAiBVT,EAjBU,OAkBhBa,EAAoBjB,EAAc,CAAEI,gBACpCjD,EAAkBnB,EAAgB,CAC9BU,YAAa,oBACbC,MAAO,CAAEuC,SArBG,kDAwBZ,KAAIiD,SAAU8D,EAAgB,KAAI9D,SAASlC,KAAK2D,SAC/CqC,EAAgB,KAAIrC,SAzBT,0DAAH,qDAiCzB,OACI,sBAAK/E,UAAU,YAAf,kBACS,uBAAOK,GAAG,IAAIwI,QAAS4M,IADhC,eAEgB,uBAAOpV,GAAG,IAAIwI,QAAS4M,IAFvC,YAGa,uBAAOpY,KAAK,SAASgD,GAAG,IAAIwI,QAAS4M,IAC9C,cAACH,GAAD,CACIC,QAASA,EACTC,WAAYA,EACZC,YAAaA,EACbC,aAAcA,EACdC,gBAAiBA,IAErB,wBACI5M,UAAW5J,IAAS8X,IAAYtW,GAAesW,GAAW,GAAKA,EAAU,EACzE3W,QAAS8W,EAFb,8BAIGzP,GAAgB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OCrEhD,SAAS8P,KACpB,IAAQnZ,EAAsBwC,qBAAW5C,GAAjCI,kBACR,EAA6CwC,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBACbnD,EAAa6B,qBAAW1B,GAAxBH,SAiBF2J,EAAa,uCAAG,WAAO9E,GAAP,eAAArB,EAAA,sEACZoB,EAAaC,EAAQ7E,EAASH,OADlB,uBAEOkD,GAAQ,UAFf,OAEZT,EAFY,OAIlBa,EAAoBjB,EAAc,CAAEI,gBACpCjD,ErDlC+B,CACnCjB,KAAM,UqDkCFiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,qBARJ,2CAAH,sDAYnB,OACI,gCACI,+CACA,cAAC,GAAD,CACIgJ,SAAU,SACVC,SAAUjK,EACVoK,eAAgBhM,EAAYZ,WAC5BuN,aAlCU,SAACR,GACnB,IAAMoJ,EAAcpJ,EAAMpO,KAAI,SAACyO,GAE3B,OADiBxK,EAAawK,EAAMxM,EAAYZ,YAAxCpC,QAGZb,EAAkBnB,EAAgB,CAC9BU,YAAa,gBACbC,MAAO,CACH+W,aAAcjM,EACd0F,MAAOoJ,EACP5C,iBAAkBxG,OAyBlBS,WAAY,cC3Cb,SAAS4I,GAAT,GAAoC,IAAPtX,EAAM,EAANA,GAChC/B,EAAsBwC,qBAAW5C,GAAjCI,kBACA6D,EAAgBrB,qBAAWmB,GAA3BE,YAYR,OACI,gCACI,iDACA,cAAC,GAAD,CACI4L,SAAU,WACVC,SAAUpI,GACVuI,eAAgBhM,EAAYV,aAC5BqN,aAjBQ,SAACvJ,GACjBjH,EAAkBnB,EAAgB,CAC9BU,YAAa,eACbC,MAAO,CACHuC,KACAkF,gBAaAwJ,WAAY,WCtBb,SAAS6I,KACpB,IAAQ3Y,EAAa6B,qBAAW1B,GAAxBH,SACAX,EAAsBwC,qBAAW5C,GAAjCI,kBAER,EAAwCoJ,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KACA,EAA8CM,mBAAS,IAAvD,mBAAOmQ,EAAP,KAAwBC,EAAxB,KACA,EAAsCpQ,mBAAS,IAA/C,mBAAOyF,EAAP,KAAoB4K,EAApB,KACA,EAAwCrQ,mBAAS,CAAC,GAAI,KAAtD,mBAAO4D,EAAP,KAAqBC,EAArB,KACA,EAA8C7D,mBAAS,CAAC,GAAI,KAA5D,mBAAO8D,EAAP,KAAwBC,EAAxB,KACA,EAAsC/D,mBAAS,EAAC,GAAO,IAAvD,mBAAOgE,EAAP,KAAoBC,EAApB,KAKMG,EAAmB,SAAC/G,EAASgH,EAAYC,EAAcC,GACzD,IAAMC,EAAkB,aAAOV,GACzBW,EAAe,aAAOb,GACtBc,EAAc,aAAOV,GAC3BQ,EAAmBD,GAAclH,EACjC0G,EAAmBS,GACnBC,EAAgBF,GAAcF,EAC9BR,EAAgBY,GAChBC,EAAeH,GAAcD,EAC7BL,EAAeS,IAGbC,EAAgB,SAClB7N,EACAyN,EACAK,EACAC,EACAC,EACAC,GAIIjO,EAAMyB,OAAS,EACXqM,EAAiB9N,IACjBsN,EAAiB,GAAI,IAAI,EAAMG,GAC/BM,EAAS/N,IAETsN,EAAiBW,EAAqB,iBAAiB,EAAOR,GAGlEH,EAAiBU,EAAqB,iBAAiB,EAAOP,IAwChE+L,EAAa,uCAAG,4BAAAvV,EAAA,6DAClB2E,EAAgB,IADE,kBAGRrE,EAAe9D,EAASH,MAAO,CAAE+Y,kBAAiB1K,gBAAe,GAHzD,OAId7O,EvD9F2B,CACnCjB,KAAM,UuD8FEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,qCAPR,gDAUdqC,GAAgB,eAAI9D,gBAAJ,eAAclC,KAAK2D,UAAW,sBAVhC,yDAAH,qDAanB,OACI,sBAAK/E,UAAU,cAAf,qCAC4B,uBAAO3C,KAAK,WAAWgD,GAAI,IAAKwI,QApBjC,SAAC9I,GAC5B,IAAMvB,EAAQuB,EAAMkB,OAAOzC,MAAMwM,OACjC8M,EAAmBtZ,MAiBnB,uBAEwB,uBAAOnB,KAAK,WAAWgD,GAAI,IAAKyK,OApDrC,SAAC/K,GACpB,IAAMoN,EAAcpN,EAAMkB,OAAOzC,MAAMwM,OAKvCqB,EACIc,EACA,GANoB,SAAC3O,GAErB,MADsB,sDACD4O,KAAK5O,KAM1BuZ,EACA,gCACA,wGAyCwB,KAAvBvM,EAAgB,IAAa,qBAAKxL,UAAU,kBAAf,SAAkCwL,EAAgB,KAHpF,0BAI2B,uBAAOnO,KAAK,WAAWgD,GAAI,IAAKyK,OAtChC,SAAC/K,GAC5B,IAAMsN,EAAmBtN,EAAMkB,OAAOzC,MAAMwM,OAI5CqB,EACIgB,EACA,GAL4B,WAC5B,OAAOF,IAAgBE,KAMvB,cACA,yCACA,sCA4BwB,KAAvB7B,EAAgB,IAAa,qBAAKxL,UAAU,kBAAf,SAAkCwL,EAAgB,KAChF,wBAAQlL,QAAS0X,EAAejP,SA7FT,KAApB8O,GAA0BnM,EAAYxF,UAAS,GA6FlD,6BAEqB,KAAjByB,GAAuB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OC9GxD,SAASsQ,KACpB,OACI,cAAC,GAAD,CACIC,aAAa,ICGV,SAASC,KACpB,IAAQlZ,EAAa6B,qBAAW1B,GAAxBH,SACAX,EAAsBwC,qBAAW5C,GAAjCI,kBACR,EAA6CwC,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBAoBfwG,EAAa,uCAAG,WAAOwP,GAAP,eAAA3V,EAAA,sEACZe,EAAa4U,EAASnZ,EAASH,OADnB,uBAEGmE,EAAchE,EAASH,OAF1B,OAEZ4E,EAFY,OAGlBtB,EAAoBjB,EAAcuC,IAClCpF,EzDnC+B,CACnCjB,KAAM,UyDmCFiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,qCAPJ,2CAAH,sDAcnB,OACI,cAAC,GAAD,CACIgJ,SAAU,QACVC,SAN0B,WAC9B,OAAO7L,EAAYb,WAAW4C,QAAO,qBAAG/E,OAAqBF,EAASL,eAMlEuP,oBAAgBkK,EAChBvJ,aAlCc,SAACR,GACnB,IAAMgK,EAAahK,EAAMpO,KAAI,SAACyO,GAC1B,IALc4J,EAMd,OANcA,EAKgB5J,EAJ3BxM,EAAYb,WAAW4C,QAAO,qBAAG7D,KAAiBkY,KAAU,IAIvDpZ,QAGZb,EAAkBnB,EAAgB,CAC9BU,YAAa,gBACbC,MAAO,CACH+W,aAAcjM,EACd0F,MAAOgK,EACPxD,iBAAkBxG,OAyBtBS,WAAW,WC5CR,SAASwC,GAAT,GAA0E,IAAhD1Q,EAA+C,EAA/CA,UAAW1B,EAAoC,EAApCA,KAAM6B,EAA8B,EAA9BA,MAAOyQ,EAAuB,EAAvBA,aAAc3E,EAAS,EAATA,MAC3E,EAAyChM,qBAAWmQ,IAA5CD,EAAR,EAAQA,UAAWG,EAAnB,EAAmBA,kBACb5R,EAAO,CAAC,SAAU,UAAW,YAAa,WAC5C,SAAU,WAAY,UACpBmS,EAAU,SAACC,GACb,IAD8B,EACxB/T,EAAS,GADe,cAEb+T,EAAa,IAFA,IAE9B,gCAASlS,EAAT,QACI7B,EAAO4G,KAAK+C,SAAS3H,OAAOC,KAAKJ,GAAM,IAAM,IAHnB,8BAI9B,OAAO7B,GAIX,EAAwC8J,mBAAS,GAAD,OADlC,CAAC,MACf,mBAAOiK,EAAP,KAAqBC,EAArB,KACA,EAAwClK,mBAASgK,EAAQC,IAAzD,mBAAOE,EAAP,KAAqBC,EAArB,KACA,EAA4BpK,oBAAS,GAArC,mBAAOqK,EAAP,KAAeC,EAAf,KACA,EAAsBtK,mBAAS,cAA/B,mBAAO/H,EAAP,KAAYsS,EAAZ,KA8BMC,EAAc,SAACC,GAEjB,IADA,IAAMnR,EAAQ,GACLZ,EAAI,EAAGA,EAAI+R,EAAU/R,IAAIY,EAAMwD,MAAK,GAC7C,OAAOxD,GAqBLqQ,EAAa,SAACtR,EAAOqS,GAAO,IAAD,EAC7B,GAAK,UAACrS,EAAMkB,OAAO7D,SAAS,UAAvB,aAAC,EAA0BA,SAAS,GAAI,CACzC,IAAMiV,EAAKD,EAAElO,QAAO,SAACoO,GAAD,OAAWA,EAAKxU,MAAMuC,KAAON,EAAMkB,OAAOZ,MAAM,GAC9DyM,EAAQsF,EAAEzB,QAAQ0B,GAClBE,EAAW,GAAGxU,OAAOqU,EAAEtK,MAAM,EAAGgF,GAAQsF,EAAEtK,MAAMgF,EAAQ,IAAM,IACpE1J,QAAQC,IAAIkP,GACZpB,EAAkBG,GAAeiB,IAGrCxS,EAAMyS,mBAOV,OACI,sBAAKxS,UAAU,8BAAf,UACI,6BAAKb,IACL,qBAAKa,UAAU,8BAAf,SAEQ2R,EAAa1R,OAAS,GAAK0R,EAAa,GAAGzR,KAAI,SAACT,GAE5C,OACI,cAACD,EAAD,CAAyBC,KAAMA,EAAMC,YAAa,cAAnCc,sBAK5BuR,GAAU,sBAAK/R,UAAU,qBAAf,UACT,yBAAQkL,SAlFA,SAACnL,GACjBkS,EAAOlS,EAAMkB,OAAOzC,QAiFmBA,MAAOmB,EAAtC,UACI,iCAAS,eACRJ,EAAK2E,QAAO,SAAC3E,EAAMa,GAAP,OAAeyR,EAAa3L,SAAS9F,MAAKF,KAAI,SAACP,GAAD,OAAU,iCAAwBA,GAAXa,qBAEtF,qBAAKR,UAAU,gBAAf,SACKgR,EAAUF,MAAM7Q,OAAS,GAAK+Q,EAAUF,MAAM5Q,KAAI,SAACoS,GAAD,OAAWA,OAGlE,qBAAKtS,UAAU,0BAA0BM,QA1B9B,WACnB6Q,EAAkBG,GAAe,GAAGvT,OAAOiT,EAAUF,MAAO,cAACM,GAAD,CAAwBC,WAAYA,EAAYhR,GAAIG,eAAtCA,mBAyBlE,eAEA,wBAAQR,UAAU,kBAAkBM,QA1DvB,SAACP,GACtB,IAAMJ,EAAMI,EAAMkB,OAAO0I,cAAc8I,WAAWjU,MAC5CkU,EAASnT,EAAKoR,QAAQhR,GAAO,EAE7BgT,EA7BO,SAAC7B,GACd,IADwB,EAClBlT,EAAS,GADS,cAEPkT,GAFO,IAExB,2BAAwB,CAAC,IAAhBwB,EAAe,QACd7S,EAAO,GACPmT,EAAKrL,SAAS+K,EAAKlV,SAAS,GAAGoB,OAC/BqU,EAAKP,EAAKlV,SAAS,GAAGoB,MAC5BiB,EAAKc,UAAL,UAAoBqS,EAApB,YAA0BC,GAC1BpT,EAAKqT,QAAL,UAAkBF,EAAK,EAAvB,YAA4BC,GAC5BpT,EAAKuB,MAAQkR,EAAYlR,GACzBpD,EAAO4G,KAAK/E,IATQ,8BAgBxB,OALA7B,EAAOmV,MAAK,SAACtQ,EAAGuQ,GACZ,IAAMC,EAAKxQ,EAAElC,UAAU2S,MAAM,KACvBC,EAAKH,EAAEzS,UAAU2S,MAAM,KAC7B,OAAQ3L,SAAS0L,EAAG,IAAM1L,SAAS4L,EAAG,OAEnCvV,EAaWwV,CADYrT,EAAMkB,OAAO0I,cAAcvM,SAAS,GACjBA,UAC3CqC,EAAO,GACbA,EAAKiT,GAAUC,EACf,IAAMU,EAAQ,aAAO1B,EAAa,IAClC0B,EAAS7O,KAAK/E,GACd4T,EAASN,MAAK,SAACtQ,EAAGuQ,GAAJ,OAAWpT,OAAOC,KAAK4C,GAAG,GAAK7C,OAAOC,KAAKmT,GAAG,MAC5DpB,EAAgB,CAACyB,IACjBlC,EAAkBG,GAAe,KACjCQ,EAAgBJ,EAAQ,CAAC2B,KACzBrB,GAAU,GACVP,EAAa3E,EAAO,CAAElI,QAAS/D,EAAWH,MAAO2S,EAAUxO,cAAc,KA4CFkE,UAAWiI,EAAUF,MAAM7Q,OAAS,GAAa,eAARN,EAAxG,oBAEJ,wBAAQK,UAAU,kBAAkBM,QA1FtB,WAClB0R,EAAUH,EAAa5R,OAAS,IAyFgC8I,SAAUgJ,GAAUF,EAAa5R,OAAS,EAAtG,wBC3GG,SAASuY,GAAT,GAAyC,IAAjBnY,EAAgB,EAAhBA,GAAIkF,EAAY,EAAZA,SAC/BjH,EAAsBwC,qBAAW5C,GAAjCI,kBACAW,EAAa6B,qBAAW1B,GAAxBH,SACR,EAA6C6B,qBAAWmB,GAAhDE,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,oBAQrB,EAAoCsF,oBAAS,GAA7C,mBAAO+Q,EAAP,KAAmBC,EAAnB,KASA,EAAwChR,mBAff,SAACiR,GAEtB,IADA,IAAM/a,EAAS,GACNwC,EAAI,EAAGA,EAAIuY,EAAevY,IAAKxC,EAAO4G,UAAK6T,GACpD,OAAOza,EAYsCgb,CAAiBrT,EAAStF,SAA3E,mBAAO4Y,EAAP,KAAqBC,EAArB,KACA,EAAwCpR,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBP,EAArB,KAEM2R,EAAU,SAACjM,EAAOrN,GACpB,IAAMuZ,EAAkBH,EACxBG,EAAgBlM,GAASrN,EACzBqZ,EAAgBE,GAChBN,GAfoB,SAACG,GACrB,IADsC,EAClCI,GAAQ,EAD0B,cAErBJ,GAFqB,IAEtC,2BAA+B,UAChBI,GAAQ,GAHe,8BAKtC,OAAOA,EAUSC,CAAgBF,KAG9BzC,EAAU,uCAAG,8BAAA9T,EAAA,6DACf2E,EAAgB,IADD,kBAGLpC,EAAgB3E,EAAI,CACtBiE,SAAUuU,GACX5Z,EAASH,OALD,uBAMoBkD,GAAQ,aAN5B,cAMLR,EANK,gBAOgBQ,GAAQ,YAPxB,OAOLP,EAPK,OAQXW,EAAoBjB,EAAc,CAAEK,mBAAkBC,kBACtDnD,E3DlD2B,CACnCjB,KAAM,U2DkDEiB,EAAkBnB,EAAgB,CAC9BU,YAAa,kBACbC,MAAO,CAAEiH,QAAS,sBAZX,kDAeP,KAAIzB,SAAU8D,EAAgB,KAAI9D,SAASlC,KAAK2D,SAC/CqC,EAAgB,KAAIrC,SAhBd,0DAAH,qDAsBhB,OACI,gCACKQ,EAAStF,OAAS,GAAKsF,EAASrF,KAAI,SAACiZ,EAAW/Y,GAC7C,MAAkCkF,GAAe6T,EAAWhX,EAAYV,cAAhEtC,EAAR,EAAQA,KAAMN,EAAd,EAAcA,SAAUmC,EAAxB,EAAwBA,MACxB,OACI,cAAC,GAAD,UACI,cAAC,GAAD,CACI7B,KAAI,UAAKA,EAAL,cAAeN,GACnBmC,MAAOA,EACP8L,MAAO1M,EACPqR,aAAcsH,EACdlY,UAAWsY,KANY3Y,kBAWvC,wBACIuI,SAAU0P,EACVnY,QAASiW,EAFb,8BAIG5O,GAAgB,qBAAK3H,UAAU,gBAAf,SAAgC2H,OC/EhD,SAASyR,GAAT,GAAmC,IAAP/Y,EAAM,EAANA,GAC/B8B,EAAgBrB,qBAAWmB,GAA3BE,YACR,EAA8BgC,EAAa9D,EAAI8B,EAAYZ,YAAnDpC,EAAR,EAAQA,KAAMwB,EAAd,EAAcA,YACd,EAA4C+G,mBAAS/G,GAArD,mBAAO0Y,EAAP,KAAuBC,EAAvB,KAUA,OACI,sBAAKtZ,UAAU,cAAf,UACI,6BAAKb,IADT,eAEgB,0BAAUX,MAAO6a,EAAgBxQ,QARjC,SAAC9I,GACjB,IAAMvB,EAAQuB,EAAMkB,OAAOzC,MAC3B8a,EAAkB9a,MAOd,wBACIuK,SAA6B,KAAnBsQ,EACV/Y,QAfU,WjDwCC,IAACM,EAAS2Y,EAAT3Y,EiDvCRP,EjDuCiBkZ,EiDvCb,CAAE5Y,YAAa0Y,GjDwCnCjW,QAAQC,IAAIzC,EAAS2Y,IiD5Bb,uBCjBG,SAASC,GAAT,GAAuC,IAAZzU,EAAW,EAAXA,QAC9BzG,EAAsBwC,qBAAW5C,GAAjCI,kBAKR,OAHAmb,YAAW,WACPnb,E7DR+B,CACnCjB,KAAM,Y6DQH,MAEC,qBAAK2C,UAAU,mBAAf,SACI,6BAAK+E,MCyBF,SAAS2U,KAAS,IAAD,EAC5B,EAAyC5Y,qBAAW5C,GAA5CR,EAAR,EAAQA,UAAWY,EAAnB,EAAmBA,kBACbqb,EAAa,CACf1R,WAASqF,aAAWkM,mBACpB/Y,mBAAkBgH,SAAOO,eACzBU,cAAYY,SACZoE,QAAM0B,eAAa4H,YAAUS,gBAAcE,qBAAmBa,gBAC9DY,oBACArE,iBAAerF,cAAYkK,eAC3BnK,iBAAeE,sBAAoB2D,4BAA0BU,cAC7DG,cAAYI,sBAAoBG,kBAAgBQ,iBAAeC,kBAG/Dc,cAAYO,iBAAeC,sBAAoBK,iBAE/Cc,kBAAgBK,cAAYE,kBAEhC,EAAgCzQ,mBAAS,CAAE7J,YAAa,UAAWC,MAAO,KAA1E,mBAAOV,EAAP,KAAiByc,EAAjB,KACArP,qBAAU,WACNqP,EAAYnc,EAAUN,YAEvB,CAACM,EAAUN,WAQd,OACI,qBAAK4C,UAAU,mBAAf,SACI,sBAAKA,UAAU,QAAf,UACI,sBAAKA,UAAU,gBAAf,WACK,UAAAtC,EAAUF,YAAV,eAAgByC,QAAS,GAAK,qBAAKD,UAAU,cAAcM,QARtD,SAACP,GACnBzB,E9DtD2B,CAC/BjB,KAAM,S8DsDF0C,EAAMyS,mBAMqC,kBAC/B,qBAAKxS,UAAU,yBAAyBM,QAZ9B,WACtBhC,E9D5D+B,CACnCjB,KAAM,W8DsEU,SACI,qBAAK2C,UAAU,qBAGvB,qBAAKA,UAAU,iBAAf,SAAiC8Z,IAAMC,cAAcJ,EAAWvc,EAASS,aAAcT,EAASU,cCvEjG,SAASkc,GAAT,GAAyC,IAAtBnT,EAAqB,EAArBA,QAAS8G,EAAY,EAAZA,SAC/BrP,EAAsBwC,qBAAW5C,GAAjCI,kBACF2b,EAAepT,EAAQ+H,cAQ7B,OACI,sBAAK5O,UAAU,qBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,qBAAKA,UAAU,UAAUM,QAVd,WAKnBhC,EAAkBnB,EAJD,CACbU,YAAa,OACbC,MAAO,CAAE6P,gBAOL,SACI,qBAAKoI,IAAK,6BAA+BkE,EAAe,OAAQjE,IAAI,aAG5E,qBAAKhW,UAAU,iBAAf,SAAiC,UAAY6G,OCjB1C,SAASqT,KACpB,IAAQxc,EAAcoD,qBAAW5C,GAAzBR,UAER,OACI,sBAAKsC,UAAU,2BAAf,UACI,cAACga,GAAD,CACInT,QAAQ,SACR8G,SACI,CACI,CACIE,MAAO,gBACPhQ,YAAa,WACbC,MAAO,IAEX,CACI+P,MAAO,eACPhQ,YAAa,cACbC,MAAO,IAEX,CACI+P,MAAO,eACPhQ,YAAa,eACbC,MAAO,OAKvB,cAACkc,GAAD,CACInT,QAAQ,WACR8G,SACI,CACI,CACIE,MAAO,kBACPhQ,YAAa,aACbC,MAAO,IAEX,CACI+P,MAAO,iBACPhQ,YAAa,gBACbC,MAAO,IAEX,CACI+P,MAAO,iBACPhQ,YAAa,gBACbC,MAAO,IAEX,CACI+P,MAAO,mBACPhQ,YAAa,aACbC,MAAO,IAEX,CACI+P,MAAO,kBACPhQ,YAAa,iBACbC,MAAO,OAGvB,cAACkc,GAAD,CACInT,QAAQ,OACR8G,SACI,CACI,CACIE,MAAO,kBACPhQ,YAAa,aACbC,MAAO,IAEX,CACI+P,MAAO,iBACPhQ,YAAa,gBACbC,MAAO,IAEX,CACI+P,MAAO,iBACPhQ,YAAa,gBACbC,MAAO,OAGvB,cAACkc,GAAD,CACInT,QAAQ,UACR8G,SACI,CACI,CACIE,MAAO,kBACPhQ,YAAa,iBACbC,MAAO,IAEX,CACI+P,MAAO,wBACPhQ,YAAa,aACbC,MAAO,IAEX,CACI+P,MAAO,uBACPhQ,YAAa,gBACbC,MAAO,OAGtBJ,EAAUH,SAAW,cAACmc,GAAD,OCnGnB,SAASS,KACpB,OACI,wBCKO,SAASC,KACpB,IAAQnb,EAAa6B,qBAAW1B,GAAxBH,SACR,EAAyC6B,qBAAW5C,GAA5CR,EAAR,EAAQA,UAAWY,EAAnB,EAAmBA,kBAWnB,OAVAkM,qBAAU,WACDvL,EAASP,UACVJ,EAAkBnB,EAAgB,CAC9BU,YAAa,YACbC,MAAO,QAEhB,CAACmB,EAASP,SAAUJ,IAKnB,qBAAK0B,UAAU,gBAAf,SACKf,EAASP,SACN,8BACKO,EAASN,QACN,cAACub,GAAD,IACA,cAACC,GAAD,MAERzc,EAAUH,SAAW,cAACmc,GAAD,MC3BtB,SAASW,GAAT,GAA+B,IAATlb,EAAQ,EAARA,KAC3Bmb,EAAYnb,EAAKyP,cAAc5D,OACrC,OACI,eAAC,IAAD,CAASuP,GAAE,WAAMD,GAAata,UAAU,MAAMwa,gBAAgB,aAA9D,UACI,qBAAKxa,UAAU,OAAO+V,IAAG,qCAAsB5W,EAAtB,QAAkC6W,IAAI,SAC/D,qBAAKhW,UAAU,eAAe+V,IAAG,qCAAsB5W,EAAtB,gBAA0C6W,IAAI,SAC/E,8BAAM7W,OCNH,SAASsb,KACpB,OACI,qBAAKza,UAAU,oBAAf,SACI,sBAAKA,UAAU,SAAf,UACI,cAACqa,GAAD,CAAYlb,KAAM,WAClB,cAACkb,GAAD,CAAYlb,KAAM,aAClB,cAACkb,GAAD,CAAYlb,KAAM,SAClB,cAACkb,GAAD,CAAYlb,KAAM,iBCPnB,SAASub,GAAT,GAA0E,IAA5C3M,EAA2C,EAA3CA,SAAUO,EAAiC,EAAjCA,MAAOqM,EAA0B,EAA1BA,UAAWjb,EAAe,EAAfA,YAC/Dkb,EAA6B,KAAdD,EAAmB,GAAKrM,EAAMpK,QAAO,qBAAG/E,KAAiB6L,OAAO4D,cAAc1I,SAASyU,MAC5G,OACI,sBAAK3a,UAAU,uBAAf,UACI,6BAAK+N,IACL,qBAAK/N,UAAU,qBAAf,SACK4a,EAAa3a,OAAS,EACnB2a,EAAa1a,KAAI,gBAAGf,EAAH,EAAGA,KAAMkB,EAAT,EAASA,GAAIkV,EAAb,EAAaA,QAAb,OACb,sBAAoBvV,UAAU,oBAAoBM,QAASZ,EAAaW,GAAIA,EAA5E,UACI,qBAAKL,UAAU,qBAAqB+V,IAAKR,EAASS,IAAI,mBACtD,8BAAM7W,MAFAqB,kBAKZ,MAAQuN,EAAW,yBCR1B,SAAS8M,GAAT,GAA6D,IAAvCF,EAAsC,EAAtCA,UAAWG,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,WAClDC,EAAUC,cACR9Y,EAAgBrB,qBAAWmB,GAA3BE,YACA7D,EAAsBwC,qBAAW5C,GAAjCI,kBAiBR,OACI,sBAAK0B,UAAU,yBAAf,UACI,cAAC0a,GAAD,CACI3M,SAAU,SACVO,MAAOnM,EAAYZ,WACnBoZ,UAAWA,EACXjb,YAtBS,SAACK,GAClB,IAAMkB,EAASlB,EAAMkB,OACfia,EAAUja,EAAO7D,SAAS,GAAK6D,EAASA,EAAO0I,cACrD,EAAsCxF,EAAa+W,EAAQ7a,GAAI8B,EAAYZ,YAAnEZ,EAAR,EAAQA,YAAasI,EAArB,EAAqBA,SAAU5I,EAA/B,EAA+BA,GAC/B/B,EAAkBnB,EAAgB,CAC9BU,YAAa,QACbC,MAAO,CAAE6C,cAAasI,WAAU5I,YAmBhC,cAACqa,GAAD,CACI3M,SAAU,OACVO,MAAOnM,EAAYR,SACnBgZ,UAAWA,EACXjb,YApBQ,SAACK,GACjB,IAAMkB,EAASlB,EAAMkB,OACfia,EAAUja,EAAO7D,SAAS,GAAK6D,EAASA,EAAO0I,cACrDmR,GAAW,GACXC,GAAW,GACXC,EAAQxW,KAAR,wBAA8B0W,EAAQ7a,WCxB/B,SAAS8a,KACpB,OACI,qBAAKnb,UAAU,mBAAf,SACI,qBAAKA,UAAU,aCKZ,SAASob,KACpB,MAAuCta,qBAAW1B,GAA1CH,EAAR,EAAQA,SAAUK,EAAlB,EAAkBA,iBACV8C,EAAwBtB,qBAAWmB,GAAnCG,oBACR,EAAsCsF,oBAAS,GAA/C,mBAAO2T,EAAP,KAAoBC,EAApB,KACA,EAAgC5T,oBAAS,GAAzC,mBAAO9F,EAAP,KAAiB2Z,EAAjB,KACA,EAA8B7T,oBAAS,GAAvC,mBAAO8T,EAAP,KAAgBT,EAAhB,KACA,EAA8BrT,oBAAS,GAAvC,mBAAOmB,EAAP,KAAgBiS,EAAhB,KACA,EAAkCpT,mBAAS,IAA3C,mBAAOiT,EAAP,KAAkBc,EAAlB,KACMT,EAAUC,cAEhBzQ,qBAAU,WASN,OARA8Q,GAAe,GACfhc,EpDPyC,CAC7CjC,KAAM,SACN0B,YoDKqC2c,OAAOC,aACpCN,GAAazU,KAAagV,MAAK,SAACC,GAChCzZ,EAAoBjB,EAAc0a,IAClCN,GAAY,MACbO,OAAM,SAAChX,GACN1B,QAAQC,IAAIyB,MAET,WACHwW,GAAe,MAEpB,CAAChc,EAAkB8C,EAAqBiZ,IAE3C,IA0BMU,EAAa,uCAAG,sBAAAtZ,EAAA,+EAERK,EAAO7D,EAASH,MAAOG,EAASN,SAFxB,OAGdW,EpDzDuB,CAC/BjC,KAAM,WoDyDE2d,EAAQxW,KAAK,WAJC,gDAMdpB,QAAQC,IAAR,MANc,yDAAH,qDAWnB,OACI,sBAAKrD,UAAU,oBAAf,UACI,sBAAKA,UAAU,SAAf,UACI,qBAAKA,UAAU,eAAe+V,IAAI,0BAA0BC,IAAI,OAAO1V,QA7B/D,WAChB0a,EAAQxW,KAAK,cA6BL,qBAAKxE,UAAU,qBAAf,SACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,YAAY+V,IAAI,+BAA+BC,IAAI,SAClE,uBAAOnL,YAAY,kBACfhC,QA7CH,SAAC9I,GAClB,IAAM+I,EAAQ/I,EAAMkB,OAAOzC,MAAMwM,OAAO4D,cACxC6M,EAAa3S,GACbiS,EAAqB,KAAVjS,IA2CSkT,QA/BH,WACjBlB,GAAW,MAgCMU,GAAW,qBAAKxb,UAAU,eAAeM,QA1CxC,SAACP,GACnBA,EAAMkB,OAAO6U,gBAAgBtX,MAAQ,GACrCuc,GAAW,WA2CFlS,GAAW,qBAAK7I,UAAU,qBAAqBM,QAhCjC,SAACP,GACxB+a,GAAW,GACXC,GAAW,GACQhb,EAAMkB,OAAO6U,gBAAgB1Y,SAAS,GAAGA,SAAS,GAC1DoB,MAAQ,IA4BC,qBACVqK,GAAW,sBAAK7I,UAAU,WAAf,UACT,qBAAKA,UAAU,YAAf,SAA2B,cAAC,IAAD,CAASua,GAAG,UAAUva,UAAU,QAAQwa,gBAAgB,gBAAxD,sBAC3B,qBAAKxa,UAAU,YAAf,SAA2B,cAAC,IAAD,CAASua,GAAG,YAAYva,UAAU,QAAQwa,gBAAgB,gBAA1D,wBAC3B,qBAAKxa,UAAU,YAAf,SAA2B,cAAC,IAAD,CAASua,GAAG,QAAQva,UAAU,QAAQwa,gBAAgB,gBAAtD,oBAC3B,eAAC,IAAD,CAASxa,UAAU,eAAeua,GAAG,WAArC,iCAAoE,qBAAKxE,IAAI,sDAA4CC,IAAI,0BAIpI/W,EAASP,UAAY,qBAAKsB,UAAU,SAASM,QAASyb,EAAjC,oBACrBlT,GAAW,cAACgS,GAAD,CAAYF,UAAWA,EAAWG,WAAYA,EAAYC,WAAYA,KAChFnZ,GAAY,cAACuZ,GAAD,OC1FX,SAASc,GAAT,GAA2D,IAI/C9T,EAJO+T,EAAuC,EAAvCA,eAAgBC,EAAuB,EAAvBA,gBAAiB9b,EAAM,EAANA,GACvD/B,EAAsBwC,qBAAW5C,GAAjCI,kBACAW,EAAa6B,qBAAW1B,GAAxBH,SAQFmd,EAAoB,WACtB9d,EAAkBnB,EACd,CAAEU,YAAa,aAAcC,MAAO,CAAEuC,UAK9C,OACI,sBAAKL,UAAU,2BAAf,UACI,sBAAKA,UAAU,sBAAf,UACI,sBAAKA,UAAU,yBAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,qBAAK+V,IAAK,oBAlBP5N,EAkB0C+T,GAjBzD/T,GAAU,GAAY,aACtBA,GAAU,GAAY,cACd,iBAemE,QAAQ6N,IAAI,oBAE/E,sBAAKhW,UAAU,wBAAf,UAAwC4H,KAAKyU,MAAuB,IAAjBH,GAAnD,UAEJ,sBAAKlc,UAAU,0BAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,qBAAK+V,IAAK,oBAAsBoG,EAAkB,GAAM,OAAS,OAAS,eAAgBnG,IAAI,oBAElG,sBAAKhW,UAAU,wBAAf,UAAwC4H,KAAKyU,MAAwB,IAAlBF,GAAnD,aAGNld,EAASP,WAAaO,EAASN,SAC7B,sBAAKqB,UAAU,yBAAf,UACI,wBAAQM,QAAS8b,EAAmBpc,UAAU,2BAA9C,yBACA,wBAAQM,QAAS8b,EAAmBpc,UAAU,2BAA9C,qBCnCL,SAASsc,GAAT,GAA2E,IAAtDjc,EAAqD,EAArDA,GAAIM,EAAiD,EAAjDA,YAAaxB,EAAoC,EAApCA,KAAMkY,EAA8B,EAA9BA,QAASpO,EAAqB,EAArBA,SAAUsM,EAAW,EAAXA,QAClEjX,EAAsBwC,qBAAW5C,GAAjCI,kBAEFie,EAAe,WACjBje,EAAkBnB,EAAgB,CAC9BU,YAAa,QACbC,MAAO,CAAE6C,cAAasI,WAAU5I,UAGxC,OACI,sBAAKL,UAAU,OAAf,UACI,qBAAKA,UAAU,oBAAoBM,QAASic,EAA5C,SACI,qBAAKvc,UAAU,SAAS+V,IAAKR,GAAW,kCAAmCS,IAAI,mBAEnF,cAACiG,GAAD,CACIC,eAAgB7E,EAAQJ,QACxBkF,gBAAiB9E,EAAQC,SACzBjX,GAAIA,IAER,qBAAKL,UAAU,aAAaM,QAASic,EAArC,SAAoDpd,OCvBjD,SAASqd,GAAT,GAAoC,IAAbC,EAAY,EAAZA,SAMlC,OACI,qBAAKzc,UAAU,gBAAgBM,QANR,SAACP,IACRA,EAAMkB,OAAO6U,gBAAkB/V,EAAMkB,OAASlB,EAAMkB,OAAO0I,eACjDmM,gBAChB2G,SAAS,CAAEC,IAAK,EAAGC,KAAMF,EAAUG,SAAU,YAGvD,SACI,sBAAM5c,UAAU,2BCRb,SAASwc,GAAT,GAAoC,IAAbC,EAAY,EAAZA,SAQlC,OACI,qBAAKzc,UAAU,gBAAgBM,QAPT,SAACP,IACPA,EAAMkB,OAAO4b,YAAc9c,EAAMkB,OAASlB,EAAMkB,OAAO0I,eAC7CkT,YAChBJ,SAAS,CAAEC,IAAK,EAAGC,MAAOF,EAAUG,SAAU,YAIxD,SACI,sBAAM5c,UAAU,0BCLb,SAAS8c,GAAT,GAAoD,IAA3BjW,EAA0B,EAA1BA,QAASkW,EAAiB,EAAjBA,cACrC9d,EAAa6B,qBAAW1B,GAAxBH,SACAkD,EAAgBrB,qBAAWmB,GAA3BE,YACFsa,EAAoC,GAAxBxd,EAASF,YAAoB,IACzCie,EAAgBD,EAAc5a,EAAYZ,WAAYY,EAAYX,kBACxE,OACI,sBAAKxB,UAAU,cAAf,UACI,6BAAK6G,IACL,sBAAK7G,UAAU,iBAAf,UACI,cAAC,GAAD,CAAYyc,SAAUA,IACtB,qBAAKzc,UAAU,kBAAf,SAEKgd,EAAc/c,OAAS,EAAI+c,EAAc9c,KAAI,WAAwDE,GAAxD,IAAGC,EAAH,EAAGA,GAAIM,EAAP,EAAOA,YAAaxB,EAApB,EAAoBA,KAAMkY,EAA1B,EAA0BA,QAASpO,EAAnC,EAAmCA,SAAUsM,EAA7C,EAA6CA,QAA7C,OAE1C,cAAC+G,GAAD,CACIjc,GAAIA,EACJM,YAAaA,EACbxB,KAAMA,EACNkY,QAASA,EACTpO,SAAUA,EACVsM,QAASA,GANG/U,kBAUhB,yBAIR,cAACgc,GAAD,CAAaC,SAAUA,UC/BxB,SAASQ,KACpB,OACI,cAACH,GAAD,CACIjW,QAAS,cACTkW,cAAetY,ICJZ,SAASyY,KACpB,OACI,cAACJ,GAAD,CACIjW,QAAS,cACTkW,cAAe3Y,ICDZ,SAAS+Y,KACpB,IAAQzf,EAAcoD,qBAAW5C,GAAzBR,UAIR,OACI,sBAAKsC,UAAU,oBAAf,UACI,cAACkd,GAAD,IACA,cAACD,GAAD,IACCvf,EAAUH,SAAW,cAACmc,GAAD,OCdnB,SAAS0D,KAEpB,IAAQjb,EAAgBrB,qBAAWmB,GAA3BE,YACF6Y,EAAUC,cACVlU,EAAO5E,EAAYR,SACnB0b,EAAiB,SAACtd,GACpB,IAGMM,GAHUN,EAAMkB,OAAO7D,SAAS,GAClC2C,EAAMkB,OACNlB,EAAMkB,OAAO0I,eACEtJ,GACnB2a,EAAQxW,KAAR,wBAA8BnE,KAElC,OACI,qBAAKL,UAAU,aAAf,SACI,qBAAKA,UAAU,kBAAf,SACK+G,EAAK7G,KAAI,gBAAGf,EAAH,EAAGA,KAAMoW,EAAT,EAASA,QAASlV,EAAlB,EAAkBA,GAAlB,OACN,sBAAcA,GAAIA,EAAIL,UAAU,UAAUM,QAAS+c,EAAnD,UACI,qBAAKtH,IAAKR,GAAW,gCAAiCS,IAAI,oBAC1D,6BAAK7W,MAFCkB,UCdf,SAASid,GAAT,GAA6E,IAAnDne,EAAkD,EAAlDA,KAAMuB,EAA4C,EAA5CA,MAAOL,EAAqC,EAArCA,GAAIkV,EAAiC,EAAjCA,QAAS5U,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QACpEtC,EAAsBwC,qBAAW5C,GAAjCI,kBA0BR,OACI,sBAAK0B,UAAU,iBAAiBM,QAdf,WAWjBhC,EAAkBnB,EAVD,CACbU,YAAa,mBACbC,MAAO,CACHqB,OACAuB,QACAC,cACAC,UACAC,UAAWR,OAMnB,UACI,6BAAKlB,IACL,qBAAKa,UAAU,oBAAf,SACI,qBAAKA,UAAU,SAAS+V,IAAKR,GAAW,kCAAmCS,IAAI,mBAElFtV,EAAMT,OAAS,GACZ,qBAAKD,UAAU,YAAf,SA9BK,SAACU,GACd,IADwB,EACpB9C,EAAS,SADW,cAEP8C,EAAM,IAFC,IAExB,2BAA2B,CAAC,IAAnBjB,EAAkB,QACjBsC,EAAMnC,OAAOC,KAAKJ,GACxB7B,GAAM,UAAOmE,EAAI,GAAX,OAJc,8BAOxB,OADAnE,EAAO2f,UAAU,EAAG3f,EAAOqC,OAAS,GAC7BrC,EAAO2f,UAAU,EAAG3f,EAAOqC,OAAS,GAwB9Bud,CAAS9c,QC/Bf,SAAS+c,GAAT,GAAwC,IAArBpd,EAAoB,EAApBA,GAAIlB,EAAgB,EAAhBA,KAAM2E,EAAU,EAAVA,OAChC3B,EAAgBrB,qBAAWmB,GAA3BE,YAGFsa,EAAoC,GAFrB3b,qBAAW1B,GAAxBH,SAEmBF,YAAoB,IAEzC2e,EAAgB,SAAC9c,GACnB,OAAQuB,EAAYZ,WAAW2C,QAAO,qBAAG7D,KAAiBO,KAAW,IAuBnE+c,EAjBY,SAAC7Z,GACf,IAD0B,EACpBlG,EAAS,GADW,cAENkG,GAFM,IAE1B,2BAA4B,CAAC,IAApBlD,EAAmB,QAClBgD,EAAQ,CAAEvD,GAAIO,GACdgd,EAAaF,EAAc9c,GACjC,GAAIgd,EAAY,CACZ,IAAQze,EAA+Bye,EAA/Bze,KAAMoW,EAAyBqI,EAAzBrI,QAAS5U,EAAgBid,EAAhBjd,YACvBiD,EAAMzE,KAAOA,EACbyE,EAAM2R,QAAUA,EAChB3R,EAAMjD,YAAcA,EACpBiD,EAAMlD,MAAQiE,EAAqB/D,EAASP,EAAI8B,EAAYX,kBAC5D5D,EAAO4G,KAAKZ,KAXM,8BAe1B,OAAOhG,EAEamG,CAAUD,GAClC,OACI,sBAAK9D,UAAU,UAAf,UACI,6BAAKb,IACL,sBAAKa,UAAU,iBAAf,UACI,cAAC,GAAD,CAAYyc,SAAUA,IACtB,qBAAKzc,UAAU,6BAAf,SAEK2d,EAAgB1d,OAAS,GAAK0d,EAAgBzd,KAC3C,SAAC0D,EAAOxD,GAAR,OACC,cAACkd,GAAD,CAEGne,KAAMyE,EAAMzE,KACZoW,QAAS3R,EAAM2R,QACf5U,YAAaiD,EAAMjD,YACnBD,MAAOkD,EAAMlD,MACbL,GAAIA,EACJO,QAASgD,EAAMvD,IANVG,oBAWjB,cAACgc,GAAD,CAAaC,SAAUA,UCrDxB,SAASoB,GAAT,GAA+C,IAAvBtY,EAAsB,EAAtBA,SAAU1G,EAAY,EAAZA,SACrCS,EAAqBwB,qBAAW1B,GAAhCE,iBACA5B,EAAcoD,qBAAW5C,GAAzBR,UAKR,OACI,sBAAKsC,UAAU,sBAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,8CAAiBnB,KACjB,qBAAKmB,UAAU,kBAAkBM,QARf,WAC1BhB,EAAiBuK,GAAkB,MAO3B,gCAEHtE,EAAStF,OAAS,EAAIsF,EAASrF,KAC5B,SAAC0E,GAAD,OACC,cAAC6Y,GAAD,CAEGpd,GAAIuE,EAAQvE,GACZlB,KAAMyF,EAAQzF,KACd2E,OAAQc,EAAQd,QAHXtD,kBAMT,wDACH9C,EAAUH,SAAW,cAACmc,GAAD,OCrBnB,SAASoE,KACpB,IAEqBC,EAFb5b,EAAgBrB,qBAAWmB,GAA3BE,YACR,EAAuCrB,qBAAW1B,GAA1CH,EAAR,EAAQA,SAAUK,EAAlB,EAAkBA,iBAIZ+G,EAAYlE,EAAYT,cAK9B,OACI,sBAAK1B,UAAU,iBAAf,UAC2B,KAAtBf,EAASJ,UAAmB,sBAAKmB,UAAU,gBAAf,UACzB,kDACA,iCACKqG,EAAUnG,KAAI,SAACrB,EAAUuB,GAAX,OACV,iCAAwBvB,GAAX2B,oBAGtB,wBAAQF,QAbI,SAACP,GACrB,IAAMlB,EAAWkB,EAAMkB,OAAO6U,gBAAgBtX,MAC9Cc,EAAiBuK,GAAkBhL,KAW3B,mBAEmB,KAAtBI,EAASJ,UAAmB,cAACgf,GAAD,CACzBtY,UApBSwY,EAoBa9e,EAASJ,SAnBhCsD,EAAYV,aAAayC,QAAO,qBAAGrF,WAA6Bkf,MAoB/Dlf,SAAUI,EAASJ,cC3BpB,SAASmf,GAAT,GAA0B,IAAP3d,EAAM,EAANA,GACtB8B,EAAgBrB,qBAAWmB,GAA3BE,YACAzE,EAAcoD,qBAAW5C,GAAzBR,UAER,EAA6CsJ,GAAe3G,EAAI8B,EAAYR,UAApExC,EAAR,EAAQA,KAAMgX,EAAd,EAAcA,SAAUZ,EAAxB,EAAwBA,QAAS/O,EAAjC,EAAiCA,QACjC,OACI,sBAAKxG,UAAU,gBAAf,UACI,6BAAKb,IACL,6BAAKgX,IACL,qBAAKJ,IAAKR,GAAW,gCAAiCS,IAAI,oBAC1D,4BAAIxP,IACH9I,EAAUH,SAAW,cAACmc,GAAD,O,8BCInBuE,GAjBM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,mBAChDjc,EAAgBrB,qBAAWmB,GAA3BE,YAEF9B,EAAKge,SAASxf,SAASyf,SAASC,QAAQ,iBAAkB,IAC1D/X,EAAUQ,GAAe3G,EAAI8B,EAAYR,UAC/C,OACI,cAAC,IAAD,2BACQyc,GADR,IAEID,UAAW,SAACrgB,GAAD,OACL0I,EACE,cAAC0X,EAAD,2BAAepgB,GAAf,IAAsBuC,GAAIA,KAC1B,cAAC,IAAD,CAAUka,GAAI,CAAE+D,SAAU,gBCH/B,SAASE,KACpB,OACI,cAAC,IAAD,UACI,cAAC,EAAD,UACI,cAAC,EAAD,UACI,eAAC,EAAD,WACI,cAACpD,GAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAOqD,KAAK,IAAIC,OAAK,EAArB,SACI,cAAC,IAAD,CAAUnE,GAAG,cAEjB,cAAC,IAAD,CAAOkE,KAAK,UAAUN,UAAWhB,KACjC,cAAC,IAAD,CAAOsB,KAAK,WAAWN,UAAW/D,KAClC,cAAC,GAAD,CAAcqE,KAAK,gBAAgBN,UAAWH,KAC9C,cAAC,IAAD,CAAOS,KAAK,QAAQN,UAAWf,KAC/B,cAAC,IAAD,CAAOqB,KAAK,YAAYN,UAAWL,KACnC,cAAC,IAAD,CAAOW,KAAK,IAAIN,UAAWhB,QAE/B,cAAC1C,GAAD,aC7BT,SAASkE,KACtB,OACE,cAACH,GAAD,I,WCQWI,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlD,MAAK,YAAkD,IAA/CmD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACX,GAAD,MAEFN,SAASkB,eAAe,SAG1BX,O","file":"static/js/main.611bffda.chunk.js","sourcesContent":["export const clearModalAction = () => ({\r\n    type: \"CLEAR\"\r\n});\r\n\r\nexport const goForwardAction = (children) => ({\r\n    type: \"FORWARD\",\r\n    children\r\n});\r\n\r\nexport const goBackAction = () => ({\r\n    type: \"BACK\"\r\n});","export const initialModalData = {\r\n    isModal: false,\r\n    children: null,\r\n    back: []\r\n};\r\n\r\n\r\nconst ModalReducer = (modalData, action) => {\r\n    switch (action.type) {\r\n        case \"CLEAR\":\r\n            return {\r\n                initialModalData\r\n            };\r\n        case \"FORWARD\":\r\n            let result = [];\r\n            let children;\r\n            if (!!modalData.children) {\r\n                children = {\r\n                    elementName: modalData.children.elementName,\r\n                    props: modalData.children.props\r\n                };\r\n                result = result.concat(!!modalData.back ? modalData.back : [], children);\r\n            }\r\n            return {\r\n                ...modalData,\r\n                isModal: true,\r\n                back: result,\r\n                children: action.children\r\n            };\r\n        case \"BACK\":\r\n            let back = modalData.back;\r\n            const cell = back.pop();\r\n            return {\r\n                ...modalData,\r\n                children: cell,\r\n                back\r\n            };\r\n        default:\r\n            return { ...modalData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default ModalReducer;","import React, { createContext, useReducer } from 'react';\r\nimport ModalReducer, { initialModalData } from '../reducers/ModalReducer';\r\n\r\nexport const ModalContext = createContext();\r\n\r\nconst ModalContextProvider = (props) => {\r\n    const [modalData, modalDataDispatch] = useReducer(ModalReducer, initialModalData);\r\n    return (\r\n        <ModalContext.Provider value={{ modalData, modalDataDispatch }}>\r\n            {props.children}\r\n        </ModalContext.Provider>\r\n    )\r\n};\r\n\r\nexport default ModalContextProvider;","export const initialUserData = {\r\n    loggedIn: false,\r\n    isAdmin: false,\r\n    activeUser: '',\r\n    location: '',\r\n    token: '',\r\n    windowWidth: null,\r\n\r\n};\r\n\r\nconst UserReducer = (userData, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n            return {\r\n                ...userData,\r\n                loggedIn: true,\r\n                activeUser: action.user.user.name,\r\n                token: action.user.token,\r\n                isAdmin: action.isAdmin\r\n            };\r\n        case \"WINDOW\":\r\n            return {\r\n                ...userData,\r\n                windowWidth: action.windowWidth\r\n            };\r\n        case \"LOGOUT\":\r\n            return {\r\n                ...userData,\r\n                loggedIn: false,\r\n                activeUser: '',\r\n                token: '',\r\n                isAdmin: false\r\n            };\r\n\r\n        case \"SET_LOCATION\":\r\n            return {\r\n                ...userData,\r\n                location: action.location\r\n            };\r\n\r\n        default:\r\n            return { ...userData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default UserReducer;","import React, { createContext, useReducer } from 'react';\r\nimport UserReducer, { initialUserData } from '../reducers/UserReducer';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = (props) => {\r\n    const [userData, userDataDispatch] = useReducer(UserReducer, initialUserData);\r\n    return (\r\n        <UserContext.Provider value={{ userData, userDataDispatch }}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n};\r\n\r\nexport default UserContextProvider;","import React from 'react';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n    \"Friday\", \"Saturday\", \"Sunday\",];\r\n\r\nexport default function TimeSlot({ slot, onClickFunc }) {\r\n    const day = (Object.keys(slot))[0];\r\n    const onClickTime = (event) => {\r\n        onClickFunc(event, slot);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"time-slot\">\r\n            <div className=\"time-slot__day\">{week[day - 1]}</div>\r\n            <div className=\"time-slot__container\">\r\n                {slot[day].length > 0 && slot[day].map((show, i) => (\r\n                    <div\r\n                        className=\"time-slot__hour\"\r\n                        key={nanoid()}\r\n                        id={i}\r\n                        onClick={onClickTime}>{show.startTime}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport TimeSlot from './TimeSlot';\r\nimport { nanoid } from 'nanoid';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nexport default function ShowMovieDetails({ name, slots, description, movieID, theaterID }) {\r\n\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickShowHours = (event, slot) => {\r\n        const day = (Object.keys(slot))[0];\r\n        const seats = slot[day][event.target.id].seats;\r\n        modalDataDispatch(goForwardAction({ elementName: 'Seats', props: { seats, slotIndex: event.target.id, day, movieID, theaterID } }));\r\n    };\r\n    return (\r\n        <div>\r\n            <div className=\"description__container\">\r\n                {description}\r\n            </div>\r\n            <div>\r\n                {slots.length > 0 ?\r\n                    slots[0].map((slot, i) => (<TimeSlot key={nanoid()} slot={slot} onClickFunc={onClickShowHours} />))\r\n                    : \"No Available Time Slots.\"}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const setDataAction = (data) => ({\r\n    type: \"SET_DATA\",\r\n    data\r\n});","export const initialData = {\r\n    adminsData: [],\r\n    moviesData: [],\r\n    availabilityData: [],\r\n    theatersData: [],\r\n    locationsData: [],\r\n    newsData: [],\r\n    isLoaded: false\r\n};\r\n\r\nconst getData = (data) => {\r\n    const result = {};\r\n    for (let key in data) {\r\n        if (!!data[key]) result[key] = data[key]\r\n    }\r\n    return result\r\n}\r\n\r\nconst DataReducer = (data, action) => {\r\n    switch (action.type) {\r\n\r\n        case \"SET_DATA\":\r\n            const newData = getData(action.data);\r\n            return {\r\n                ...data,\r\n                ...newData\r\n            };\r\n\r\n\r\n        default:\r\n            return { ...data };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default DataReducer;","import React, { createContext, useReducer } from 'react';\r\nimport DataReducer, { initialData } from '../reducers/DataReducer';\r\n\r\nexport const DataContext = createContext();\r\n\r\nconst DataContextProvider = (props) => {\r\n    const [contentData, contentDataDispatch] = useReducer(DataReducer, initialData);\r\n    return (\r\n        <DataContext.Provider value={{ contentData, contentDataDispatch }}>\r\n            {props.children}\r\n        </DataContext.Provider>\r\n    )\r\n};\r\n\r\nexport default DataContextProvider;","import axios from 'axios';\r\nconst serverHost = process.env.REACT_APP_SERVER_HOST;\r\nconst serverPort = process.env.REACT_APP_SERVER_PORT;\r\nexport const serverURL = `${serverHost}:${serverPort}`;\r\n\r\nexport const loginUser = async (request) => {\r\n    try {\r\n        const result = await axios.post(`${serverURL}/login`, request);\r\n        return result.data;\r\n\r\n    } catch (err) {\r\n        const error = new Error(\"Unable to login\")\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const subscribe = async (request) => {\r\n    try {\r\n        const result = await axios.post(`${serverURL}/subscribe`, request);\r\n        return result.data;\r\n\r\n    } catch (err) {\r\n        const error = new Error(\"Unable to login\")\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const logout = async (token, isAdmin) => {\r\n    try {\r\n        await axios.post(`${serverURL}/logout`, { token, isAdmin });\r\n    } catch (err) {\r\n        throw err;\r\n    }\r\n\r\n\r\n};","import { serverURL } from './login';\r\nimport axios from 'axios';\r\nexport const getElementFromArray = (array, key, value) => {\r\n    try {\r\n        return array.filter((element) => (element[key] === value))[0];\r\n    } catch (err) {\r\n        return\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const changePassword = async (token, request, isAdmin) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/update-password`, { token, request, isAdmin });\r\n    } catch (err) {\r\n        throw err;\r\n    }\r\n};\r\n\r\nexport const getAdminsData = async (token) => {\r\n    try {\r\n        const result = await axios.get(`${serverURL}/data/admin/get-all`, { params: { token } });\r\n        return { adminsData: result.data };\r\n    } catch (err) {\r\n        console.log(err.response?.statusText);\r\n        return { adminsData: [] };\r\n    }\r\n\r\n}\r\n\r\nexport const deleteAdmins = async (adminsIDsArray, token) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/admin/delete`, { token, admins: adminsIDsArray });\r\n\r\n    } catch (err) {\r\n        console.log(err.response?.statusText)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const addMovie = async (movie, token) => {\r\n    const { data } = await axios.post(`${serverURL}/data/add-movie/`, { movie, token });\r\n    return data.id;\r\n};\r\n\r\nexport const updateMovie = (movieID, fieldsToUpdate) => {\r\n    console.log(movieID, fieldsToUpdate);\r\n};\r\n\r\nexport const deleteMovies = async (movies, token) => {\r\n    await axios.post(`${serverURL}/data/delete-movies/`, { movies, token });\r\n\r\n};\r\n\r\nexport const getMovies = (moviesData) => {\r\n    return moviesData;\r\n};\r\n\r\nexport const getMovieByName = (movieName, moviesData) => {\r\n    return moviesData.filter(({ name }) => (movieName === name))[0];\r\n};\r\n\r\nexport const getMovieByID = (movieID, moviesData) => {\r\n    return getMovies(moviesData).filter(({ id }) => (movieID === id))[0];\r\n};\r\n\r\nexport const getAvailableMovies = (moviesData, availabilityData) => {\r\n    const result = [];\r\n    moviesData.forEach((movie) => {\r\n        for (let timeSlot of availabilityData) {\r\n            if (movie.id === timeSlot.owner) {\r\n                result.push(movie);\r\n                break;\r\n            }\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nexport const getUnavailableMovies = (moviesData, availabilityData) => {\r\n    const result = [];\r\n    moviesData.forEach((movie) => {\r\n        let found = false;\r\n        for (let timeSlot of availabilityData) {\r\n            if (movie.id === timeSlot.owner) found = true;\r\n        }\r\n        if (!found) result.push(movie);\r\n    });\r\n    return result;\r\n};\r\n\r\nexport const getMovieAvailability = (movieID, theaterID, availabilityData) => {\r\n    try {\r\n        const availableSlots = (availabilityData.filter(({ owner, theater, hasOpenSeats }) => (owner === movieID && theater === theaterID && hasOpenSeats)));\r\n        const result = availableSlots.map((slot) => (slot.slots))\r\n        return result;\r\n    } catch (err) {\r\n        console.log(err.message)\r\n        return []\r\n    }\r\n\r\n};\r\n\r\nexport const getMovieAvailabilityAll = (movieID, theaters, availabilityData) => {\r\n    const result = [];\r\n    const availableTheaters = theaters.filter(({ movies }) => (movies.includes(movieID)));\r\n    for (let theater of availableTheaters) result.push({ theater: theater.name, location: theater.location, slots: getMovieAvailability(movieID, theater.id, availabilityData), theaterID: theater.id });\r\n    return result;\r\n};\r\n\r\n\r\nexport const addAvailability = async (id, timeSlot, token) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-movie-timeslot`, { id, timeSlot, token });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const addComment = async (token, comment, id) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/add-comment`, { token, comment, id });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const reserveSeat = async (token, orderDetails) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/add-seat`, { token, orderDetails });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const addNewTheater = async (token, theater) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-theater`, { token, theater });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteTheaters = (theaters) => {\r\n    console.log(theaters);\r\n};\r\n\r\nexport const getTheaterByID = (theaterID, theaters) => {\r\n    try {\r\n        const { name, movies, seats, location } = theaters.filter(({ id }) => (theaterID === id))[0];\r\n        return { name, movies, seats, location }\r\n    } catch (err) {\r\n        return { name: \"\", movies: [], seats: 0, location: \"\" }\r\n    }\r\n};\r\n\r\nexport const checkForExistingTheater = (theaterName, theaterLocation, theaters) => {\r\n    return theaters.filter(({ name, location }) => (\r\n        name === theaterName && location === theaterLocation\r\n    )).length > 0\r\n};\r\n\r\nexport const getTheatersByLocation = ({ location, theaters }) => {\r\n    return theaters.filter((theater) => (location === theater.location));\r\n};\r\n\r\nexport const getTheaters = (theaters) => {\r\n    return theaters.map(({ name, id, location }) => ({ name: `${name} - ${location}`, id }));\r\n};\r\n\r\nexport const updateTheater = async (token, theaterID, oldMoviesList, theaterDetails, newTimeSlots) => {\r\n    try {\r\n        const allMovies = [];\r\n        const length = oldMoviesList.length > theaterDetails.movies.length ?\r\n            oldMoviesList.length :\r\n            theaterDetails.movies.length;\r\n        for (let i = 0; i < length; i++) {\r\n            if (!allMovies.includes(theaterDetails.movies[i])) allMovies.push(theaterDetails.movies[i]);\r\n            if (!allMovies.includes(oldMoviesList[i])) allMovies.push(theaterDetails.movies[i]);\r\n\r\n        }\r\n        await axios.post(`${serverURL}/data/update-theater`, { token, theaterID, oldMoviesList, theaterDetails, allMovies, newTimeSlots });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const getAllTheaterTimeSlots = (theaterID, movies, availabilityData) => {\r\n    const result = [];\r\n    const filterdData = availabilityData.filter(({ theater }) => (theater === theaterID))\r\n    movies.forEach((movie) => {\r\n        const slots = filterdData.filter(({ owner }) => (owner === movie))[0]?.slots;\r\n        if (slots) result.push({ movieID: movie, slots })\r\n    })\r\n    return result || [];\r\n};\r\n\r\nexport const getLocations = (locations) => {\r\n    return locations;\r\n};\r\n\r\nexport const addNewLocation = async (token, name) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-location`, { token, name });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteLocation = (location, theaters) => {\r\n    console.log(location);\r\n    const locationTheaters = getTheatersByLocation({ location, theaters }).map(({ id }) => (id)) || [];\r\n    console.log(locationTheaters);\r\n};\r\n\r\nexport const checkForExistingLocation = (location, locations) => {\r\n    return locations.filter((l) => (\r\n        l === location\r\n    )).length > 0\r\n};\r\n\r\n\r\n\r\n\r\nexport const addArticle = async (token, article) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-article`, { token, article });\r\n\r\n    } catch (err) {\r\n        console.log(err.message)\r\n        throw err;\r\n    }\r\n};\r\n\r\nexport const updateArticle = async (id, article, token) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/update-article`, { id, token, article });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteArticles = async (token, articles) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/delete-articles`, { token, articles });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const getAllData = async () => {\r\n    const data = {};\r\n    try {\r\n        data.newsData = await getData('articles');\r\n        data.moviesData = await getData('movies');\r\n        data.availabilityData = await getData('timeslots');\r\n        data.theatersData = await getData('theaters');\r\n        data.locationsData = await getData('locations');\r\n        data.isLoaded = true;\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n};\r\n\r\nexport const getData = async (section) => {\r\n    try {\r\n        const { data } = await axios.get(`${serverURL}/data/get-${section}`);\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const getNews = (news) => {\r\n    return news;\r\n};\r\n\r\nexport const getArticleByid = (articleID, articles) => {\r\n    return articles.filter(({ id }) => (id === articleID))[0];\r\n};","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../actions/ModalActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { getData, reserveSeat } from '../../server/utils';\r\n\r\nexport default function Row({ seats, row, slotIndex, day, movieID, theaterID, setErrorMessage }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n\r\n    const onClickSeat = async (event) => {\r\n        setErrorMessage(\"\")\r\n        const seat = event.target.id;\r\n        const cell = parseInt((row - 1) * 12) + parseInt(seat) - 1;\r\n        const orderDetails = {\r\n            cell,\r\n            day,\r\n            hourIndex: slotIndex,\r\n            movieID,\r\n            theaterID\r\n        }\r\n        try {\r\n            await reserveSeat(userData.token, orderDetails);\r\n            const availabilityData = await getData('timeslots');\r\n            contentDataDispatch(setDataAction({ availabilityData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"Reservation\",\r\n                props: { orderDetails }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || err.message)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"row__container\">\r\n            <div className=\"row__number\">{row}</div>\r\n            <div className=\"row\">\r\n                {seats.map((seat, i) => (\r\n                    <div\r\n                        id={i + 1}\r\n                        key={\"seat\" + i}\r\n                        className={(seat ? \"green\" : \"red\") + \" seat\"}\r\n                        onClick={seat ? onClickSeat : () => { }}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Row from './Row';\r\n\r\nexport default function Seats({ seats, slotIndex, day, movieID, theaterID }) {\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const getRows = (seats) => {\r\n        const result = []\r\n        for (let i = 0; i < seats.length;) {\r\n            const row = (Math.floor(i / 12) + 1);\r\n            result.push(<Row key={row} seats={seats.slice(i, i + 12)}\r\n                row={row} slotIndex={slotIndex} day={day}\r\n                movieID={movieID} theaterID={theaterID}\r\n                setErrorMessage={setErrorMessage}\r\n            />);\r\n            i += 12;\r\n        }\r\n        return result\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"seats\">\r\n            <div className=\"screen\"></div>\r\n            <div className=\"seats__container\">\r\n                {seats.length > 0 && getRows(seats).map((row) => (row))}\r\n            </div>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Reservation({ orderDetails }) {\r\n    const {\r\n        cell,\r\n        day,\r\n        hourIndex,\r\n        movieID,\r\n        theaterID\r\n    } = orderDetails\r\n\r\n    return (\r\n        <div>\r\n            {cell,\r\n                day,\r\n                hourIndex,\r\n                movieID,\r\n                theaterID}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Default() {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function StarRating({ rating, setRating }) {\r\n    const [active, setActive] = useState([\"\", \"\", \"\", \"\", \"\"]);\r\n    const setChosenStar = (maxIndex) => {\r\n        const result = [\"\", \"\", \"\", \"\", \"\"];\r\n        for (let i = 0; i < maxIndex; i++)result[i] = 'active';\r\n        setActive(result);\r\n    };\r\n\r\n    const onClickStar = (event) => {\r\n        const id = parseInt(event.target.id);\r\n        setChosenStar(id)\r\n        setRating(id);\r\n    };\r\n\r\n    const clearRating = () => {\r\n        setActive([\"\", \"\", \"\", \"\", \"\"]);\r\n        setRating(null);\r\n    }\r\n    return (\r\n        <div className=\"add-comment__rating\">\r\n            <div className=\"star-wrapper\">\r\n                <div onClick={onClickStar} className={\"fas fa-star s5 \" + active[4]} id=\"5\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s4 \" + active[3]} id=\"4\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s3 \" + active[2]} id=\"3\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s2 \" + active[1]} id=\"2\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s1 \" + active[0]} id=\"1\" />\r\n            </div>\r\n            {rating && <button onClick={clearRating}>Clear</button>}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport StarRating from './StarRating';\r\nimport { nanoid } from 'nanoid';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { clearModalAction, goForwardAction } from '../../actions/ModalActions';\r\nimport { addComment, getData } from '../../server/utils';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { setDataAction } from '../../actions/DataActions';\r\n\r\n\r\nexport default function AddComment({ id }) {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const [rating, setRating] = useState(null);\r\n    const [comment, setComment] = useState(null);\r\n    const onInputComment = (event) => {\r\n        setErrorMessage(\"\")\r\n        const input = event.target.value\r\n        if (input === '') setComment(null);\r\n        else setComment(input);\r\n    };\r\n    const onClickSubmit = async () => {\r\n        setErrorMessage(\"\")\r\n        const request = {};\r\n        if (rating) request.rating = rating;\r\n        if (comment) request.comment = {\r\n            user: userData.activeUser,\r\n            comment,\r\n            id: nanoid()\r\n        };\r\n        try {\r\n            await addComment(userData.token, request, id);\r\n            const moviesData = await getData('movies');\r\n            contentDataDispatch(setDataAction({ moviesData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Comment added!\" }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || err.message)\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"add-comment__container\">\r\n            <StarRating setRating={setRating} rating={rating} />\r\n            <div className=\"add-comment__comment\">\r\n                <textarea onInput={onInputComment}></textarea>\r\n            </div>\r\n            <button\r\n                disabled={!comment && !rating}\r\n                onClick={onClickSubmit}\r\n            >Submit</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function ShowComments({ comments }) {\r\n    const [showMore, setShowMore] = useState(false);\r\n    const [moreClass, setMoreClass] = useState(\"comments\");\r\n    const onClickShow = () => {\r\n        setShowMore(!showMore);\r\n        setMoreClass(\"comments\" + (!showMore ? \" more\" : \"\"))\r\n    }\r\n    return (\r\n        <div className=\"comments__container\">\r\n            <h3>Comments</h3>\r\n            <div className={moreClass}>\r\n                {comments.map((comment, i) => (\r\n                    <div key={nanoid()} className=\"comment\">{comment.comment}</div>\r\n                ))}\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickShow}>\r\n                    {showMore ? \"Show Less Comments\" : \"Show More Comments\"}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { getMovieAvailabilityAll } from '../../server/utils';\r\nimport ShowComments from './ShowComments';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../contexts/DataContext';\r\n\r\nexport default function Movie({ description, comments, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const allSlots = getMovieAvailabilityAll(id, contentData.theatersData, contentData.availabilityData);\r\n\r\n    const onClickTheater = (event) => {\r\n        const { name, slots } = allSlots[event.target.id];\r\n        const theaterID = event.target.parentElement.id;\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ShowMovieDetails\",\r\n            props: { name, slots, movieID: id, theaterID }\r\n        }));\r\n    }\r\n    return (\r\n        <div className=\"movie__container\">\r\n            <div className=\"description__container\">\r\n                {description}\r\n            </div>\r\n            <div className=\"theater-options\">\r\n                {allSlots.map(({ theater, location, theaterID }, i) => (\r\n                    <div key={nanoid()} id={theaterID}>\r\n                        <div className=\"modal__option\" onClick={onClickTheater} id={i}>\r\n                            {`${theater}, ${location}`}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div>\r\n                {comments.length > 0 ?\r\n                    <ShowComments comments={comments} /> :\r\n                    <h3>No comments</h3>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const loginAction = (user, isAdmin) => ({\r\n    type: \"LOGIN\",\r\n    user,\r\n    isAdmin\r\n});\r\n\r\nexport const logoutAction = () => ({\r\n    type: \"LOGOUT\"\r\n});\r\n\r\nexport const setHeaderAction = (activeHeader) => ({\r\n    type: \"HEADER\",\r\n    activeHeader\r\n});\r\n\r\nexport const setWindowAction = (windowWidth) => ({\r\n    type: \"WINDOW\",\r\n    windowWidth\r\n});\r\n\r\nexport const setLocationAction = (location) => ({\r\n    type: \"SET_LOCATION\",\r\n    location\r\n});","import React, { useContext, useEffect, useState } from 'react';\r\nimport { setDataAction } from '../../actions/DataActions';\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\nimport { loginAction } from '../../actions/UserActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { loginUser } from '../../server/login';\r\nimport { getAdminsData } from '../../server/utils';\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [isEmailInputValid, setIsEmailInputValid] = useState(true);\r\n    const [isPasswordInputValid, setIsPasswordInputValid] = useState(true);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    useEffect(() => {\r\n        if (props.errorMessage !== \"\") {\r\n            setErrorMessage(props.errorMessage)\r\n        }\r\n    }, [props.errorMessage])\r\n    const isFormInvalid = () => {\r\n        return email === '' || password === '';\r\n    };\r\n\r\n    const onBlurEmailInput = (event) => {\r\n        const theEmail = event.target.value.trim();\r\n        if (theEmail === '') {\r\n            setEmail('');\r\n            setIsEmailInputValid(false);\r\n        } else {\r\n            setEmail(theEmail);\r\n            setIsEmailInputValid(true);\r\n        }\r\n    }\r\n\r\n    const onBlurPasswordInput = (event) => {\r\n        const thePassword = event.target.value.trim();\r\n        setPassword(thePassword === '' ? '' : thePassword);\r\n        setIsPasswordInputValid(thePassword === '' ? false : true);\r\n    }\r\n\r\n    const onSubmitForm = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const resUserData = await loginUser({ email, password, isAdmin });\r\n            userDataDispatch(loginAction(resUserData, isAdmin));\r\n            if (isAdmin) {\r\n                const admins = await getAdminsData(resUserData.token)\r\n                contentDataDispatch(setDataAction(admins));\r\n            }\r\n            modalDataDispatch(clearModalAction());\r\n        } catch (err) {\r\n            setErrorMessage(err.message);\r\n        }\r\n    };\r\n\r\n    const onClickSubscribe = () => {\r\n        props.setIsLoginMode(false);\r\n    };\r\n\r\n    const onChangeAdminLogin = (event) => {\r\n        setIsAdmin(event.target.checked);\r\n    };\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h3>Login</h3>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n            <form className=\"login-form\" onSubmit={onSubmitForm}>\r\n                <input placeholder=\"Email\" onBlur={onBlurEmailInput} />\r\n                {!isEmailInputValid && <div className=\"invalid-message\">You must enter your Email.</div>}\r\n                <input type=\"password\" placeholder=\"Password\" onBlur={onBlurPasswordInput} />\r\n                {!isPasswordInputValid && <div className=\"invalid-message\">You must enter your password.</div>}\r\n                <div className=\"login-admin\"><input type=\"checkbox\" onChange={onChangeAdminLogin} />Login as admin</div>\r\n                <div className=\"login-form__nav\">\r\n                    <button type=\"submit\" disabled={isFormInvalid()}>Submit</button>\r\n                    <div className=\"login-or-subscribe\" onClick={onClickSubscribe}>Subscribe</div>\r\n                </div>\r\n\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default LoginForm;","import React, { useContext, useState } from 'react';\r\nimport validator from 'validator';\r\nimport { setDataAction } from '../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../actions/ModalActions';\r\nimport { loginAction } from '../../actions/UserActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { subscribe } from '../../server/login';\r\nimport { getAdminsData } from '../../server/utils';\r\n\r\nconst SubscribeForm = (props) => {\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [inputClasses, setInputClasses] = useState([\"\", \"\", \"\", \"\"]);\r\n    const [invalidMessages, setInvalidMessages] = useState([\"\", \"\", \"\", \"\"]);\r\n    const [validInputs, setValidInputs] = useState([false, false, false, false]);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n\r\n\r\n    const isFormInvalid = () => {\r\n        return validInputs.includes(false);\r\n    };\r\n\r\n    const setStateOfInputs = (message, inputClass, isvalidInput, inputindex) => {\r\n        const newInavlidMessages = [...invalidMessages];\r\n        const newInputClasses = [...inputClasses];\r\n        const newValidInputs = [...validInputs];\r\n        newInavlidMessages[inputindex] = message;\r\n        setInvalidMessages(newInavlidMessages);\r\n        newInputClasses[inputindex] = inputClass;\r\n        setInputClasses(newInputClasses);\r\n        newValidInputs[inputindex] = isvalidInput;\r\n        setValidInputs(newValidInputs);\r\n    };\r\n\r\n    const validateInput = (\r\n        value,\r\n        inputindex,\r\n        isValueValidFunc,\r\n        setValue,\r\n        missingValueMessage,\r\n        invalidValueMessage\r\n    ) => {\r\n\r\n\r\n        if (value.length > 0) {\r\n            if (isValueValidFunc(value)) {\r\n                setStateOfInputs(\"\", \"\", true, inputindex);\r\n                setValue(value);\r\n            } else {\r\n                setStateOfInputs(invalidValueMessage, \"input-invalid\", false, inputindex);\r\n            }\r\n        } else {\r\n            setStateOfInputs(missingValueMessage, \"input-invalid\", false, inputindex);\r\n        }\r\n    };\r\n\r\n    const onBlurUsername = (event) => {\r\n        const newUsername = event.target.value.trim();\r\n        const isUsenamevalid = (value) => {\r\n            return true;\r\n        };\r\n        validateInput(\r\n            newUsername,\r\n            0,\r\n            isUsenamevalid,\r\n            setUsername,\r\n            \"You must enter username\",\r\n            \"Username could not be MOSHE!!!\"\r\n        );\r\n    };\r\n\r\n    const onBlurEmail = (event) => {\r\n        const newEmail = event.target.value.trim();\r\n\r\n        validateInput(\r\n            newEmail,\r\n            1,\r\n            validator.isEmail,\r\n            setEmail,\r\n            \"You must enter your email\",\r\n            \"Email invalid\"\r\n        );\r\n    };\r\n\r\n    const onBlurPassword = (event) => {\r\n        const newPassword = event.target.value.trim();\r\n        const isPasswordValid = (value) => {\r\n            const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\r\n            return passwordRegex.test(value);\r\n        };\r\n        validateInput(\r\n            newPassword,\r\n            2,\r\n            isPasswordValid,\r\n            setPassword,\r\n            \"You must enter password\",\r\n            \"Password must contain capital and regular characters, numbers and must have at least 8 characters\"\r\n        );\r\n    };\r\n\r\n    const onBlurPasswordRepeated = (event) => {\r\n        const passwordRepeated = event.target.value.trim();\r\n        const isPasswordRepeatedValid = () => {\r\n            return password === passwordRepeated;\r\n        };\r\n        validateInput(\r\n            passwordRepeated,\r\n            3,\r\n            isPasswordRepeatedValid,\r\n            () => { },\r\n            \"You must enter again your password\",\r\n            \"The two passwords not identical\"\r\n        );\r\n    };\r\n\r\n    const onSubmitform = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const request = { email, password, name: username, isAdmin: !props.partOfLogin };\r\n            const subscribeData = await subscribe(request);\r\n            if (props.partOfLogin) userDataDispatch(loginAction(subscribeData, false));\r\n            else {\r\n                const admins = await getAdminsData(userData.token)\r\n                contentDataDispatch(setDataAction(admins));\r\n            }\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Account successfully added!\" }\r\n            }));\r\n\r\n        } catch (err) {\r\n            const errorMessageArray = [\"\", \"\", \"\", \"\"]\r\n            errorMessageArray[err.index || 3] = err.message;\r\n            setInvalidMessages(errorMessageArray)\r\n        }\r\n\r\n    };\r\n\r\n    const onClickLogin = () => {\r\n        props.setIsLoginMode(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h3>Subscribe</h3>\r\n            <form onSubmit={onSubmitform}>\r\n                <input placeholder=\"Username\" className={inputClasses[0]} onBlur={onBlurUsername} />\r\n                {invalidMessages[0] !== \"\" && <div className=\"invalid-message\">{invalidMessages[0]}</div>}\r\n                <input placeholder=\"Email\" className={inputClasses[1]} onBlur={onBlurEmail} />\r\n                {invalidMessages[1] !== \"\" && <div className=\"invalid-message\">{invalidMessages[1]}</div>}\r\n                <input type=\"password\" placeholder=\"Password\" className={inputClasses[2]} onBlur={onBlurPassword} />\r\n                {invalidMessages[2] !== \"\" && <div className=\"invalid-message\">{invalidMessages[2]}</div>}\r\n                <input type=\"password\" placeholder=\"Repeat on password\" className={inputClasses[3]} onBlur={onBlurPasswordRepeated} />\r\n                {invalidMessages[3] !== \"\" && <div className=\"invalid-message\">{invalidMessages[3]}</div>}\r\n                <div className=\"login-form__nav\">\r\n                    <button type=\"submit\" disabled={isFormInvalid()}>Submit</button>\r\n                    {props.partOfLogin && <div className=\"login-or-subscribe\" onClick={onClickLogin}>Login</div>}\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubscribeForm;","import React, { useState } from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport SubscribeForm from './SubscribeForm';\r\n\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    const errorMessage = props?.location?.state?.needToLogin ?\r\n        \"You need to login\" : \"\";\r\n    const [isLoginMode, setIsLoginMode] = useState(true);\r\n    return (\r\n        <div className={\"login-page\"}>\r\n            <div className=\"login-page__form\">\r\n                {isLoginMode ?\r\n                    <LoginForm setIsLoginMode={setIsLoginMode} errorMessage={errorMessage} /> :\r\n                    <SubscribeForm setIsLoginMode={setIsLoginMode} partOfLogin={true} />}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default LoginPage;","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function Menu({ sections }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickOption = (event) => {\r\n\r\n        const { elementName, props } = sections[event.target.id];\r\n        const children = {\r\n            elementName,\r\n            props\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    };\r\n\r\n    return (\r\n        <div className=\"menu__container\">\r\n            {sections.length > 0 && sections.map(({ title }, i) => (\r\n                <button key={nanoid()} onClick={onClickOption} id={i}>{title}</button>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function QueryItems({ itemType, getItems, inputType, setAbleSubmit, getItemsParams, isChecked, setIsChecked }) {\r\n    const items = getItems(getItemsParams);\r\n    const [diaplayItems, setDisplayItems] = useState([...items]);\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayItems(items);\r\n            setAbleSubmit(Object.keys(isChecked).length > 0);\r\n        } else {\r\n            const filter = items.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayItems(filter);\r\n            setAbleSubmit((Object.keys(isChecked).length > 0) && (filter.length > 0))\r\n        }\r\n\r\n    };\r\n\r\n    const onChangeChecked = (event) => {\r\n        const id = event.target.id;\r\n        if (inputType === \"radio\") {\r\n            const record = {};\r\n            record[id] = true;\r\n            setAbleSubmit(true);\r\n            setIsChecked(record);\r\n        }\r\n        else if (inputType === \"checkbox\") {\r\n            if (event.target.checked) {\r\n                const record = isChecked;\r\n                record[id] = true;\r\n                setIsChecked(record);\r\n                setAbleSubmit(true);\r\n            } else {\r\n                const record = isChecked;\r\n                delete record[id];\r\n                setIsChecked(record);\r\n                setAbleSubmit(Object.keys(record).length > 0);\r\n            }\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"item-query\">\r\n            <div className=\"query\">\r\n                <input placeholder={\"Find \" + itemType} onInput={filterItems} />\r\n            </div>\r\n            <div className=\"options__container\">{\r\n                diaplayItems.length > 0 && diaplayItems.map((item) => (\r\n                    <div key={nanoid()} className=\"query__option\">\r\n                        <input id={item.id} type={inputType} onChange={onChangeChecked} checked={!!isChecked[item.id]} /> {item.name}\r\n                    </div>\r\n                ))\r\n            }</div>\r\n        </div>\r\n    )\r\n};\r\n","import React, { useState } from 'react';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function DeleteItems({ itemType, getItems, getItemsParams, onSubmitFunc, adjustType }) {\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClickSubmit = async () => {\r\n        const itemsToSubmit = getItemsToSubmit(adjustType);\r\n        await onSubmitFunc(itemsToSubmit)\r\n    }\r\n\r\n    const getItemsToSubmit = (adjustType) => {\r\n        switch (adjustType) {\r\n            case \"Update\": return Object.keys(isChecked)[0];\r\n            default: return Object.keys(isChecked);\r\n        }\r\n    }\r\n\r\n    const getInputType = (adjustType) => {\r\n        switch (adjustType) {\r\n            case \"Update\": return \"radio\"\r\n            default: return \"checkbox\"\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={getInputType(adjustType)}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClickSubmit}>{adjustType}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovies } from '../../../../server/utils';\r\nimport AdjustItems from '../AdjustItems';\r\n\r\nexport default function UpdateMovie() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const onClickSubmit = (id) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateMovieStats\",\r\n            props: { id }\r\n        }))\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3>Pick a movie:</h3>\r\n            <AdjustItems\r\n                itemType={\"Movies\"}\r\n                getItems={getMovies}\r\n                getItemsParams={contentData.moviesData}\r\n                onSubmitFunc={onClickSubmit}\r\n                adjustType={\"Update\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext } from 'react';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\n\r\nexport default function PickLocation({ clickLoactionFunc }) {\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const locations = contentData.locationsData;\r\n    const onClickLocation = (event) => {\r\n        const location = event.target.innerText;\r\n        clickLoactionFunc(location)\r\n    };\r\n    return (\r\n        <div className=\"pick-location__container\">\r\n            <h3>Pick a location:</h3>\r\n            <div>\r\n                {locations.length > 0 && locations.map((location) => (\r\n                    <div key={nanoid()} className=\"modal__option\" onClick={onClickLocation}>{location}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { getTheatersByLocation } from '../../../../server/utils';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport PickLocation from './PickLocation';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nexport default function UpdateTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n    const onClickSubmit = () => {\r\n\r\n    }\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateItem\",\r\n            props: {\r\n                itemType: \"Theaters\",\r\n                getItems: getTheatersByLocation,\r\n                onSubmit: onClickSubmit,\r\n                getItemsParams: { location, theaters: contentData.theatersData },\r\n                elementName: \"UpdateTheaterStats\"\r\n            }\r\n        }))\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { goForwardAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function UpdateItem({ itemType, getItems, elementName, getItemsParams, }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClichSubmit = () => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName,\r\n            props: { id: Object.keys(isChecked)[0] }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={\"radio\"}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClichSubmit}>Update</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovieByID, getTheaterByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nexport default function UpdateTheaterStats({ id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n    const { name, movies, seats } = getTheaterByID(id, contentData.theatersData);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [seatsValue, setSeatsValue] = useState(seats);\r\n    const [moviesList, setMoviesList] = useState(movies);\r\n    const setValues = [setNameValue, setSeatsValue];\r\n    const [addMoreMovies, setAddMoreMovies] = useState(false);\r\n    const allMovies = contentData.moviesData;\r\n    const [displyMovies, setDisplayMovies] = useState([...allMovies])\r\n\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayMovies(allMovies);\r\n\r\n        } else {\r\n            const filter = allMovies.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayMovies(filter);\r\n        }\r\n\r\n    };\r\n\r\n    const onClickRemove = (event) => {\r\n        const index = event.target.parentElement.id;\r\n        const newMovieList = [...moviesList];\r\n        newMovieList.splice(index, 1);\r\n        setMoviesList(newMovieList);\r\n        setAddMoreMovies(addMoreMovies || newMovieList.length === 0)\r\n\r\n    };\r\n\r\n    const onChangeMovieChecked = (event) => {\r\n        const index = moviesList.indexOf(event.target.id);\r\n        const newMovieList = [...moviesList];\r\n        if (index >= 0) {\r\n            newMovieList.splice(index, 1);\r\n            setMoviesList(newMovieList);\r\n        } else {\r\n\r\n            newMovieList.push(event.target.id)\r\n            setMoviesList(newMovieList);\r\n        }\r\n    }\r\n    const onChangeValue = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setValues[index](value);\r\n    };\r\n\r\n    const onClickAddMovies = () => {\r\n        setAddMoreMovies(!addMoreMovies);\r\n    };\r\n\r\n    const onClickUpdate = () => {\r\n        const theaterDetails = {\r\n            name: nameValue,\r\n            seats: parseInt(seatsValue),\r\n            movies: moviesList\r\n        };\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateAvailableTimeSlots\",\r\n            props: {\r\n                oldMoviesList: movies,\r\n                theaterDetails,\r\n                id\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Theater Name: <input id=\"0\" value={nameValue} onChange={onChangeValue} /></div>\r\n            <div>Seats: <input id=\"1\" value={seatsValue} type=\"number\" onChange={onChangeValue} /></div>\r\n            <div className=\"movies-in-theater\">\r\n                {moviesList.map((movieID, i) => {\r\n                    const { name } = getMovieByID(movieID, contentData.moviesData);\r\n                    return (<div className=\"listed-movie\" key={nanoid()} id={i} onClick={onClickRemove}>\r\n                        <div className=\"remove\">Remove</div>{name}\r\n                    </div>)\r\n                })}\r\n                <div>\r\n                    <button className=\"add-more-movies\" onClick={onClickAddMovies}>{\"Show \" + (!addMoreMovies ? \"More\" : \"Less\") + \" Movies\"}</button>\r\n                    {addMoreMovies && <div className=\"more-movies-container\">\r\n                        <div className=\"query\">\r\n                            <input placeholder={\"Find Movies\"} onInput={filterItems} />\r\n                        </div>\r\n                        {\r\n                            displyMovies.map((movie, i) => (\r\n                                <div key={nanoid()}>\r\n                                    <input id={movie.id} type=\"checkBox\" checked={moviesList.indexOf(movie.id) >= 0} onChange={onChangeMovieChecked} />{movie.name}\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickUpdate} disabled={moviesList.length === 0}>Update Available Time Slots</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const initialHoursData = {\r\n    hours: []\r\n};\r\n\r\n\r\nconst SlotHoursReducer = (hoursData, action) => {\r\n    switch (action.type) {\r\n        case \"SET\":\r\n            return {\r\n                ...hoursData,\r\n                hours: action.hours\r\n            };\r\n        default:\r\n            return { ...hoursData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default SlotHoursReducer;","import React, { createContext, useReducer } from 'react';\r\nimport SlotHoursReducer, { initialHoursData } from '../reducers/SlotHoursReducer';\r\n\r\nexport const SlotHoursContext = createContext();\r\n\r\nconst SlotHoursContextProvider = (props) => {\r\n    const [hoursData, hoursDataDispatch] = useReducer(SlotHoursReducer, initialHoursData);\r\n    return (\r\n        <SlotHoursContext.Provider value={{ hoursData, hoursDataDispatch }}>\r\n            {props.children}\r\n        </SlotHoursContext.Provider>\r\n    )\r\n};\r\n\r\nexport default SlotHoursContextProvider;","import React, { useContext, useEffect } from 'react'\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\n\r\nexport default function AddHour({ removeHour, id }) {\r\n    const { hoursData } = useContext(SlotHoursContext)\r\n    useEffect(() => {\r\n\r\n    }, [hoursData.hours])\r\n\r\n    const onClickR = (event) => {\r\n        removeHour(event, hoursData.hours)\r\n    }\r\n    return (\r\n        <div className=\"add-time-slot__hour\" onClick={onClickR} id={id}>\r\n            <select>\r\n                <option>09</option><option>10</option><option>11</option>\r\n                <option>12</option><option>13</option><option>14</option><option>15</option>\r\n                <option>16</option><option>17</option><option>18</option>\r\n                <option>19</option><option>20</option>\r\n            </select><select>\r\n                <option>00</option><option>30</option>\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n","export const setHoursAction = (hours) => ({\r\n    type: \"SET\",\r\n    hours\r\n});\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { getMovieByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport TimeSlot from '../../../theaters/TimeSlot';\r\nimport AddHour from './AddHour';\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\nimport { setHoursAction } from '../../../../actions/SlotHoursActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\n\r\nexport default function UpdateTimeSlot({ movieTimeSlots, seats, setTimeSlots, index, newTimeSlots }) {\r\n\r\n    const { contentData } = useContext(DataContext);\r\n    const { hoursData, hoursDataDispatch } = useContext(SlotHoursContext)\r\n    const { name } = getMovieByID(movieTimeSlots.movieID, contentData.moviesData);\r\n    const week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n        \"Friday\", \"Saturday\", \"Sunday\",];\r\n    const getDays = (displaySlots) => {\r\n        const result = [];\r\n        for (let slot of displaySlots)\r\n            result.push(parseInt(Object.keys(slot)[0]) - 1)\r\n        return result;\r\n    }\r\n    const slots = movieTimeSlots.slots;\r\n    const [displaySlots, setDisplaySlots] = useState([...slots]);\r\n    const [existingDays, setExistingDays] = useState(getDays(displaySlots));\r\n    const [addDay, setAddDay] = useState(false);\r\n    const [day, setDay] = useState('Pick A Day');\r\n    useEffect(() => {\r\n        setDisplaySlots(newTimeSlots[index].slots);\r\n\r\n    }, [newTimeSlots, index]);\r\n    const onSelectDay = (event) => {\r\n        setDay(event.target.value);\r\n    };\r\n\r\n    const onClickaddDay = () => {\r\n        setAddDay(existingDays.length < 7)\r\n    };\r\n\r\n\r\n    const getHours = (hours) => {\r\n        const result = [];\r\n        for (let hour of hours) {\r\n            const slot = {}\r\n            const hh = parseInt(hour.children[0].value);\r\n            const mm = hour.children[1].value;\r\n            slot.startTime = `${hh}:${mm}`;\r\n            slot.endTime = `${hh + 3}:${mm}`;\r\n            slot.seats = createSeats(seats);\r\n            result.push(slot);\r\n        }\r\n        result.sort((a, b) => {\r\n            const h1 = a.startTime.split(':');\r\n            const h2 = b.startTime.split(':');\r\n            return (parseInt(h1[0]) > parseInt(h2[0]))\r\n        })\r\n        return result;\r\n    };\r\n\r\n    const createSeats = (seatsNum) => {\r\n        const seats = [];\r\n        for (let i = 0; i < seatsNum; i++)seats.push(true);\r\n        return seats;\r\n    };\r\n\r\n    const onClickSubmitDay = (event) => {\r\n        const day = event.target.parentElement.firstChild.value;\r\n        const keyDay = week.indexOf(day) + 1;\r\n        const hoursContainerElement = event.target.parentElement.children[1];\r\n        const showHours = getHours(hoursContainerElement.children);\r\n        const slot = {};\r\n        slot[keyDay] = showHours;\r\n        const newSlots = displaySlots;\r\n        newSlots.push(slot);\r\n        newSlots.sort((a, b) => (Object.keys(a)[0] > Object.keys(b)[0]));\r\n        console.log(newSlots)\r\n        setDisplaySlots([...newSlots]);\r\n        hoursDataDispatch(setHoursAction([]));\r\n        setExistingDays(getDays(newSlots));\r\n        setAddDay(false);\r\n        setTimeSlots(index, newSlots)\r\n    };\r\n\r\n\r\n    const removeHour = (event, h) => {\r\n        if (!!event.target.children[0]?.children[0]) {\r\n            const e = (h.filter((hour) => (hour.props.id === event.target.id)))[0];\r\n            const index = h.indexOf(e);\r\n            const newHours = [].concat(h.slice(0, index), h.slice(index + 1) || []);\r\n            hoursDataDispatch(setHoursAction(newHours));\r\n        }\r\n\r\n        event.stopPropagation();\r\n    };\r\n\r\n    const onClickAddHour = () => {\r\n        hoursDataDispatch(setHoursAction([].concat(hoursData.hours, <AddHour key={nanoid()} removeHour={removeHour} id={nanoid()} />)));\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-time-slot__container\">\r\n            <h3>{name}</h3>\r\n            <div className=\"update-time-slot__timeslots\">\r\n                {\r\n                    displaySlots.length > 0 && displaySlots.map((slot) => {\r\n\r\n                        return (\r\n                            <TimeSlot key={nanoid()} slot={slot} onClickFunc={() => { }} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {!!addDay && <div className=\"add-day__container\">\r\n                <select onChange={onSelectDay} value={day}>\r\n                    <option>{'Pick A Day'}</option>\r\n                    {week.filter((week, i) => (!existingDays.includes(i))).map((day) => (<option key={nanoid()}>{day}</option>))}\r\n                </select>\r\n                <div className=\"add-time-slot\">\r\n                    {hoursData.hours.length > 0 && hoursData.hours.map((hour) => (hour))}\r\n                </div>\r\n\r\n                <div className=\"add-time-slot__add-hour\" onClick={onClickAddHour}>+</div>\r\n\r\n                <button className=\"add-day__submit\" onClick={onClickSubmitDay} disabled={!hoursData.hours.length > 0 || day === 'Pick A Day'}>Add</button>\r\n            </div>}\r\n            <button className=\"add-day__button\" onClick={onClickaddDay} disabled={addDay || existingDays.length > 6}>Add Day</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { getAllTheaterTimeSlots, getData, updateTheater } from '../../../../server/utils'\r\nimport UpdateTimeSlot from './UpdateTimeSlot';\r\nimport { nanoid } from 'nanoid';\r\nimport SlotHoursContextProvider from '../../../../contexts/SlotHoursContext'\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\n\r\nexport default function UpdateAvailableTimeSlots({ oldMoviesList, theaterDetails, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const timeSlots = getAllTheaterTimeSlots(id, theaterDetails.movies, contentData.availabilityData);\r\n    const [newTimeSlots, setNewTimeSlots] = useState([...timeSlots]);\r\n    const [isAllMoviesUpdated, setisAllMoviesUpdated] = useState(false);\r\n    const setNewSlots = (index, timeSlots) => {\r\n        const newSlots = [...newTimeSlots];\r\n        newSlots[index].slots = timeSlots;\r\n        newSlots[index].hasOpenSeats = true;\r\n        setNewTimeSlots(newSlots);\r\n    };\r\n    useEffect(() => {\r\n        let update = true;\r\n        for (let movie of newTimeSlots) {\r\n            if (movie.slots.length === 0) update = false;\r\n            setisAllMoviesUpdated(update)\r\n        }\r\n    }, [newTimeSlots])\r\n    const onClickUpdate = async () => {\r\n        try {\r\n            setErrorMessage(\"\");\r\n            await updateTheater(userData.token, id, oldMoviesList, theaterDetails, newTimeSlots);\r\n            console.log(newTimeSlots, oldMoviesList, theaterDetails)\r\n            const theatersData = await getData('theaters');\r\n            const availabilityData = await getData('timeslots');\r\n            contentDataDispatch(setDataAction({ theatersData, availabilityData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"TimeSlots updated!\" }\r\n            }));\r\n\r\n        } catch (err) {\r\n            if (err.response) setErrorMessage(err.response.data.message);\r\n            else setErrorMessage(err.message);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-available-timeslots\">\r\n            {timeSlots.length > 0 && timeSlots.map((timeSlot, i) => (\r\n                <SlotHoursContextProvider key={nanoid()}>\r\n                    <UpdateTimeSlot movieTimeSlots={timeSlot} seats={theaterDetails.seats} setTimeSlots={setNewSlots} index={i} newTimeSlots={newTimeSlots} />\r\n                </SlotHoursContextProvider>\r\n            ))}\r\n            <button disabled={!isAllMoviesUpdated} onClick={onClickUpdate}>Update Theater</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addNewLocation, checkForExistingLocation, getData } from '../../../../server/utils';\r\n\r\nexport default function AddLoction() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const [location, setLocation] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const onInputLocation = (event) => {\r\n        if (errorMessage !== \"\") setErrorMessage(\"\")\r\n        setLocation(event.target.value)\r\n    };\r\n\r\n    const onClickAddLocation = async () => {\r\n        setErrorMessage(\"\")\r\n        if (!checkForExistingLocation(location, contentData.locationsData)) {\r\n            try {\r\n                await addNewLocation(userData.token, location);\r\n                const locationsData = await getData('locations');\r\n                contentDataDispatch(setDataAction({ locationsData }));\r\n                modalDataDispatch(goForwardAction({\r\n                    elementName: \"AddNewTheaterStats\",\r\n                    props: {\r\n                        location\r\n                    }\r\n                }))\r\n            } catch (err) {\r\n                setErrorMessage(err.response?.data.message || err.message)\r\n            }\r\n\r\n        } else setErrorMessage(\"Location already exists!\")\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Enter Location name:</h3>\r\n            <input onInput={onInputLocation} />\r\n            <button onClick={onClickAddLocation} disabled={location === ''}>Add</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport PickLocation from './PickLocation';\r\nexport default function AddTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"AddNewTheaterStats\",\r\n            props: { location }\r\n        }));\r\n    };\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { getMovieByID, getMovies, getTheaterByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nexport default function AdjustTheaterDetails({ theaterID, onClickSubmitFunc, submitText }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { name, movies, seats } = getTheaterByID(theaterID);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [seatsValue, setSeatsValue] = useState(seats);\r\n    const [moviesList, setMoviesList] = useState(movies);\r\n    const setValues = [setNameValue, setSeatsValue];\r\n    const [addMoreMovies, setAddMoreMovies] = useState(false);\r\n    const allMovies = getMovies(contentData.moviesData);\r\n    const [displyMovies, setDisplayMovies] = useState([...allMovies])\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayMovies(allMovies);\r\n\r\n        } else {\r\n            const filter = allMovies.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayMovies(filter);\r\n        }\r\n\r\n    };\r\n\r\n    const onClickRemove = (event) => {\r\n        const index = event.target.parentElement.id;\r\n        const newMovieList = [...moviesList];\r\n        newMovieList.splice(index, 1);\r\n        setMoviesList(newMovieList);\r\n        setAddMoreMovies(addMoreMovies || newMovieList.length === 0)\r\n\r\n    };\r\n\r\n    const onChangeMovieChecked = (event) => {\r\n        const index = moviesList.indexOf(event.target.id);\r\n        const newMovieList = [...moviesList];\r\n        if (index >= 0) {\r\n            newMovieList.splice(index, 1);\r\n            setMoviesList(newMovieList);\r\n        } else {\r\n\r\n            newMovieList.push(event.target.id)\r\n            setMoviesList(newMovieList);\r\n        }\r\n    }\r\n    const onChangeValue = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setValues[index](value);\r\n    };\r\n\r\n    const onClickAddMovies = () => {\r\n        setAddMoreMovies(!addMoreMovies);\r\n    };\r\n\r\n    const onClickSubmit = async () => {\r\n        const theaterDetails = {\r\n            name: nameValue,\r\n            seats: parseInt(seatsValue),\r\n            movies: moviesList\r\n        };\r\n        try {\r\n            await onClickSubmitFunc(theaterDetails, theaterID, movies)\r\n        } catch (err) { console.log(err) }\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Theater Name: <input id=\"0\" value={nameValue} onChange={onChangeValue} /></div>\r\n            <div>Seats: <input id=\"1\" value={seatsValue} type=\"number\" onChange={onChangeValue} /></div>\r\n            <div className=\"movies-in-theater\">\r\n                {moviesList.map((movieID, i) => {\r\n                    const { name } = getMovieByID(movieID, contentData.moviesData);\r\n                    return (<div className=\"listed-movie\" key={nanoid()} id={i} onClick={onClickRemove}>\r\n                        <div className=\"remove\">Remove</div>{name}\r\n                    </div>)\r\n                })}\r\n                <div>\r\n                    <button className=\"add-more-movies\" onClick={onClickAddMovies}>{\"Show \" + (!addMoreMovies ? \"More\" : \"Less\") + \" Movies\"}</button>\r\n                    {addMoreMovies && <div className=\"more-movies-container\">\r\n                        <div className=\"query\">\r\n                            <input placeholder={\"Find Movies\"} onInput={filterItems} />\r\n                        </div>\r\n                        {\r\n                            displyMovies.map((movie, i) => (\r\n                                <div key={nanoid()}>\r\n                                    <input id={movie.id} type=\"checkBox\" checked={moviesList.indexOf(movie.id) >= 0} onChange={onChangeMovieChecked} />{movie.name}\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickSubmit} disabled={moviesList.length === 0 || nameValue === \"\" || !seatsValue > 0}>{submitText}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext, useState } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addNewTheater, checkForExistingTheater, getData } from '../../../../server/utils';\r\nimport AdjustTheaterDetails from './AdjustTheaterDetails';\r\n\r\nexport default function AddNewTheaterStats({ location }) {\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const [addNewTheaterForm, setAddNewTheaterForm] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const onClickAddNewTheater = () => {\r\n        setAddNewTheaterForm(!addNewTheaterForm);\r\n        setErrorMessage(\"\");\r\n    }\r\n    const onClickSubmit = async (theaterDetails) => {\r\n        setErrorMessage(\"\");\r\n        if (!checkForExistingTheater(theaterDetails.name, location, contentData.theatersData)) {\r\n            const theater = theaterDetails;\r\n            theater.location = location\r\n            setAddNewTheaterForm(false);\r\n            try {\r\n                await addNewTheater(userData.token, theater);\r\n                const theatersData = await getData('theaters');\r\n                contentDataDispatch(setDataAction({ theatersData }));\r\n            } catch (err) {\r\n                setErrorMessage(err.response?.data.message || err.message)\r\n\r\n            }\r\n\r\n        } else setErrorMessage('Theater already exists!');\r\n\r\n    }\r\n    return (\r\n        <div className=\"add-new-theater__container\">\r\n            <button onClick={onClickAddNewTheater}>{addNewTheaterForm ? \"-\" : \"+\"} New Theater</button>\r\n            {addNewTheaterForm && <div className=\"add-new-theater-form\">\r\n                <AdjustTheaterDetails\r\n                    theaterID={nanoid()}\r\n                    submitText={\"Add Theater\"}\r\n                    onClickSubmitFunc={onClickSubmit}\r\n                />\r\n            </div>}\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { deleteLocation } from '../../../../server/utils';\r\nimport PickLocation from './PickLocation';\r\nexport default function DeleteLocation() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: [location],\r\n                onDeleteFuncData: location\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = (location) => {\r\n        deleteLocation(location)\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { clearModalAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\n\r\nexport default function ConfirmDelete({ onDeleteFunc, onDeleteFuncData, items }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickCancel = () => {\r\n        modalDataDispatch(clearModalAction());\r\n    };\r\n\r\n    const onClickDelete = async () => {\r\n        await onDeleteFunc(onDeleteFuncData);\r\n        modalDataDispatch(clearModalAction());\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>Are you sure you want to delete:</h3>\r\n            <div>\r\n                {items.length > 0 && items.map((item, i) => {\r\n                    const seperator = i === items.length - 1 ? \".\" : \", \";\r\n                    return (`${item}${seperator}`)\r\n                })}\r\n            </div>\r\n            <div className=\"update-item__buttons\">\r\n                <button className=\"delete-button\" onClick={onClickDelete}>Delete</button>\r\n                <button onClick={onClickCancel}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport PickLocation from './PickLocation';\r\n\r\nexport default function DeleteTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"DeleteTheaters\",\r\n            props: { location }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { deleteTheaters, getTheaterByID, getTheatersByLocation } from '../../../../server/utils';\r\nimport AdjustItems from '../AdjustItems'\r\nexport default function DeleteTheaters({ location }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickDelete = (items) => {\r\n        const theatersNames = items.map((item) => {\r\n            const { name } = getTheaterByID(item);\r\n            return `${name} - ${location}`;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: theatersNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = (theaters) => {\r\n        deleteTheaters(theaters)\r\n    };\r\n    return (\r\n        <AdjustItems\r\n            itemType={\"Theaters\"}\r\n            getItems={getTheatersByLocation}\r\n            getItemsParams={location}\r\n            onSubmitFunc={onClickDelete}\r\n            adjustType={\"Delete\"}\r\n        />\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AddPicture({\r\n    picture, setPicture,\r\n    onInputText, pictureValue, setPictureValue\r\n}) {\r\n\r\n    const onClickClear = (event) => {\r\n        const PictureInputElement = event.target.parentElement.previousSibling.children[0];;\r\n        PictureInputElement.value = \"\";\r\n        setPicture(null);\r\n        setPictureValue(null);\r\n    }\r\n    const onClickAddPicture = async (event) => {\r\n        const pictureInput = event.target.previousSibling;\r\n        const picture = pictureInput.value;\r\n        setPicture(picture);\r\n\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            Picture:\r\n            <div>\r\n                <input id=\"3\" onInput={onInputText} />\r\n                {!picture && <button onClick={onClickAddPicture} disabled={!pictureValue}>Add</button>}\r\n            </div >\r\n            {!!picture && <div className=\"image-preview__container\">\r\n                <img className=\"image-preview\" src={picture} alt=\"article_picture\" />\r\n                <button onClick={onClickClear}>Clear</button>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addArticle, getData } from '../../../../server/utils';\r\nimport AddPicture from '../AddPicture';\r\nexport default function AddArticle() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [name, setName] = useState('');\r\n    const [subTitle, setSubTitle] = useState('');\r\n    const [article, setArticle] = useState('');\r\n    const [picture, setPicture] = useState(null);\r\n    const [pictureValue, setPictureValue] = useState(null);\r\n    const setInput = [setName, setSubTitle, setArticle, setPictureValue];\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const onInputText = (event) => {\r\n        if (errorMessage !== \"\") setErrorMessage(\"\")\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setInput[index](value);\r\n    };\r\n\r\n    const onClickAdd = async () => {\r\n        try {\r\n            await addArticle(userData.token, { name, subTitle, article, picture });\r\n\r\n            modalDataDispatch(clearModalAction());\r\n            const newsData = await getData('articles');\r\n            contentDataDispatch(setDataAction({ newsData }))\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Article Added!\" }\r\n            }));\r\n        } catch (err) {\r\n            if (err.response) setErrorMessage(err.response.data.message);\r\n            else setErrorMessage(err.message);\r\n        }\r\n\r\n    };\r\n    return (\r\n        <div className=\"add-article\">\r\n            Title:<input id=\"0\" onInput={onInputText} />\r\n            Sub-Title:<input id=\"1\" onInput={onInputText} />\r\n            Article:<textarea id=\"2\" onInput={onInputText} />\r\n\r\n            <AddPicture\r\n                picture={picture}\r\n                setPicture={setPicture}\r\n                onInputText={onInputText}\r\n                pictureValue={pictureValue}\r\n                setPictureValue={setPictureValue}\r\n            />\r\n            <button\r\n                disabled={!name || !subTitle || !article}\r\n                onClick={onClickAdd}\r\n            >\r\n                Add Article</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { getNews } from '../../../../server/utils';\r\nimport UpdateItem from '../UpdateItem';\r\n\r\nexport default function UpdateArticle() {\r\n    const { contentData } = useContext(DataContext);\r\n    return (\r\n        <UpdateItem\r\n            getItems={getNews}\r\n            getItemsParams={contentData.newsData}\r\n            itemType=\"Articles\"\r\n            elementName=\"UpdateArticleStats\"\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { getArticleByid, getData, updateArticle } from '../../../../server/utils'\r\n\r\nexport default function UpdateArticleStats({ id }) {\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { name, subTitle, article, picture } = getArticleByid(id, contentData.newsData);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [subTitleValue, setSubTitleValue] = useState(subTitle);\r\n    const [articleValue, setArticleValue] = useState(article);\r\n    const [pictureValue, setPictureValue] = useState(picture || \"\");\r\n    const setInput = [setNameValue, setSubTitleValue, setArticleValue, setPictureValue];\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const onInputText = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setInput[index](value);\r\n\r\n    };\r\n\r\n    const onClickUpdate = async () => {\r\n        try {\r\n            setErrorMessage(\"\")\r\n            await updateArticle(id, {\r\n                name: nameValue,\r\n                subTitle: subTitleValue,\r\n                article: articleValue,\r\n                picture: pictureValue\r\n            }, userData.token);\r\n            const newsData = await getData('articles');\r\n            contentDataDispatch(setDataAction({ newsData }))\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Article Updated!\" }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.message)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-article\">\r\n            Title:<input value={nameValue} id=\"0\" onInput={onInputText} />\r\n            Sub-Title:<textarea value={subTitleValue} id=\"1\" onInput={onInputText} />\r\n            Article:<textarea value={articleValue} id=\"2\" onInput={onInputText} />\r\n            Picture:<input value={pictureValue} id=\"3\" onInput={onInputText} />\r\n            <button onClick={onClickUpdate} disabled={!nameValue || !subTitleValue || !articleValue}>Update</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function DeleteItems({ itemType, getItems, getItemsParams, onSubmitFunc }) {\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClickSubmit = () => {\r\n        const itemsToSubmit = Object.keys(isChecked);\r\n        onSubmitFunc(itemsToSubmit)\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={\"checkbox\"}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClickSubmit}>Delete</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteArticles, getArticleByid, getData, getNews } from '../../../../server/utils'\r\nimport DeleteItems from '../DeleteItems'\r\nexport default function DeleteArticle() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const onClickDelete = (items) => {\r\n        const articlesNames = items.map((item) => {\r\n            const { name } = getArticleByid(item, contentData.newsData);\r\n            return name;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: articlesNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (articles) => {\r\n        try {\r\n            await deleteArticles(userData.token, articles)\r\n\r\n            const newsData = await getData('articles');\r\n            contentDataDispatch(setDataAction({ newsData }))\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Articles deleted!\" }\r\n            }));\r\n        } catch (err) {\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: err.response?.data.message || err.message }\r\n            }));\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <DeleteItems\r\n            getItems={getNews}\r\n            getItemsParams={contentData.newsData}\r\n            itemType=\"Articles\"\r\n            onSubmitFunc={onClickDelete}\r\n\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addMovie, getData, getMovieByName } from '../../../../server/utils';\r\nimport AddPicture from '../AddPicture';\r\nexport default function AddMovie() {\r\n\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const [name, setName] = useState('');\r\n    const [critics, setCritics] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [picture, setPicture] = useState(null);\r\n    const [pictureValue, setPictureValue] = useState(null);\r\n    const setInput = [setName, setDescription, setCritics, setPictureValue];\r\n\r\n    const onInputText = (event) => {\r\n        setErrorMessage(\"\");\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setInput[index](value);\r\n    };\r\n\r\n    const onClickAddTimeSlots = async () => {\r\n        setErrorMessage(\"\");\r\n        if (getMovieByName(name, contentData.moviesData)) {\r\n            setErrorMessage(\"Movie already exists!\");\r\n        } else {\r\n            try {\r\n                const id = await addMovie({\r\n                    name, description,\r\n                    comments: [],\r\n                    ratings: {\r\n                        critics,\r\n                        audience: NaN,\r\n                        numOfRatings: 0\r\n                    },\r\n                    picture\r\n\r\n                }, userData.token);\r\n                const moviesData = await getData('movies');\r\n                contentDataDispatch(setDataAction({ moviesData }));\r\n                modalDataDispatch(goForwardAction({\r\n                    elementName: \"AddMovieTimeSlots\",\r\n                    props: { id }\r\n                }))\r\n            } catch (err) {\r\n                if (err.response) setErrorMessage(err.response.data.message);\r\n                else setErrorMessage(err.message);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"add-movie\">\r\n            Name:<input id=\"0\" onInput={onInputText} />\r\n            Description:<input id=\"1\" onInput={onInputText} />\r\n            Critics: <input type=\"number\" id=\"2\" onInput={onInputText} />\r\n            <AddPicture\r\n                picture={picture}\r\n                setPicture={setPicture}\r\n                onInputText={onInputText}\r\n                pictureValue={pictureValue}\r\n                setPictureValue={setPictureValue}\r\n            />\r\n            <button\r\n                disabled={!name || !critics || !description || critics <= 0 || critics > 1}\r\n                onClick={onClickAddTimeSlots}\r\n            >Add Time Slots</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteMovies, getData, getMovieByID, getMovies } from '../../../../server/utils'\r\nimport AdjustItems from '../AdjustItems';\r\n\r\nexport default function DeleteMovies() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const onClickDelete = (items) => {\r\n        const moviesNames = items.map((item) => {\r\n            const { name } = getMovieByID(item, contentData.moviesData);\r\n            return name;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: moviesNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (movies) => {\r\n        await deleteMovies(movies, userData.token);\r\n        const moviesData = await getData('movies');\r\n        //const availabilityData = await getData('timeslots');\r\n        contentDataDispatch(setDataAction({ moviesData, }));//availabilityData\r\n        modalDataDispatch(clearModalAction());\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ApprovalMessage\",\r\n            props: { message: \"Movies Deleted\" }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h3>Pick a movie:</h3>\r\n            <AdjustItems\r\n                itemType={\"Movies\"}\r\n                getItems={getMovies}\r\n                getItemsParams={contentData.moviesData}\r\n                onSubmitFunc={onClickDelete}\r\n                adjustType={\"Delete\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getTheaters } from '../../../../server/utils'\r\nimport AdjustItems from '../AdjustItems';\r\nexport default function AddMovieTimeSlots({ id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const onSubmitAdd = (theaters) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"AddTimeSlots\",\r\n            props: {\r\n                id,\r\n                theaters\r\n            }\r\n        }))\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Pick a theater:</h3>\r\n            <AdjustItems\r\n                itemType={\"Theaters\"}\r\n                getItems={getTheaters}\r\n                getItemsParams={contentData.theatersData}\r\n                onSubmitFunc={onSubmitAdd}\r\n                adjustType={\"Add\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { changePassword } from '../../../../server/utils';\r\n\r\nexport default function ChangePassword() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [currentPassword, setCurrentPassword] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [inputClasses, setInputClasses] = useState([\"\", \"\"]);\r\n    const [invalidMessages, setInvalidMessages] = useState([\"\", \"\"]);\r\n    const [validInputs, setValidInputs] = useState([false, false]);\r\n    const isFormInvalid = () => {\r\n        return currentPassword === \"\" || validInputs.includes(false);\r\n    };\r\n\r\n    const setStateOfInputs = (message, inputClass, isvalidInput, inputindex) => {\r\n        const newInavlidMessages = [...invalidMessages];\r\n        const newInputClasses = [...inputClasses];\r\n        const newValidInputs = [...validInputs];\r\n        newInavlidMessages[inputindex] = message;\r\n        setInvalidMessages(newInavlidMessages);\r\n        newInputClasses[inputindex] = inputClass;\r\n        setInputClasses(newInputClasses);\r\n        newValidInputs[inputindex] = isvalidInput;\r\n        setValidInputs(newValidInputs);\r\n    };\r\n\r\n    const validateInput = (\r\n        value,\r\n        inputindex,\r\n        isValueValidFunc,\r\n        setValue,\r\n        missingValueMessage,\r\n        invalidValueMessage\r\n    ) => {\r\n\r\n\r\n        if (value.length > 0) {\r\n            if (isValueValidFunc(value)) {\r\n                setStateOfInputs(\"\", \"\", true, inputindex);\r\n                setValue(value);\r\n            } else {\r\n                setStateOfInputs(invalidValueMessage, \"input-invalid\", false, inputindex);\r\n            }\r\n        } else {\r\n            setStateOfInputs(missingValueMessage, \"input-invalid\", false, inputindex);\r\n        }\r\n    };\r\n\r\n    const onBlurPassword = (event) => {\r\n        const newPassword = event.target.value.trim();\r\n        const isPasswordValid = (value) => {\r\n            const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\r\n            return passwordRegex.test(value);\r\n        };\r\n        validateInput(\r\n            newPassword,\r\n            0,\r\n            isPasswordValid,\r\n            setNewPassword,\r\n            \"You must enter a new password\",\r\n            \"Password must contain capital and regular characters, numbers and must have at least 8 characters\"\r\n        );\r\n    };\r\n\r\n    const onBlurPasswordRepeated = (event) => {\r\n        const passwordRepeated = event.target.value.trim();\r\n        const isPasswordRepeatedValid = () => {\r\n            return newPassword === passwordRepeated;\r\n        };\r\n        validateInput(\r\n            passwordRepeated,\r\n            1,\r\n            isPasswordRepeatedValid,\r\n            () => { },\r\n            \"You must enter again your new password\",\r\n            \"The two passwords not identical\"\r\n        );\r\n    };\r\n\r\n    const onInputCurrentPassword = (event) => {\r\n        const value = event.target.value.trim();\r\n        setCurrentPassword(value);\r\n    }\r\n\r\n    const onClickChange = async () => {\r\n        setErrorMessage(\"\");\r\n        try {\r\n            await changePassword(userData.token, { currentPassword, newPassword }, true);\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Password successfully updated!\" }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || \"Server unavailable\");\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"add-article\">\r\n            Enter Current Password: <input type=\"password\" id={\"0\"} onInput={onInputCurrentPassword} />\r\n            Enter New Password: <input type=\"password\" id={\"1\"} onBlur={onBlurPassword} />\r\n            {invalidMessages[0] !== \"\" && <div className=\"invalid-message\">{invalidMessages[0]}</div>}\r\n            Re-Enter New Password: <input type=\"password\" id={\"2\"} onBlur={onBlurPasswordRepeated} />\r\n            {invalidMessages[1] !== \"\" && <div className=\"invalid-message\">{invalidMessages[1]}</div>}\r\n            <button onClick={onClickChange} disabled={isFormInvalid()}>Change Password</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport SubscribeForm from '../../../login/SubscribeForm';\r\nexport default function AddAccount() {\r\n    return (\r\n        <SubscribeForm\r\n            partOflogin={false}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteAdmins, getAdminsData } from '../../../../server/utils';\r\nimport AdjustItems from '../AdjustItems'\r\nexport default function DeleteAccount() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n\r\n    const getAdminById = (adminID) => {\r\n        return contentData.adminsData.filter(({ id }) => (id === adminID))[0];\r\n    }\r\n    const onClickDelete = (items) => {\r\n        const adminNames = items.map((item) => {\r\n            const { name } = getAdminById(item);\r\n            return name;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: adminNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (idArray) => {\r\n        await deleteAdmins(idArray, userData.token);\r\n        const admins = await getAdminsData(userData.token);\r\n        contentDataDispatch(setDataAction(admins));\r\n        modalDataDispatch(clearModalAction());\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ApprovalMessage\",\r\n            props: { message: \"Accounts successfully deleted!\" }\r\n        }));\r\n    };\r\n\r\n    const getAllAdminsExceptCurrent = () => {\r\n        return contentData.adminsData.filter(({ name }) => (name !== userData.activeUser));\r\n    }\r\n    return (\r\n        <AdjustItems\r\n            itemType={\"Admin\"}\r\n            getItems={getAllAdminsExceptCurrent}\r\n            getItemsParams={undefined}\r\n            onSubmitFunc={onClickDelete}\r\n            adjustType=\"Delete\"\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { nanoid } from 'nanoid';\r\nimport TimeSlot from '../../../theaters/TimeSlot';\r\nimport AddHour from '../theaters/AddHour';\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\nimport { setHoursAction } from '../../../../actions/SlotHoursActions';\r\n\r\nexport default function UpdateTimeSlot({ theaterID, name, seats, setTimeSlots, index }) {\r\n    const { hoursData, hoursDataDispatch } = useContext(SlotHoursContext)\r\n    const week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n        \"Friday\", \"Saturday\", \"Sunday\",];\r\n    const getDays = (displaySlots) => {\r\n        const result = [];\r\n        for (let slot of displaySlots[0])\r\n            result.push(parseInt(Object.keys(slot)[0]) - 1)\r\n        return result;\r\n    }\r\n\r\n    const slots = [[]];\r\n    const [displaySlots, setDisplaySlots] = useState([...slots]);\r\n    const [existingDays, setExistingDays] = useState(getDays(displaySlots));\r\n    const [addDay, setAddDay] = useState(false);\r\n    const [day, setDay] = useState('Pick A Day');\r\n\r\n    const onSelectDay = (event) => {\r\n        setDay(event.target.value);\r\n    };\r\n\r\n    const onClickaddDay = () => {\r\n        setAddDay(existingDays.length < 7)\r\n    };\r\n\r\n\r\n    const getHours = (hours) => {\r\n        const result = [];\r\n        for (let hour of hours) {\r\n            const slot = {}\r\n            const hh = parseInt(hour.children[0].value);\r\n            const mm = hour.children[1].value;\r\n            slot.startTime = `${hh}:${mm}`;\r\n            slot.endTime = `${hh + 3}:${mm}`;\r\n            slot.seats = createSeats(seats);\r\n            result.push(slot);\r\n        }\r\n        result.sort((a, b) => {\r\n            const h1 = a.startTime.split(':');\r\n            const h2 = b.startTime.split(':');\r\n            return (parseInt(h1[0]) > parseInt(h2[0]))\r\n        })\r\n        return result;\r\n    };\r\n\r\n    const createSeats = (seatsNum) => {\r\n        const seats = [];\r\n        for (let i = 0; i < seatsNum; i++)seats.push(true);\r\n        return seats;\r\n    };\r\n\r\n    const onClickSubmitDay = (event) => {\r\n        const day = event.target.parentElement.firstChild.value;\r\n        const keyDay = week.indexOf(day) + 1;\r\n        const hoursContainerElement = event.target.parentElement.children[1];\r\n        const showHours = getHours(hoursContainerElement.children);\r\n        const slot = {};\r\n        slot[keyDay] = showHours;\r\n        const newSlots = [...displaySlots[0]];\r\n        newSlots.push(slot);\r\n        newSlots.sort((a, b) => (Object.keys(a)[0] > Object.keys(b)[0]));\r\n        setDisplaySlots([newSlots]);\r\n        hoursDataDispatch(setHoursAction([]));\r\n        setExistingDays(getDays([newSlots]));\r\n        setAddDay(false);\r\n        setTimeSlots(index, { theater: theaterID, slots: newSlots, hasOpenSeats: true })\r\n    };\r\n\r\n\r\n    const removeHour = (event, h) => {\r\n        if (!!event.target.children[0]?.children[0]) {\r\n            const e = (h.filter((hour) => (hour.props.id === event.target.id)))[0];\r\n            const index = h.indexOf(e);\r\n            const newHours = [].concat(h.slice(0, index), h.slice(index + 1) || []);\r\n            console.log(newHours)\r\n            hoursDataDispatch(setHoursAction(newHours));\r\n        }\r\n\r\n        event.stopPropagation();\r\n    };\r\n\r\n    const onClickAddHour = () => {\r\n        hoursDataDispatch(setHoursAction([].concat(hoursData.hours, <AddHour key={nanoid()} removeHour={removeHour} id={nanoid()} />)));\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-time-slot__container\">\r\n            <h3>{name}</h3>\r\n            <div className=\"update-time-slot__timeslots\">\r\n                {\r\n                    displaySlots.length > 0 && displaySlots[0].map((slot) => {\r\n\r\n                        return (\r\n                            <TimeSlot key={nanoid()} slot={slot} onClickFunc={() => { }} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {!!addDay && <div className=\"add-day__container\">\r\n                <select onChange={onSelectDay} value={day}>\r\n                    <option>{'Pick A Day'}</option>\r\n                    {week.filter((week, i) => (!existingDays.includes(i))).map((day) => (<option key={nanoid()}>{day}</option>))}\r\n                </select>\r\n                <div className=\"add-time-slot\">\r\n                    {hoursData.hours.length > 0 && hoursData.hours.map((hour) => (hour))}\r\n                </div>\r\n\r\n                <div className=\"add-time-slot__add-hour\" onClick={onClickAddHour}>+</div>\r\n\r\n                <button className=\"add-day__submit\" onClick={onClickSubmitDay} disabled={!hoursData.hours.length > 0 || day === 'Pick A Day'}>Add</button>\r\n            </div>}\r\n            <button className=\"add-day__button\" onClick={onClickaddDay} disabled={addDay || existingDays.length > 6}>Add Day</button>\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext, useState } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport SlotHoursContextProvider from '../../../../contexts/SlotHoursContext'\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addAvailability, getData, getTheaterByID } from '../../../../server/utils';\r\nimport AddTimeSlot from './AddTimeSlot';\r\n\r\nexport default function AddTimeSlots({ id, theaters }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n\r\n    const setTheatersSlots = (numOfTheaters) => {\r\n        const result = []\r\n        for (let i = 0; i < numOfTheaters; i++) result.push(undefined);\r\n        return result\r\n    };\r\n\r\n    const [isDisabled, setIsDisabled] = useState(true);\r\n    const isValidTimeSlot = (availability) => {\r\n        let valid = true;\r\n        for (let slot of availability) {\r\n            if (!slot) valid = false;\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    const [availability, setAvailability] = useState(setTheatersSlots(theaters.length))\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const setSlot = (index, slot) => {\r\n        const newAvailability = availability;\r\n        newAvailability[index] = slot;\r\n        setAvailability(newAvailability);\r\n        setIsDisabled(!(isValidTimeSlot(newAvailability)))\r\n    };\r\n\r\n    const onClickAdd = async () => {\r\n        setErrorMessage(\"\");\r\n        try {\r\n            await addAvailability(id, {\r\n                timeSlot: availability\r\n            }, userData.token);\r\n            const availabilityData = await getData('timeslots');\r\n            const theatersData = await getData('theaters');\r\n            contentDataDispatch(setDataAction({ availabilityData, theatersData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Timeslot added!\" }\r\n            }));\r\n        } catch (err) {\r\n            if (err.response) setErrorMessage(err.response.data.message);\r\n            else setErrorMessage(err.message);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {theaters.length > 0 && theaters.map((theaterId, i) => {\r\n                const { name, location, seats } = getTheaterByID(theaterId, contentData.theatersData)\r\n                return (\r\n                    <SlotHoursContextProvider key={nanoid()}>\r\n                        <AddTimeSlot\r\n                            name={`${name} - ${location}`}\r\n                            seats={seats}\r\n                            index={i}\r\n                            setTimeSlots={setSlot}\r\n                            theaterID={theaterId}\r\n                        />\r\n                    </SlotHoursContextProvider>\r\n                )\r\n            })}\r\n            <button\r\n                disabled={isDisabled}\r\n                onClick={onClickAdd}\r\n            >Add Time Slots</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { getMovieByID, updateMovie } from '../../../../server/utils';\r\n\r\nexport default function UpdateMovieStats({ id }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { name, description } = getMovieByID(id, contentData.moviesData);\r\n    const [newDescription, setNewDescription] = useState(description);\r\n    const onClickUpdate = () => {\r\n        updateMovie(id, { description: newDescription })\r\n    };\r\n\r\n    const onInputText = (event) => {\r\n        const value = event.target.value;\r\n        setNewDescription(value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-article\">\r\n            <h3>{name}</h3>\r\n            Description:<textarea value={newDescription} onInput={onInputText} />\r\n            <button\r\n                disabled={newDescription === \"\"}\r\n                onClick={onClickUpdate}\r\n            >Update</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nexport default function ApprovalMessage({ message }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    setTimeout(() => {\r\n        modalDataDispatch(clearModalAction());\r\n    }, 1500)\r\n    return (\r\n        <div className=\"approval-message\">\r\n            <h1>{message}</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { clearModalAction, goBackAction } from '../../actions/ModalActions';\r\nimport ShowMovieDetails from '../theaters/ShowMovieDetails';\r\nimport Seats from '../theaters/Seats';\r\nimport Reservation from '../theaters/Reservation';\r\nimport Default from '../main/Default';\r\nimport AddComment from '../movies/AddComment';\r\nimport Movie from '../movies/Movie';\r\nimport LoginPage from '../login/LoginPage';\r\nimport Menu from '../account/Menu';\r\nimport UpdateMovie from '../account/admin/movies/UpdateMovie';\r\nimport UpdateTheater from '../account/admin/theaters/UpdateTheater';\r\nimport UpdateItem from '../account/admin/UpdateItem';\r\nimport UpdateTheaterStats from '../account/admin/theaters/UpdateTheaterStats';\r\nimport UpdateAvailableTimeSlots from '../account/admin/theaters/UpdateAvailableTimeSlots';\r\nimport AddLoction from '../account/admin/theaters/AddLoction';\r\nimport AddTheater from '../account/admin/theaters/AddTheater';\r\nimport AddNewTheaterStats from '../account/admin/theaters/AddNewTheaterStats';\r\nimport DeleteLocation from '../account/admin/theaters/DeleteLocation';\r\nimport ConfirmDelete from '../account/admin/ConfirmDelete';\r\nimport DeleteTheater from '../account/admin/theaters/DeleteTheater';\r\nimport DeleteTheaters from '../account/admin/theaters/DeleteTheaters';\r\nimport AddArticle from '../account/admin/news/AddArticle';\r\nimport UpdateArticle from '../account/admin/news/UpdateArticle';\r\nimport UpdateArticleStats from '../account/admin/news/UpdateArticleStats';\r\nimport DeleteArticle from '../account/admin/news/DeleteArticle';\r\nimport AddMovie from '../account/admin/movies/AddMovie';\r\nimport DeleteMovies from '../account/admin/movies/DeleteMovies';\r\nimport AddMovieTimeSlots from '../account/admin/movies/AddMovieTimeSlots';\r\nimport ChangePassword from '../account/admin/account/ChangePassword';\r\nimport AddAccount from '../account/admin/account/AddAccount';\r\nimport DeleteAccount from '../account/admin/account/DeleteAccount';\r\nimport AdjustItems from '../account/admin/AdjustItems';\r\nimport AddTimeSlots from '../account/admin/movies/AddTimeSlots';\r\nimport UpdateMovieStats from '../account/admin/movies/UpdateMovieStats';\r\nimport ApprovalMessage from './ApprovalMessage';\r\nexport default function Modal() {\r\n    const { modalData, modalDataDispatch } = useContext(ModalContext);\r\n    const components = {\r\n        Default, LoginPage, ApprovalMessage,\r\n        ShowMovieDetails, Seats, Reservation,\r\n        AddComment, Movie,\r\n        Menu, UpdateMovie, AddMovie, DeleteMovies, AddMovieTimeSlots, AddTimeSlots,\r\n        UpdateMovieStats,\r\n        ConfirmDelete, UpdateItem, AdjustItems,\r\n        UpdateTheater, UpdateTheaterStats, UpdateAvailableTimeSlots, AddLoction,\r\n        AddTheater, AddNewTheaterStats, DeleteLocation, DeleteTheater, DeleteTheaters,\r\n\r\n\r\n        AddArticle, UpdateArticle, UpdateArticleStats, DeleteArticle,\r\n\r\n        ChangePassword, AddAccount, DeleteAccount\r\n    };\r\n    const [children, setChildren] = useState({ elementName: 'Default', props: {} });\r\n    useEffect(() => {\r\n        setChildren(modalData.children);\r\n\r\n    }, [modalData.children])\r\n    const onClickCloseModal = () => {\r\n        modalDataDispatch(clearModalAction());\r\n    };\r\n    const onClickGoBack = (event) => {\r\n        modalDataDispatch(goBackAction());\r\n        event.stopPropagation();\r\n    };\r\n    return (\r\n        <div className=\"modal__container\">\r\n            <div className=\"modal\">\r\n                <div className=\"modal__header\">\r\n                    {modalData.back?.length > 0 && <div className=\"modal__back\" onClick={onClickGoBack}>Back</div>}\r\n                    <div className=\"close-modal__container\" onClick={onClickCloseModal}>\r\n                        <div className=\"close-modal\" ></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"modal__content\">{React.createElement(components[children.elementName], children.props)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\n\r\nexport default function Setting({ section, sections }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const sectionLower = section.toLowerCase();\r\n    const onClickSetting = () => {\r\n        const children = {\r\n            elementName: \"Menu\",\r\n            props: { sections }\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    };\r\n    return (\r\n        <div className=\"setting__container\">\r\n            <div className=\"icon_container\">\r\n                <div className=\"setting\" onClick={onClickSetting}>\r\n                    <img src={\"./icons/account/settings__\" + sectionLower + \".png\"} alt=\"icon\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"setting__title\">{\"Manage \" + section}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Setting from './Setting';\r\nimport Modal from '../../main/Modal';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\nexport default function AdminAccount() {\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n    return (\r\n        <div className=\"admin-account__container\">\r\n            <Setting\r\n                section=\"Movies\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Movie\",\r\n                            elementName: \"AddMovie\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Movie\",\r\n                            elementName: \"UpdateMovie\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Movie\",\r\n                            elementName: \"DeleteMovies\",\r\n                            props: {}\r\n                        },\r\n                    ]\r\n                }\r\n            />\r\n            <Setting\r\n                section=\"Theaters\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Theater\",\r\n                            elementName: \"AddTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Theater\",\r\n                            elementName: \"UpdateTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Theater\",\r\n                            elementName: \"DeleteTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Add New Location\",\r\n                            elementName: \"AddLoction\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Location\",\r\n                            elementName: \"DeleteLocation\",\r\n                            props: {}\r\n                        },\r\n                    ]} />\r\n            <Setting\r\n                section=\"News\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Article\",\r\n                            elementName: \"AddArticle\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Article\",\r\n                            elementName: \"UpdateArticle\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Article\",\r\n                            elementName: \"DeleteArticle\",\r\n                            props: {}\r\n                        },\r\n                    ]} />\r\n            <Setting\r\n                section=\"Account\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Change Password\",\r\n                            elementName: \"ChangePassword\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Add New Admin Account\",\r\n                            elementName: \"AddAccount\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Admin Account\",\r\n                            elementName: \"DeleteAccount\",\r\n                            props: {}\r\n                        }\r\n                    ]} />\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function UserAccount() {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport Modal from '../main/Modal';\r\nimport AdminAccount from './admin/AdminAccount';\r\nimport UserAccount from './user/UserAccount';\r\n\r\n\r\nexport default function Account() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalData, modalDataDispatch } = useContext(ModalContext);\r\n    useEffect(() => {\r\n        if (!userData.loggedIn)\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"LoginPage\",\r\n                props: {}\r\n            }));\r\n    }, [userData.loggedIn, modalDataDispatch])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"account__main\">\r\n            {userData.loggedIn ?\r\n                <div>\r\n                    {userData.isAdmin ?\r\n                        <AdminAccount /> :\r\n                        <UserAccount />}\r\n                </div> :\r\n                modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function FooterIcon({ name }) {\r\n    const nameLower = name.toLowerCase().trim();\r\n    return (\r\n        <NavLink to={`/${nameLower}`} className=\"nav\" activeClassName=\"nav_active\">\r\n            <img className=\"icon\" src={`./icons/footer/${name}.png`} alt=\"icon\" />\r\n            <img className=\"icon__active\" src={`./icons/footer/${name}__active.png`} alt=\"icon\" />\r\n            <div>{name}</div>\r\n        </NavLink>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport FooterIcon from './FooterIcon';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <div className=\"footer__container\">\r\n            <div className=\"footer\">\r\n                <FooterIcon name={\"Movies\"} />\r\n                <FooterIcon name={\"Theaters\"} />\r\n                <FooterIcon name={\"News\"} />\r\n                <FooterIcon name={\"Account\"} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React from 'react';\r\n\r\nexport default function ItemQueryContainer({ itemType, items, itemInput, onClickFunc }) {\r\n    const filterdItems = itemInput === \"\" ? [] : items.filter(({ name }) => (name.trim().toLowerCase().includes(itemInput)))\r\n    return (\r\n        <div className=\"item-serach__section\">\r\n            <h3>{itemType}</h3>\r\n            <div className=\"item-serach__items\">\r\n                {filterdItems.length > 0 ?\r\n                    filterdItems.map(({ name, id, picture }) => (\r\n                        <div key={nanoid()} className=\"item-search__item\" onClick={onClickFunc} id={id}>\r\n                            <img className=\"item-search__image\" src={picture} alt=\"serach-picture\" />\r\n                            <div>{name}</div>\r\n                        </div>\r\n                    ))\r\n                    : \"No \" + itemType + \" match the search\"\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { getMovieByID } from '../../server/utils';\r\nimport ItemQueryContainer from './ItemQueryContainer';\r\n\r\nexport default function ItemSearch({ itemInput, setOnInput, setIsQuery, }) {\r\n    const history = useHistory();\r\n    const { contentData } = useContext(DataContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickMovie = (event) => {\r\n        const target = event.target\r\n        const element = target.children[0] ? target : target.parentElement;\r\n        const { description, comments, id } = getMovieByID(element.id, contentData.moviesData)\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"Movie\",\r\n            props: { description, comments, id }\r\n        }));\r\n    };\r\n    const onClickNews = (event) => {\r\n        const target = event.target;\r\n        const element = target.children[0] ? target : target.parentElement;\r\n        setOnInput(false);\r\n        setIsQuery(false);\r\n        history.push(`/news/article/${element.id}`);\r\n    };\r\n    return (\r\n        <div className=\"item-serach__container\">\r\n            <ItemQueryContainer\r\n                itemType={\"Movies\"}\r\n                items={contentData.moviesData}\r\n                itemInput={itemInput}\r\n                onClickFunc={onClickMovie}\r\n            />\r\n\r\n            <ItemQueryContainer\r\n                itemType={\"News\"}\r\n                items={contentData.newsData}\r\n                itemInput={itemInput}\r\n                onClickFunc={onClickNews}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function LoaderContainer() {\r\n    return (\r\n        <div className=\"loader-container\">\r\n            <div className=\"loader\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport ItemSearch from './ItemSearch';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { logoutAction, setWindowAction } from '../../actions/UserActions';\r\nimport { logout } from '../../server/login';\r\nimport { getAllData } from '../../server/utils';\r\nimport LoaderContainer from './LoaderContainer';\r\nimport { setDataAction } from '../../actions/DataActions';\r\nexport default function Header() {\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [componentOn, setComponentOn] = useState(false);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [isQuery, setIsQuery] = useState(false);\r\n    const [onInput, setOnInput] = useState(false);\r\n    const [itemInput, setItemInput] = useState('')\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setComponentOn(true);\r\n        userDataDispatch(setWindowAction(window.innerWidth));\r\n        if (componentOn) getAllData().then((res) => {\r\n            contentDataDispatch(setDataAction(res))\r\n            setIsLoaded(true)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n        return () => {\r\n            setComponentOn(false);\r\n        }\r\n    }, [userDataDispatch, contentDataDispatch, componentOn]);\r\n\r\n    const onInputQuery = (event) => {\r\n        const input = event.target.value.trim().toLowerCase();\r\n        setItemInput(input);\r\n        setIsQuery(input !== \"\" ? true : false)\r\n    };\r\n\r\n    const onClickCancel = (event) => {\r\n        event.target.previousSibling.value = \"\";\r\n        setIsQuery(false);\r\n    };\r\n\r\n    const onClickLogo = () => {\r\n        history.push('/movies');\r\n    };\r\n\r\n    const onFocusInput = () => {\r\n        setOnInput(true);\r\n    };\r\n\r\n    const onClickCancelQuery = (event) => {\r\n        setOnInput(false);\r\n        setIsQuery(false);\r\n        const queryInput = event.target.previousSibling.children[0].children[1];\r\n        queryInput.value = \"\";\r\n    };\r\n\r\n    const onClickLogout = async () => {\r\n        try {\r\n            await logout(userData.token, userData.isAdmin);\r\n            userDataDispatch(logoutAction());\r\n            history.push('/movies');\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"header__container\">\r\n            <div className=\"header\">\r\n                <img className=\"header__logo\" src=\"./icons/header/logo.png\" alt=\"logo\" onClick={onClickLogo} />\r\n                <div className=\"header__search_bar\">\r\n                    <div className=\"bar\">\r\n                        <img className=\"find-icon\" src=\"./icons/header/find_icon.png\" alt=\"find\" />\r\n                        <input placeholder=\"Movies and News\"\r\n                            onInput={onInputQuery}\r\n                            onFocus={onFocusInput}\r\n                        />\r\n                        {isQuery && <div className=\"cancel-query\" onClick={onClickCancel} ></div>}\r\n                    </div>\r\n                </div>\r\n                {onInput && <div className=\"cancel-item-serach\" onClick={onClickCancelQuery}>Cancel</div>}\r\n                {!onInput && <div className=\"nav__bar\">\r\n                    <div className=\"nav__link\"><NavLink to=\"/movies\" className=\"a_nav\" activeClassName=\"a_nav__active\">Movies</NavLink></div>\r\n                    <div className=\"nav__link\"><NavLink to=\"/theaters\" className=\"a_nav\" activeClassName=\"a_nav__active\">Theaters</NavLink></div>\r\n                    <div className=\"nav__link\"><NavLink to=\"/news\" className=\"a_nav\" activeClassName=\"a_nav__active\">News</NavLink></div>\r\n                    <NavLink className=\"account_logo\" to=\"/account\">                    <img src=\"./icons/header/account_icon__header.png\" alt=\"account_logo\" />\r\n                    </NavLink>\r\n                </div>}\r\n            </div>\r\n            {userData.loggedIn && <div className=\"logout\" onClick={onClickLogout}>Logout</div>}\r\n            {onInput && <ItemSearch itemInput={itemInput} setOnInput={setOnInput} setIsQuery={setIsQuery} />}\r\n            {!isLoaded && <LoaderContainer />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\n\r\nexport default function Ratings({ criticsRatings, audienceRatings, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const getTomatoIcon = (rating) => {\r\n        if (rating >= 0.9) return 'med-tomato';\r\n        if (rating >= 0.6) return 'good-tomato';\r\n        else return 'rotten-tomato';\r\n    };\r\n\r\n    const onClickAddComment = () => {\r\n        modalDataDispatch(goForwardAction(\r\n            { elementName: 'AddComment', props: { id } }\r\n        ));\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"movie-ratings__container\">\r\n            <div className=\"movie-ratings__data\">\r\n                <div className=\"movie-ratings__critics\">\r\n                    <div className=\"movie-ratings__icon\">\r\n                        <img src={\"./icons/ratings/\" + getTomatoIcon(criticsRatings) + \".png\"} alt=\"audience-icon\" />\r\n                    </div>\r\n                    <div className=\"movie-ratings__legend\">{Math.round(criticsRatings * 100)}%</div>\r\n                </div>\r\n                <div className=\"movie-ratings__audience\">\r\n                    <div className=\"movie-ratings__icon\">\r\n                        <img src={\"./icons/ratings/\" + (audienceRatings > 0.5 ? \"good\" : \"bad\") + \"-popcorn.png\"} alt=\"audience-icon\" />\r\n                    </div>\r\n                    <div className=\"movie-ratings__legend\">{Math.round(audienceRatings * 100)}%</div>\r\n                </div>\r\n            </div>\r\n            {(userData.loggedIn && !userData.isAdmin) &&\r\n                <div className=\"movie-ratings__buttons\">\r\n                    <button onClick={onClickAddComment} className=\"add-comment-button__text\">Add Comment</button>\r\n                    <button onClick={onClickAddComment} className=\"add-comment-button__plus\">+</button>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Ratings from './Ratings';\r\n\r\n\r\n\r\nexport default function MovieItem({ id, description, name, ratings, comments, picture }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickMovie = () => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"Movie\",\r\n            props: { description, comments, id }\r\n        }));\r\n    };\r\n    return (\r\n        <div className=\"item\">\r\n            <div className=\"poster__container\" onClick={onClickMovie}>\r\n                <img className=\"poster\" src={picture || \"./movies-images/movies-icon.png\"} alt=\"movie-poster\" />\r\n            </div>\r\n            <Ratings\r\n                criticsRatings={ratings.critics}\r\n                audienceRatings={ratings.audience}\r\n                id={id}\r\n            />\r\n            <div className=\"movie-name\" onClick={onClickMovie}>{name}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function ScrollRight({ scrollBy }) {\r\n    const onClickScrollRight = (event) => {\r\n        const element = event.target.previousSibling ? event.target : event.target.parentElement;\r\n        const container = element.previousSibling;\r\n        container.scrollBy({ top: 0, left: scrollBy, behavior: 'smooth' });\r\n    };\r\n    return (\r\n        <div className=\"scroll-button\" onClick={onClickScrollRight}>\r\n            <span className=\"scroll-button__right\" />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function ScrollRight({ scrollBy }) {\r\n\r\n    const onClickScrollLeft = (event) => {\r\n        const element = event.target.nextSibling ? event.target : event.target.parentElement;\r\n        const container = element.nextSibling;\r\n        container.scrollBy({ top: 0, left: -scrollBy, behavior: 'smooth' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"scroll-button\" onClick={onClickScrollLeft}>\r\n            <span className=\"scroll-button__left\" />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport MovieItem from './MovieItem'\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport ScrollRight from '../main/ScrollRight';\r\nimport ScrollLeft from '../main/ScrollLeft';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../contexts/DataContext';\r\n\r\nexport default function MoviesSection({ section, getMoviesFunc }) {\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData } = useContext(DataContext);\r\n    const scrollBy = (userData.windowWidth) * 24 / 100;\r\n    const displayMovies = getMoviesFunc(contentData.moviesData, contentData.availabilityData);\r\n    return (\r\n        <div className=\"now-playing\">\r\n            <h3>{section}</h3>\r\n            <div className=\"container__box\">\r\n                <ScrollLeft scrollBy={scrollBy} />\r\n                <div className=\"item__container\">\r\n\r\n                    {displayMovies.length > 0 ? displayMovies.map(({ id, description, name, ratings, comments, picture }, i) => (\r\n\r\n                        <MovieItem key={nanoid()}\r\n                            id={id}\r\n                            description={description}\r\n                            name={name}\r\n                            ratings={ratings}\r\n                            comments={comments}\r\n                            picture={picture}\r\n\r\n                        />\r\n                    )) :\r\n                        \"No Available Movies \"}\r\n\r\n\r\n                </div>\r\n                <ScrollRight scrollBy={scrollBy} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MoviesSection from './MoviesSection';\r\nimport { getUnavailableMovies } from '../../server/utils';\r\n\r\n\r\nexport default function ComingSoon() {\r\n    return (\r\n        <MoviesSection\r\n            section={\"Coming Soon\"}\r\n            getMoviesFunc={getUnavailableMovies}\r\n        />\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MoviesSection from './MoviesSection';\r\nimport { getAvailableMovies } from '../../server/utils';\r\n\r\n\r\nexport default function NowPlaying() {\r\n    return (\r\n        <MoviesSection\r\n            section={\"Now Playing\"}\r\n            getMoviesFunc={getAvailableMovies}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport ComingSoon from './ComingSoon'\r\nimport NowPlaying from './NowPlaying'\r\nimport Modal from '../main/Modal';\r\n\r\n\r\n\r\nexport default function Movies() {\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"movies__container\">\r\n            <NowPlaying />\r\n            <ComingSoon />\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nexport default function News() {\r\n\r\n    const { contentData } = useContext(DataContext);\r\n    const history = useHistory();\r\n    const news = contentData.newsData;\r\n    const onClickArticle = (event) => {\r\n        const element = event.target.children[0] ?\r\n            event.target :\r\n            event.target.parentElement;\r\n        const id = element.id;\r\n        history.push(`/news/article/${id}`);\r\n    }\r\n    return (\r\n        <div className=\"news__main\">\r\n            <div className=\"news__container\">\r\n                {news.map(({ name, picture, id }) => (\r\n                    <div key={id} id={id} className=\"article\" onClick={onClickArticle}>\r\n                        <img src={picture || './news-images/non-picture.jpg'} alt=\"article_pitcure\" />\r\n                        <h1>{name}</h1>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\n\r\nexport default function MovieInTheater({ name, slots, id, picture, description, movieID }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n\r\n    const getSlots = (slots) => {\r\n        let result = 'Days: ';\r\n        for (let slot of slots[0]) {\r\n            const key = Object.keys(slot);\r\n            result += `${key[0]}, `;\r\n        }\r\n        result.substring(0, result.length - 2)\r\n        return result.substring(0, result.length - 2);\r\n    };\r\n\r\n    const onClickMovie = () => {\r\n        const children = {\r\n            elementName: 'ShowMovieDetails',\r\n            props: {\r\n                name,\r\n                slots,\r\n                description,\r\n                movieID,\r\n                theaterID: id\r\n            }\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    }\r\n    return (\r\n        <div className=\"theater__movie\" onClick={onClickMovie}>\r\n            <h4>{name}</h4>\r\n            <div className=\"poster__container\">\r\n                <img className=\"poster\" src={picture || \"./movies-images/movies-icon.png\"} alt=\"movie-poster\" />\r\n            </div>\r\n            {slots.length > 0 &&\r\n                <div className=\"time-slot\">\r\n                    {getSlots(slots)}\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport MovieInTheater from './MovieInTheater';\r\nimport { getMovieAvailability } from '../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport ScrollRight from '../main/ScrollRight';\r\nimport ScrollLeft from '../main/ScrollLeft';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nexport default function Theater({ id, name, movies }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const scrollBy = (userData.windowWidth) * 24 / 100;\r\n\r\n    const getMovieSpecs = (movieID) => {\r\n        return (contentData.moviesData.filter(({ id }) => (id === movieID)))[0];\r\n    };\r\n\r\n\r\n\r\n\r\n    const getMovies = (movies) => {\r\n        const result = [];\r\n        for (let movieID of movies) {\r\n            const movie = { id: movieID };\r\n            const movieSpecs = getMovieSpecs(movieID);\r\n            if (movieSpecs) {\r\n                const { name, picture, description } = movieSpecs; //ratings\r\n                movie.name = name;\r\n                movie.picture = picture;\r\n                movie.description = description;\r\n                movie.slots = getMovieAvailability(movieID, id, contentData.availabilityData)\r\n                result.push(movie);\r\n            }\r\n\r\n        }\r\n        return result;\r\n    };\r\n    const moviesToDisplay = getMovies(movies);\r\n    return (\r\n        <div className=\"theater\" >\r\n            <h3>{name}</h3>\r\n            <div className=\"container__box\">\r\n                <ScrollLeft scrollBy={scrollBy} />\r\n                <div className=\"theater__movies__container\">\r\n\r\n                    {moviesToDisplay.length > 0 && moviesToDisplay.map(\r\n                        (movie, i) =>\r\n                        (<MovieInTheater\r\n                            key={nanoid()}\r\n                            name={movie.name}\r\n                            picture={movie.picture}\r\n                            description={movie.description}\r\n                            slots={movie.slots}\r\n                            id={id}\r\n                            movieID={movie.id}\r\n                        />)\r\n                    )\r\n                    }\r\n                </div>\r\n                <ScrollRight scrollBy={scrollBy} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { setLocationAction } from '../../actions/UserActions';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Theater from './Theater';\r\nimport Modal from '../main/Modal';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function ShowTheaters({ theaters, location }) {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalData } = useContext(ModalContext);\r\n    const onClickChangeLocation = () => {\r\n        userDataDispatch(setLocationAction(''));\r\n    }\r\n\r\n    return (\r\n        <div className=\"theaters__container\">\r\n            <div className=\"theaters__location\">\r\n                <h3>Theaters in {location}</h3>\r\n                <div className=\"change-location\" onClick={onClickChangeLocation}>Change Location</div>\r\n            </div>\r\n            {theaters.length > 0 ? theaters.map(\r\n                (theater) =>\r\n                (<Theater\r\n                    key={nanoid()}\r\n                    id={theater.id}\r\n                    name={theater.name}\r\n                    movies={theater.movies}\r\n                />)\r\n            ) :\r\n                <h3>No theaters available.</h3>}\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport ShowTheaters from './ShowTheaters';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { setLocationAction } from '../../actions/UserActions';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../contexts/DataContext';\r\n\r\n\r\n\r\n\r\nexport default function Theaters() {\r\n    const { contentData } = useContext(DataContext);\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const getTheaters = (requestedLocation) => {\r\n        return contentData.theatersData.filter(({ location }) => (location === requestedLocation));\r\n    };\r\n    const locations = contentData.locationsData;\r\n    const onClickLocation = (event) => {\r\n        const location = event.target.previousSibling.value;\r\n        userDataDispatch(setLocationAction(location));\r\n    }\r\n    return (\r\n        <div className=\"theaters__main\">\r\n            {userData.location === '' && <div className=\"pick-location\">\r\n                <h3>Pick a location:</h3>\r\n                <select>\r\n                    {locations.map((location, i) =>\r\n                        (<option key={nanoid()}>{location}</option>)\r\n                    )}\r\n                </select>\r\n                <button onClick={onClickLocation}>Go</button>\r\n            </div>}\r\n            {userData.location !== '' && <ShowTheaters\r\n                theaters={getTheaters(userData.location)}\r\n                location={userData.location}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { getArticleByid } from '../../server/utils';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Modal from '../main/Modal';\r\n\r\n\r\nexport default function Article({ id }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n    const { name, subTitle, picture, article } = getArticleByid(id, contentData.newsData);\r\n    return (\r\n        <div className=\"article__main\">\r\n            <h2>{name}</h2>\r\n            <h4>{subTitle}</h4>\r\n            <img src={picture || './news-images/non-picture.jpg'} alt=\"article_picture\" />\r\n            <p>{article}</p>\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { DataContext } from '../contexts/DataContext';\r\nimport { getArticleByid } from '../server/utils';\r\n\r\nconst ArticleRoute = ({ component: Component, ...rest }) => {\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const id = document.location.pathname.replace('/news/article/', \"\");\r\n    const article = getArticleByid(id, contentData.newsData);\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            component={(props) => (\r\n                !!article ?\r\n                    <Component {...props} id={id} /> :\r\n                    <Redirect to={{ pathname: \"/news\" }} />\r\n\r\n            )}\r\n        />);\r\n};\r\n\r\nexport default ArticleRoute;\r\n","import React from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport Account from '../components/account/Account';\r\nimport Footer from '../components/main/Footer';\r\nimport Header from '../components/main/Header';\r\nimport Movies from '../components/movies/Movies';\r\nimport News from '../components/news/News';\r\nimport Theaters from '../components/theaters/Theaters';\r\nimport ModalContextProvider from '../contexts/ModalContext';\r\nimport UserContextProvider from '../contexts/UserContext';\r\nimport DataContextProvider from '../contexts/DataContext';\r\nimport Article from '../components/news/Article';\r\nimport ArticleRoute from './ArticleRoute';\r\nexport default function AppRouter() {\r\n    return (\r\n        <BrowserRouter>\r\n            <ModalContextProvider>\r\n                <UserContextProvider>\r\n                    <DataContextProvider>\r\n                        <Header />\r\n                        <Switch>\r\n                            <Route path=\"/\" exact>\r\n                                <Redirect to=\"/movies\" />\r\n                            </Route>\r\n                            <Route path=\"/movies\" component={Movies} />\r\n                            <Route path=\"/account\" component={Account} />\r\n                            <ArticleRoute path=\"/news/article\" component={Article} />\r\n                            <Route path=\"/news\" component={News} />\r\n                            <Route path=\"/theaters\" component={Theaters} />\r\n                            <Route path=\"*\" component={Movies} />\r\n                        </Switch>\r\n                        <Footer />\r\n                    </DataContextProvider>\r\n                </UserContextProvider>\r\n            </ModalContextProvider>\r\n        </BrowserRouter >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport AppRouter from './routers/AppRouter'\r\nexport default function App() {\r\n  return (\r\n    <AppRouter />\r\n  )\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"./styles/styles.scss\";\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}