{"version":3,"sources":["actions/ModalActions.js","reducers/ModalReducer.js","contexts/ModalContext.js","reducers/UserReducer.js","contexts/UserContext.js","components/theaters/TimeSlot.js","components/theaters/ShowMovieDetails.js","actions/DataActions.js","reducers/DataReducer.js","contexts/DataContext.js","server/login.js","server/utils.js","components/theaters/Row.js","components/theaters/Seats.js","components/theaters/Reservation.js","components/main/Default.js","components/movies/StarRating.js","components/movies/AddComment.js","components/movies/ShowComments.js","components/movies/Movie.js","actions/UserActions.js","components/login/LoginForm.js","components/login/SubscribeForm.js","components/login/LoginPage.js","components/account/Menu.js","components/account/admin/QueryItems.js","components/account/admin/AdjustItems.js","components/account/admin/movies/UpdateMovie.js","components/account/admin/theaters/PickLocation.js","components/account/admin/theaters/UpdateTheater.js","components/account/admin/UpdateItem.js","components/account/admin/theaters/UpdateTheaterStats.js","reducers/SlotHoursReducer.js","contexts/SlotHoursContext.js","components/account/admin/theaters/AddHour.js","actions/SlotHoursActions.js","components/account/admin/theaters/UpdateTimeSlot.js","components/account/admin/theaters/UpdateAvailableTimeSlots.js","components/account/admin/theaters/AddLoction.js","components/account/admin/theaters/AddTheater.js","components/account/admin/theaters/AdjustTheaterDetails.js","components/account/admin/theaters/AddNewTheaterStats.js","components/account/admin/theaters/DeleteLocation.js","components/account/admin/ConfirmDelete.js","components/account/admin/theaters/DeleteTheater.js","components/account/admin/theaters/DeleteTheaters.js","components/account/admin/AddPicture.js","components/account/admin/news/AddArticle.js","components/account/admin/news/UpdateArticle.js","components/account/admin/news/UpdateArticleStats.js","components/account/admin/DeleteItems.js","components/account/admin/news/DeleteArticle.js","components/account/admin/movies/AddMovie.js","components/account/admin/movies/DeleteMovies.js","components/account/admin/movies/AddMovieTimeSlots.js","components/account/admin/account/ChangePassword.js","components/account/admin/account/AddAccount.js","components/account/admin/account/DeleteAccount.js","components/account/admin/movies/AddTimeSlot.js","components/account/admin/movies/AddTimeSlots.js","components/account/admin/movies/UpdateMovieStats.js","components/main/ApprovalMessage.js","components/main/Modal.js","components/account/admin/Setting.js","components/account/admin/AdminAccount.js","components/account/user/UserAccount.js","components/account/Account.js","components/main/FooterIcon.js","components/main/Footer.js","components/main/ItemQueryContainer.js","components/main/ItemSearch.js","components/main/LoaderContainer.js","components/main/Header.js","components/movies/Ratings.js","components/movies/MovieItem.js","components/main/ScrollRight.js","components/main/ScrollLeft.js","components/movies/MoviesSection.js","components/movies/ComingSoon.js","components/movies/NowPlaying.js","components/movies/Movies.js","components/news/News.js","components/theaters/MovieInTheater.js","components/theaters/Theater.js","components/theaters/ShowTheaters.js","components/theaters/Theaters.js","components/news/Article.js","routers/ArticleRoute.js","routers/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["goForwardAction","children","type","initialModalData","isModal","back","ModalReducer","modalData","action","result","elementName","props","concat","cell","pop","ModalContext","createContext","ModalContextProvider","useReducer","modalDataDispatch","Provider","value","initialUserData","loggedIn","isAdmin","activeUser","location","token","windowWidth","UserReducer","userData","user","name","UserContext","UserContextProvider","userDataDispatch","week","TimeSlot","slot","onClickFunc","day","Object","keys","onClickTime","event","className","length","map","show","i","id","onClick","startTime","nanoid","ShowMovieDetails","slots","description","movieID","theaterID","useContext","onClickShowHours","seats","target","slotIndex","setDataAction","data","initialData","adminsData","moviesData","availabilityData","theatersData","locationsData","newsData","isLoaded","DataReducer","newData","key","getData","DataContext","DataContextProvider","contentData","contentDataDispatch","serverURL","process","loginUser","request","a","axios","post","Error","subscribe","logout","changePassword","patch","getAdminsData","get","params","console","log","response","statusText","deleteAdmins","adminsIDsArray","admins","addMovie","movie","updateMovie","movieDetails","deleteMovies","movies","getMovies","getMovieByName","movieName","filter","getMovieByID","getAvailableMovies","forEach","timeSlot","owner","push","getUnavailableMovies","found","getMovieAvailability","theater","hasOpenSeats","err","message","addAvailability","addComment","comment","reserveSeat","orderDetails","addNewTheater","deleteTheaters","theaters","getTheaterByID","checkForExistingTheater","theaterName","theaterLocation","getTheatersByLocation","getTheaters","updateTheater","oldMoviesList","theaterDetails","newTimeSlots","allMovies","includes","addNewLocation","deleteLocation","checkForExistingLocation","locations","l","addArticle","article","updateArticle","deleteArticles","articles","getAllData","section","getNews","news","getArticleByid","articleID","Row","row","setErrorMessage","onClickSeat","seat","parseInt","hourIndex","Seats","useState","errorMessage","Math","floor","slice","getRows","Reservation","index","findIndex","element","Default","StarRating","rating","setRating","active","setActive","onClickStar","maxIndex","setChosenStar","AddComment","setComment","onClickSubmit","onInput","input","disabled","ShowComments","comments","showMore","setShowMore","moreClass","setMoreClass","Movie","allSlots","availableTheaters","getMovieAvailabilityAll","onClickTheater","parentElement","loginAction","setLocationAction","LoginForm","email","setEmail","password","setPassword","setIsAdmin","isEmailInputValid","setIsEmailInputValid","isPasswordInputValid","setIsPasswordInputValid","useEffect","onSubmitForm","preventDefault","resUserData","onSubmit","placeholder","onBlur","theEmail","trim","thePassword","onChange","checked","setIsLoginMode","SubscribeForm","inputClasses","setInputClasses","invalidMessages","setInvalidMessages","validInputs","setValidInputs","username","setUsername","setStateOfInputs","inputClass","isvalidInput","inputindex","newInavlidMessages","newInputClasses","newValidInputs","validateInput","isValueValidFunc","setValue","missingValueMessage","invalidValueMessage","onSubmitform","partOfLogin","subscribeData","errorMessageArray","newUsername","newEmail","validator","isEmail","newPassword","test","passwordRepeated","LoginPage","state","needToLogin","isLoginMode","Menu","sections","onClickOption","title","QueryItems","itemType","getItems","inputType","setAbleSubmit","getItemsParams","isChecked","setIsChecked","items","diaplayItems","setDisplayItems","onChangeChecked","record","item","toLowerCase","DeleteItems","onSubmitFunc","adjustType","ableSubmit","itemsToSubmit","getItemsToSubmit","getInputType","UpdateMovie","PickLocation","clickLoactionFunc","onClickLocation","innerText","UpdateTheater","UpdateItem","UpdateTheaterStats","nameValue","setNameValue","seatsValue","setSeatsValue","moviesList","setMoviesList","setValues","addMoreMovies","setAddMoreMovies","displyMovies","setDisplayMovies","onClickRemove","newMovieList","splice","onChangeMovieChecked","indexOf","onChangeValue","initialHoursData","hours","SlotHoursReducer","hoursData","SlotHoursContext","SlotHoursContextProvider","hoursDataDispatch","AddHour","removeHour","setHoursAction","UpdateTimeSlot","movieTimeSlots","setTimeSlots","getDays","displaySlots","setDisplaySlots","existingDays","setExistingDays","addDay","setAddDay","setDay","createSeats","seatsNum","h","e","hour","newHours","stopPropagation","firstChild","keyDay","showHours","hh","mm","endTime","sort","b","h1","split","h2","getHours","newSlots","UpdateAvailableTimeSlots","timeSlots","filterdData","getAllTheaterTimeSlots","setNewTimeSlots","isAllMoviesUpdated","setisAllMoviesUpdated","setNewSlots","update","onClickUpdate","AddLoction","setLocation","onClickAddLocation","AddTheater","AdjustTheaterDetails","onClickSubmitFunc","submitText","AddNewTheaterStats","addNewTheaterForm","setAddNewTheaterForm","DeleteLocation","onDeleteFunc","onDeleteFuncData","ConfirmDelete","onClickDelete","seperator","DeleteTheater","DeleteTheaters","theatersNames","AddPicture","picture","setPicture","onInputText","pictureValue","setPictureValue","onClickAddPicture","pictureInput","previousSibling","src","alt","AddArticle","setName","subTitle","setSubTitle","setArticle","setInput","onClickAdd","UpdateArticle","UpdateArticleStats","subTitleValue","setSubTitleValue","articleValue","setArticleValue","DeleteArticle","articlesNames","AddMovie","critics","setCritics","setDescription","onClickAddTimeSlots","ratings","audience","NaN","numOfRatings","DeleteMovies","moviesNames","AddMovieTimeSlots","ChangePassword","currentPassword","setCurrentPassword","setNewPassword","onClickChange","AddAccount","partOflogin","DeleteAccount","idArray","undefined","adminNames","adminID","AddTimeSlots","isDisabled","setIsDisabled","numOfTheaters","setTheatersSlots","availability","setAvailability","setSlot","newAvailability","valid","isValidTimeSlot","theaterId","UpdateMovieStats","newDescription","setNewDescription","newPicture","setInputs","ApprovalMessage","setTimeout","Modal","components","AdjustItems","setChildren","React","createElement","Setting","sectionLower","AdminAccount","UserAccount","Account","FooterIcon","nameLower","to","activeClassName","Footer","ItemQueryContainer","itemInput","filterdItems","ItemSearch","setOnInput","setIsQuery","history","useHistory","LoaderContainer","Header","componentOn","setComponentOn","setIsLoaded","isQuery","setItemInput","window","innerWidth","then","res","catch","onClickLogout","onFocus","Ratings","criticsRatings","audienceRatings","onClickAddComment","round","MovieItem","onClickMovie","ScrollRight","scrollBy","top","left","behavior","nextSibling","MoviesSection","getMoviesFunc","displayMovies","ComingSoon","NowPlaying","Movies","News","onClickArticle","MovieInTheater","Theater","getMovieSpecs","moviesToDisplay","movieSpecs","ShowTheaters","Theaters","requestedLocation","Article","ArticleRoute","Component","component","rest","document","pathname","replace","AppRouter","path","exact","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29859eb8.chunk.js","sourcesContent":["export const clearModalAction = () => ({\r\n    type: \"CLEAR\"\r\n});\r\n\r\nexport const goForwardAction = (children) => ({\r\n    type: \"FORWARD\",\r\n    children\r\n});\r\n\r\nexport const goBackAction = () => ({\r\n    type: \"BACK\"\r\n});","export const initialModalData = {\r\n    isModal: false,\r\n    children: null,\r\n    back: []\r\n};\r\n\r\n\r\nconst ModalReducer = (modalData, action) => {\r\n    switch (action.type) {\r\n        case \"CLEAR\":\r\n            return {\r\n                initialModalData\r\n            };\r\n        case \"FORWARD\":\r\n            let result = [];\r\n            let children;\r\n            if (!!modalData.children) {\r\n                children = {\r\n                    elementName: modalData.children.elementName,\r\n                    props: modalData.children.props\r\n                };\r\n                result = result.concat(!!modalData.back ? modalData.back : [], children);\r\n            }\r\n            return {\r\n                ...modalData,\r\n                isModal: true,\r\n                back: result,\r\n                children: action.children\r\n            };\r\n        case \"BACK\":\r\n            let back = modalData.back;\r\n            const cell = back.pop();\r\n            return {\r\n                ...modalData,\r\n                children: cell,\r\n                back\r\n            };\r\n        default:\r\n            return { ...modalData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default ModalReducer;","import React, { createContext, useReducer } from 'react';\r\nimport ModalReducer, { initialModalData } from '../reducers/ModalReducer';\r\n\r\nexport const ModalContext = createContext();\r\n\r\nconst ModalContextProvider = (props) => {\r\n    const [modalData, modalDataDispatch] = useReducer(ModalReducer, initialModalData);\r\n    return (\r\n        <ModalContext.Provider value={{ modalData, modalDataDispatch }}>\r\n            {props.children}\r\n        </ModalContext.Provider>\r\n    )\r\n};\r\n\r\nexport default ModalContextProvider;","export const initialUserData = {\r\n    loggedIn: false,\r\n    isAdmin: false,\r\n    activeUser: '',\r\n    location: '',\r\n    token: '',\r\n    windowWidth: null,\r\n\r\n};\r\n\r\nconst UserReducer = (userData, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n            return {\r\n                ...userData,\r\n                loggedIn: true,\r\n                activeUser: action.user.user.name,\r\n                token: action.user.token,\r\n                isAdmin: action.isAdmin\r\n            };\r\n        case \"WINDOW\":\r\n            return {\r\n                ...userData,\r\n                windowWidth: action.windowWidth\r\n            };\r\n        case \"LOGOUT\":\r\n            return {\r\n                ...userData,\r\n                loggedIn: false,\r\n                activeUser: '',\r\n                token: '',\r\n                isAdmin: false\r\n            };\r\n\r\n        case \"SET_LOCATION\":\r\n            return {\r\n                ...userData,\r\n                location: action.location\r\n            };\r\n\r\n        default:\r\n            return { ...userData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default UserReducer;","import React, { createContext, useReducer } from 'react';\r\nimport UserReducer, { initialUserData } from '../reducers/UserReducer';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = (props) => {\r\n    const [userData, userDataDispatch] = useReducer(UserReducer, initialUserData);\r\n    return (\r\n        <UserContext.Provider value={{ userData, userDataDispatch }}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n};\r\n\r\nexport default UserContextProvider;","import React from 'react';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n    \"Friday\", \"Saturday\", \"Sunday\",];\r\n\r\nexport default function TimeSlot({ slot, onClickFunc }) {\r\n    const day = (Object.keys(slot))[0];\r\n    const onClickTime = (event) => {\r\n        onClickFunc(event, slot);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"time-slot\">\r\n            <div className=\"time-slot__day\">{week[day - 1]}</div>\r\n            <div className=\"time-slot__container\">\r\n                {slot[day].length > 0 && slot[day].map((show, i) => (\r\n                    <div\r\n                        className=\"time-slot__hour\"\r\n                        key={nanoid()}\r\n                        id={i}\r\n                        onClick={onClickTime}>{show.startTime}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport TimeSlot from './TimeSlot';\r\nimport { nanoid } from 'nanoid';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nexport default function ShowMovieDetails({ name, slots, description, movieID, theaterID }) {\r\n\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickShowHours = (event, slot) => {\r\n        const day = (Object.keys(slot))[0];\r\n        const seats = slot[day][event.target.id].seats;\r\n        modalDataDispatch(goForwardAction({ elementName: 'Seats', props: { seats, slotIndex: event.target.id, day, movieID, theaterID } }));\r\n    };\r\n    return (\r\n        <div>\r\n            <div className=\"description__container\">\r\n                {description}\r\n            </div>\r\n            <div>\r\n                {slots.length > 0 ?\r\n                    slots[0].map((slot, i) => (<TimeSlot key={nanoid()} slot={slot} onClickFunc={onClickShowHours} />))\r\n                    : \"No Available Time Slots.\"}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const setDataAction = (data) => ({\r\n    type: \"SET_DATA\",\r\n    data\r\n});","export const initialData = {\r\n    adminsData: [],\r\n    moviesData: [],\r\n    availabilityData: [],\r\n    theatersData: [],\r\n    locationsData: [],\r\n    newsData: [],\r\n    isLoaded: false\r\n};\r\n\r\nconst getData = (data) => {\r\n    const result = {};\r\n    for (let key in data) {\r\n        if (!!data[key]) result[key] = data[key]\r\n    }\r\n    return result\r\n}\r\n\r\nconst DataReducer = (data, action) => {\r\n    switch (action.type) {\r\n\r\n        case \"SET_DATA\":\r\n            const newData = getData(action.data);\r\n            return {\r\n                ...data,\r\n                ...newData\r\n            };\r\n\r\n\r\n        default:\r\n            return { ...data };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default DataReducer;","import React, { createContext, useReducer } from 'react';\r\nimport DataReducer, { initialData } from '../reducers/DataReducer';\r\n\r\nexport const DataContext = createContext();\r\n\r\nconst DataContextProvider = (props) => {\r\n    const [contentData, contentDataDispatch] = useReducer(DataReducer, initialData);\r\n    return (\r\n        <DataContext.Provider value={{ contentData, contentDataDispatch }}>\r\n            {props.children}\r\n        </DataContext.Provider>\r\n    )\r\n};\r\n\r\nexport default DataContextProvider;","import axios from 'axios';\r\nconst serverHost = process.env.REACT_APP_SERVER_HOST;\r\nconst serverPort = process.env.REACT_APP_SERVER_PORT;\r\nexport const serverURL = `${serverHost}:${serverPort}`;\r\n\r\nexport const loginUser = async (request) => {\r\n    try {\r\n        const result = await axios.post(`${serverURL}/login`, request);\r\n        return result.data;\r\n\r\n    } catch (err) {\r\n        const error = new Error(\"Unable to login\")\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const subscribe = async (request) => {\r\n    try {\r\n        const result = await axios.post(`${serverURL}/subscribe`, request);\r\n        return result.data;\r\n\r\n    } catch (err) {\r\n        const error = new Error(\"Unable to login\")\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const logout = async (token, isAdmin) => {\r\n    try {\r\n        await axios.post(`${serverURL}/logout`, { token, isAdmin });\r\n    } catch (err) {\r\n        throw err;\r\n    }\r\n\r\n\r\n};","import { serverURL } from './login';\r\nimport axios from 'axios';\r\nexport const getElementFromArray = (array, key, value) => {\r\n    try {\r\n        return array.filter((element) => (element[key] === value))[0];\r\n    } catch (err) {\r\n        return\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const changePassword = async (token, request, isAdmin) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/update-password`, { token, request, isAdmin });\r\n    } catch (err) {\r\n        throw err;\r\n    }\r\n};\r\n\r\nexport const getAdminsData = async (token) => {\r\n    try {\r\n        const result = await axios.get(`${serverURL}/data/admin/get-all`, { params: { token } });\r\n        return { adminsData: result.data };\r\n    } catch (err) {\r\n        console.log(err.response?.statusText);\r\n        return { adminsData: [] };\r\n    }\r\n\r\n}\r\n\r\nexport const deleteAdmins = async (adminsIDsArray, token) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/admin/delete`, { token, admins: adminsIDsArray });\r\n\r\n    } catch (err) {\r\n        console.log(err.response?.statusText)\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport const addMovie = async (movie, token) => {\r\n    try {\r\n        const { data } = await axios.post(`${serverURL}/data/add-movie/`, { movie, token });\r\n        return data.id;\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n\r\n};\r\n\r\nexport const updateMovie = async (token, movieID, movieDetails) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/update-movie/`, { token, movieID, movieDetails });\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteMovies = async (movies, token) => {\r\n    await axios.post(`${serverURL}/data/delete-movies/`, { movies, token });\r\n\r\n};\r\n\r\nexport const getMovies = (moviesData) => {\r\n    return moviesData;\r\n};\r\n\r\nexport const getMovieByName = (movieName, moviesData) => {\r\n    return moviesData.filter(({ name }) => (movieName === name))[0];\r\n};\r\n\r\nexport const getMovieByID = (movieID, moviesData) => {\r\n    return getMovies(moviesData).filter(({ id }) => (movieID === id))[0];\r\n};\r\n\r\nexport const getAvailableMovies = (moviesData, availabilityData) => {\r\n    const result = [];\r\n    moviesData.forEach((movie) => {\r\n        for (let timeSlot of availabilityData) {\r\n            if (movie.id === timeSlot.owner) {\r\n                result.push(movie);\r\n                break;\r\n            }\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nexport const getUnavailableMovies = (moviesData, availabilityData) => {\r\n    const result = [];\r\n    moviesData.forEach((movie) => {\r\n        let found = false;\r\n        for (let timeSlot of availabilityData) {\r\n            if (movie.id === timeSlot.owner) found = true;\r\n        }\r\n        if (!found) result.push(movie);\r\n    });\r\n    return result;\r\n};\r\n\r\nexport const getMovieAvailability = (movieID, theaterID, availabilityData) => {\r\n    try {\r\n        const availableSlots = (availabilityData.filter(({ owner, theater, hasOpenSeats }) => (owner === movieID && theater === theaterID && hasOpenSeats)));\r\n        const result = availableSlots.map((slot) => (slot.slots))\r\n        return result;\r\n    } catch (err) {\r\n        console.log(err.message)\r\n        return []\r\n    }\r\n\r\n};\r\n\r\nexport const getMovieAvailabilityAll = (movieID, theaters, availabilityData) => {\r\n    const result = [];\r\n    const availableTheaters = theaters.filter(({ movies }) => (movies.includes(movieID)));\r\n    for (let theater of availableTheaters) result.push({ theater: theater.name, location: theater.location, slots: getMovieAvailability(movieID, theater.id, availabilityData), theaterID: theater.id });\r\n    return result;\r\n};\r\n\r\n\r\nexport const addAvailability = async (id, timeSlot, token) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-movie-timeslot`, { id, timeSlot, token });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const addComment = async (token, comment, id) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/add-comment`, { token, comment, id });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const reserveSeat = async (token, orderDetails) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/add-seat`, { token, orderDetails });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const addNewTheater = async (token, theater) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-theater`, { token, theater });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteTheaters = async (token, theaters) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/delete-theaters`, { token, theaters });\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const getTheaterByID = (theaterID, theaters) => {\r\n    try {\r\n        const { name, movies, seats, location } = theaters.filter(({ id }) => (theaterID === id))[0];\r\n        return { name, movies, seats, location }\r\n    } catch (err) {\r\n        return { name: \"\", movies: [], seats: 0, location: \"\" }\r\n    }\r\n};\r\n\r\nexport const checkForExistingTheater = (theaterName, theaterLocation, theaters) => {\r\n    return theaters.filter(({ name, location }) => (\r\n        name === theaterName && location === theaterLocation\r\n    )).length > 0\r\n};\r\n\r\nexport const getTheatersByLocation = ({ location, theaters }) => {\r\n    return theaters.filter((theater) => (location === theater.location));\r\n};\r\n\r\nexport const getTheaters = (theaters) => {\r\n    return theaters.map(({ name, id, location }) => ({ name: `${name} - ${location}`, id }));\r\n};\r\n\r\nexport const updateTheater = async (token, theaterID, oldMoviesList, theaterDetails, newTimeSlots) => {\r\n    try {\r\n        const allMovies = [];\r\n        const length = oldMoviesList.length > theaterDetails.movies.length ?\r\n            oldMoviesList.length :\r\n            theaterDetails.movies.length;\r\n        for (let i = 0; i < length; i++) {\r\n            if (!allMovies.includes(theaterDetails.movies[i])) allMovies.push(theaterDetails.movies[i]);\r\n            if (!allMovies.includes(oldMoviesList[i])) allMovies.push(theaterDetails.movies[i]);\r\n\r\n        }\r\n        await axios.post(`${serverURL}/data/update-theater`, { token, theaterID, oldMoviesList, theaterDetails, allMovies, newTimeSlots });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n}\r\n\r\nexport const getAllTheaterTimeSlots = (theaterID, movies, availabilityData) => {\r\n    const result = [];\r\n    const filterdData = availabilityData.filter(({ theater }) => (theater === theaterID))\r\n    movies.forEach((movie) => {\r\n        const slots = filterdData.filter(({ owner }) => (owner === movie))[0]?.slots;\r\n        result.push({ movieID: movie, slots: slots ? slots : [] });\r\n    })\r\n    return result || [];\r\n};\r\n\r\nexport const getLocations = (locations) => {\r\n    return locations;\r\n};\r\n\r\nexport const addNewLocation = async (token, name) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-location`, { token, name });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteLocation = async (token, location) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/delete-location`, { token, location });\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\n\r\nexport const checkForExistingLocation = (location, locations) => {\r\n    return locations.filter((l) => (\r\n        l === location\r\n    )).length > 0\r\n};\r\n\r\n\r\n\r\n\r\nexport const addArticle = async (token, article) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/add-article`, { token, article });\r\n\r\n    } catch (err) {\r\n        console.log(err.message)\r\n        throw err;\r\n    }\r\n};\r\n\r\nexport const updateArticle = async (id, article, token) => {\r\n    try {\r\n        await axios.patch(`${serverURL}/data/update-article`, { id, token, article });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const deleteArticles = async (token, articles) => {\r\n    try {\r\n        await axios.post(`${serverURL}/data/delete-articles`, { token, articles });\r\n\r\n    } catch (err) {\r\n        throw err\r\n    }\r\n};\r\n\r\nexport const getAllData = async () => {\r\n    const data = {};\r\n    try {\r\n        data.newsData = await getData('articles');\r\n        data.moviesData = await getData('movies');\r\n        data.availabilityData = await getData('timeslots');\r\n        data.theatersData = await getData('theaters');\r\n        data.locationsData = await getData('locations');\r\n        data.isLoaded = true;\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n};\r\n\r\nexport const getData = async (section) => {\r\n    try {\r\n        const { data } = await axios.get(`${serverURL}/data/get-${section}`);\r\n        return data;\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n};\r\n\r\n\r\nexport const getNews = (news) => {\r\n    return news;\r\n};\r\n\r\nexport const getArticleByid = (articleID, articles) => {\r\n    return articles.filter(({ id }) => (id === articleID))[0];\r\n};","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../actions/ModalActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { getData, reserveSeat } from '../../server/utils';\r\n\r\nexport default function Row({ seats, row, slotIndex, day, movieID, theaterID, setErrorMessage }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n\r\n    const onClickSeat = async (event) => {\r\n        setErrorMessage(\"\")\r\n        const seat = event.target.id;\r\n        const cell = parseInt((row - 1) * 12) + parseInt(seat) - 1;\r\n        const orderDetails = {\r\n            cell,\r\n            day,\r\n            hourIndex: slotIndex,\r\n            movieID,\r\n            theaterID\r\n        }\r\n        try {\r\n            await reserveSeat(userData.token, orderDetails);\r\n            const availabilityData = await getData('timeslots');\r\n            contentDataDispatch(setDataAction({ availabilityData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"Reservation\",\r\n                props: { orderDetails, row, seat }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || err.message)\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"row__container\">\r\n            <div className=\"row__number\">{row}</div>\r\n            <div className=\"row\">\r\n                {seats.map((seat, i) => (\r\n                    <div\r\n                        id={i + 1}\r\n                        key={\"seat\" + i}\r\n                        className={(seat ? \"green\" : \"red\") + \" seat\"}\r\n                        onClick={seat ? onClickSeat : () => { }}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport Row from './Row';\r\n\r\nexport default function Seats({ seats, slotIndex, day, movieID, theaterID }) {\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const getRows = (seats) => {\r\n        const result = []\r\n        for (let i = 0; i < seats.length;) {\r\n            const row = (Math.floor(i / 12) + 1);\r\n            result.push(<Row key={row} seats={seats.slice(i, i + 12)}\r\n                row={row} slotIndex={slotIndex} day={day}\r\n                movieID={movieID} theaterID={theaterID}\r\n                setErrorMessage={setErrorMessage}\r\n            />);\r\n            i += 12;\r\n        }\r\n        return result\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"seats\">\r\n            <div className=\"screen\"></div>\r\n            <div className=\"seats__container\">\r\n                {seats.length > 0 && getRows(seats).map((row) => (row))}\r\n            </div>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext } from 'react';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { getMovieByID, getTheaterByID } from '../../server/utils';\r\n\r\nexport default function Reservation({ orderDetails, row, seat }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n        \"Friday\", \"Saturday\", \"Sunday\",];\r\n    const {\r\n        day,\r\n        hourIndex,\r\n        movieID,\r\n        theaterID\r\n    } = orderDetails\r\n\r\n    const { name } = getMovieByID(movieID, contentData.moviesData);\r\n    const theater = getTheaterByID(theaterID, contentData.theatersData);\r\n    const slots = contentData.availabilityData.filter(({ owner, theater }) => (owner === movieID && theater === theaterID))[0].slots;\r\n    const indexOfDay = (element) => (Object.keys(element)[0] === day);\r\n\r\n    const index = slots.findIndex(indexOfDay);\r\n    const { startTime } = slots[index][day][hourIndex] || \"\";\r\n    return (\r\n        <div className=\"reservation\">\r\n            <h1>Order Details:</h1>\r\n            <div><h3>Movie:</h3> {name}</div>\r\n            <div><h3>Location:</h3> {theater.name}, {theater.location}</div>\r\n            <div><h3>Time:</h3> {week[day - 1]}, at {startTime}</div>\r\n            <div><h3>Seat: </h3>Row: {row} , Seat:{seat}</div>\r\n            <div><h3>Reservetion ID:</h3> {nanoid()}</div>\r\n\r\n            <h4>Enjoy !</h4>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Default() {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function StarRating({ rating, setRating }) {\r\n    const [active, setActive] = useState([\"\", \"\", \"\", \"\", \"\"]);\r\n    const setChosenStar = (maxIndex) => {\r\n        const result = [\"\", \"\", \"\", \"\", \"\"];\r\n        for (let i = 0; i < maxIndex; i++)result[i] = 'active';\r\n        setActive(result);\r\n    };\r\n\r\n    const onClickStar = (event) => {\r\n        const id = parseInt(event.target.id);\r\n        setChosenStar(id)\r\n        setRating(id);\r\n    };\r\n\r\n    const clearRating = () => {\r\n        setActive([\"\", \"\", \"\", \"\", \"\"]);\r\n        setRating(null);\r\n    }\r\n    return (\r\n        <div className=\"add-comment__rating\">\r\n            <div className=\"star-wrapper\">\r\n                <div onClick={onClickStar} className={\"fas fa-star s5 \" + active[4]} id=\"5\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s4 \" + active[3]} id=\"4\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s3 \" + active[2]} id=\"3\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s2 \" + active[1]} id=\"2\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s1 \" + active[0]} id=\"1\" />\r\n            </div>\r\n            {rating && <button onClick={clearRating}>Clear</button>}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport StarRating from './StarRating';\r\nimport { nanoid } from 'nanoid';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { clearModalAction, goForwardAction } from '../../actions/ModalActions';\r\nimport { addComment, getData } from '../../server/utils';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { setDataAction } from '../../actions/DataActions';\r\n\r\n\r\nexport default function AddComment({ id }) {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const [rating, setRating] = useState(null);\r\n    const [comment, setComment] = useState(null);\r\n    const onInputComment = (event) => {\r\n        setErrorMessage(\"\")\r\n        const input = event.target.value\r\n        if (input === '') setComment(null);\r\n        else setComment(input);\r\n    };\r\n    const onClickSubmit = async () => {\r\n        setErrorMessage(\"\")\r\n        const request = {};\r\n        if (rating) request.rating = rating;\r\n        if (comment) request.comment = {\r\n            user: userData.activeUser,\r\n            comment,\r\n            id: nanoid()\r\n        };\r\n        try {\r\n            await addComment(userData.token, request, id);\r\n            const moviesData = await getData('movies');\r\n            contentDataDispatch(setDataAction({ moviesData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Comment added!\" }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || err.message)\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"add-comment__container\">\r\n            <StarRating setRating={setRating} rating={rating} />\r\n            <div className=\"add-comment__comment\">\r\n                <textarea onInput={onInputComment}></textarea>\r\n            </div>\r\n            <button\r\n                disabled={!comment && !rating}\r\n                onClick={onClickSubmit}\r\n            >Submit</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function ShowComments({ comments }) {\r\n    const [showMore, setShowMore] = useState(false);\r\n    const [moreClass, setMoreClass] = useState(\"comments\");\r\n    const onClickShow = () => {\r\n        setShowMore(!showMore);\r\n        setMoreClass(\"comments\" + (!showMore ? \" more\" : \"\"))\r\n    }\r\n    return (\r\n        <div className=\"comments__container\">\r\n            <h3>Comments</h3>\r\n            <div className={moreClass}>\r\n                {comments.map((comment, i) => (\r\n                    <div key={nanoid()} className=\"comment\">{comment.comment}</div>\r\n                ))}\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickShow}>\r\n                    {showMore ? \"Show Less Comments\" : \"Show More Comments\"}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { getMovieAvailabilityAll } from '../../server/utils';\r\nimport ShowComments from './ShowComments';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../contexts/DataContext';\r\n\r\nexport default function Movie({ description, comments, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const allSlots = getMovieAvailabilityAll(id, contentData.theatersData, contentData.availabilityData);\r\n\r\n    const onClickTheater = (event) => {\r\n        const { name, slots } = allSlots[event.target.id];\r\n        const theaterID = event.target.parentElement.id;\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ShowMovieDetails\",\r\n            props: { name, slots, movieID: id, theaterID }\r\n        }));\r\n    }\r\n    return (\r\n        <div className=\"movie__container\">\r\n            <div className=\"description__container\">\r\n                {description}\r\n            </div>\r\n            <div className=\"theater-options\">\r\n                {allSlots.map(({ theater, location, theaterID }, i) => (\r\n                    <div key={nanoid()} id={theaterID}>\r\n                        <div className=\"modal__option\" onClick={onClickTheater} id={i}>\r\n                            {`${theater}, ${location}`}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div>\r\n                {comments.length > 0 ?\r\n                    <ShowComments comments={comments} /> :\r\n                    <h3>No comments</h3>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const loginAction = (user, isAdmin) => ({\r\n    type: \"LOGIN\",\r\n    user,\r\n    isAdmin\r\n});\r\n\r\nexport const logoutAction = () => ({\r\n    type: \"LOGOUT\"\r\n});\r\n\r\nexport const setHeaderAction = (activeHeader) => ({\r\n    type: \"HEADER\",\r\n    activeHeader\r\n});\r\n\r\nexport const setWindowAction = (windowWidth) => ({\r\n    type: \"WINDOW\",\r\n    windowWidth\r\n});\r\n\r\nexport const setLocationAction = (location) => ({\r\n    type: \"SET_LOCATION\",\r\n    location\r\n});","import React, { useContext, useEffect, useState } from 'react';\r\nimport { setDataAction } from '../../actions/DataActions';\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\nimport { loginAction } from '../../actions/UserActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { loginUser } from '../../server/login';\r\nimport { getAdminsData } from '../../server/utils';\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [isEmailInputValid, setIsEmailInputValid] = useState(true);\r\n    const [isPasswordInputValid, setIsPasswordInputValid] = useState(true);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    useEffect(() => {\r\n        if (props.errorMessage !== \"\") {\r\n            setErrorMessage(props.errorMessage)\r\n        }\r\n    }, [props.errorMessage])\r\n    const isFormInvalid = () => {\r\n        return email === '' || password === '';\r\n    };\r\n\r\n    const onBlurEmailInput = (event) => {\r\n        const theEmail = event.target.value.trim();\r\n        if (theEmail === '') {\r\n            setEmail('');\r\n            setIsEmailInputValid(false);\r\n        } else {\r\n            setEmail(theEmail);\r\n            setIsEmailInputValid(true);\r\n        }\r\n    }\r\n\r\n    const onBlurPasswordInput = (event) => {\r\n        const thePassword = event.target.value.trim();\r\n        setPassword(thePassword === '' ? '' : thePassword);\r\n        setIsPasswordInputValid(thePassword === '' ? false : true);\r\n    }\r\n\r\n    const onSubmitForm = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const resUserData = await loginUser({ email, password, isAdmin });\r\n            userDataDispatch(loginAction(resUserData, isAdmin));\r\n            if (isAdmin) {\r\n                const admins = await getAdminsData(resUserData.token)\r\n                contentDataDispatch(setDataAction(admins));\r\n            }\r\n            modalDataDispatch(clearModalAction());\r\n        } catch (err) {\r\n            setErrorMessage(err.message);\r\n        }\r\n    };\r\n\r\n    const onClickSubscribe = () => {\r\n        props.setIsLoginMode(false);\r\n    };\r\n\r\n    const onChangeAdminLogin = (event) => {\r\n        setIsAdmin(event.target.checked);\r\n    };\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h3>Login</h3>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n            <form className=\"login-form\" onSubmit={onSubmitForm}>\r\n                <input placeholder=\"Email\" onBlur={onBlurEmailInput} />\r\n                {!isEmailInputValid && <div className=\"invalid-message\">You must enter your Email.</div>}\r\n                <input type=\"password\" placeholder=\"Password\" onBlur={onBlurPasswordInput} />\r\n                {!isPasswordInputValid && <div className=\"invalid-message\">You must enter your password.</div>}\r\n                <div className=\"login-admin\"><input type=\"checkbox\" onChange={onChangeAdminLogin} />Login as admin</div>\r\n                <div className=\"login-form__nav\">\r\n                    <button type=\"submit\" disabled={isFormInvalid()}>Submit</button>\r\n                    <div className=\"login-or-subscribe\" onClick={onClickSubscribe}>Subscribe</div>\r\n                </div>\r\n\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default LoginForm;","import React, { useContext, useState } from 'react';\r\nimport validator from 'validator';\r\nimport { setDataAction } from '../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../actions/ModalActions';\r\nimport { loginAction } from '../../actions/UserActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { subscribe } from '../../server/login';\r\nimport { getAdminsData } from '../../server/utils';\r\n\r\nconst SubscribeForm = (props) => {\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [inputClasses, setInputClasses] = useState([\"\", \"\", \"\", \"\"]);\r\n    const [invalidMessages, setInvalidMessages] = useState([\"\", \"\", \"\", \"\"]);\r\n    const [validInputs, setValidInputs] = useState([false, false, false, false]);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n\r\n\r\n    const isFormInvalid = () => {\r\n        return validInputs.includes(false);\r\n    };\r\n\r\n    const setStateOfInputs = (message, inputClass, isvalidInput, inputindex) => {\r\n        const newInavlidMessages = [...invalidMessages];\r\n        const newInputClasses = [...inputClasses];\r\n        const newValidInputs = [...validInputs];\r\n        newInavlidMessages[inputindex] = message;\r\n        setInvalidMessages(newInavlidMessages);\r\n        newInputClasses[inputindex] = inputClass;\r\n        setInputClasses(newInputClasses);\r\n        newValidInputs[inputindex] = isvalidInput;\r\n        setValidInputs(newValidInputs);\r\n    };\r\n\r\n    const validateInput = (\r\n        value,\r\n        inputindex,\r\n        isValueValidFunc,\r\n        setValue,\r\n        missingValueMessage,\r\n        invalidValueMessage\r\n    ) => {\r\n\r\n\r\n        if (value.length > 0) {\r\n            if (isValueValidFunc(value)) {\r\n                setStateOfInputs(\"\", \"\", true, inputindex);\r\n                setValue(value);\r\n            } else {\r\n                setStateOfInputs(invalidValueMessage, \"input-invalid\", false, inputindex);\r\n            }\r\n        } else {\r\n            setStateOfInputs(missingValueMessage, \"input-invalid\", false, inputindex);\r\n        }\r\n    };\r\n\r\n    const onBlurUsername = (event) => {\r\n        const newUsername = event.target.value.trim();\r\n        const isUsenamevalid = (value) => {\r\n            return true;\r\n        };\r\n        validateInput(\r\n            newUsername,\r\n            0,\r\n            isUsenamevalid,\r\n            setUsername,\r\n            \"You must enter username\",\r\n            \"Username could not be MOSHE!!!\"\r\n        );\r\n    };\r\n\r\n    const onBlurEmail = (event) => {\r\n        const newEmail = event.target.value.trim();\r\n\r\n        validateInput(\r\n            newEmail,\r\n            1,\r\n            validator.isEmail,\r\n            setEmail,\r\n            \"You must enter your email\",\r\n            \"Email invalid\"\r\n        );\r\n    };\r\n\r\n    const onBlurPassword = (event) => {\r\n        const newPassword = event.target.value.trim();\r\n        const isPasswordValid = (value) => {\r\n            const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\r\n            return passwordRegex.test(value);\r\n        };\r\n        validateInput(\r\n            newPassword,\r\n            2,\r\n            isPasswordValid,\r\n            setPassword,\r\n            \"You must enter password\",\r\n            \"Password must contain capital and regular characters, numbers and must have at least 8 characters\"\r\n        );\r\n    };\r\n\r\n    const onBlurPasswordRepeated = (event) => {\r\n        const passwordRepeated = event.target.value.trim();\r\n        const isPasswordRepeatedValid = () => {\r\n            return password === passwordRepeated;\r\n        };\r\n        validateInput(\r\n            passwordRepeated,\r\n            3,\r\n            isPasswordRepeatedValid,\r\n            () => { },\r\n            \"You must enter again your password\",\r\n            \"The two passwords not identical\"\r\n        );\r\n    };\r\n\r\n    const onSubmitform = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const request = { email, password, name: username, isAdmin: !props.partOfLogin };\r\n            const subscribeData = await subscribe(request);\r\n            if (props.partOfLogin) userDataDispatch(loginAction(subscribeData, false));\r\n            else {\r\n                const admins = await getAdminsData(userData.token)\r\n                contentDataDispatch(setDataAction(admins));\r\n            }\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Account successfully added!\" }\r\n            }));\r\n\r\n        } catch (err) {\r\n            const errorMessageArray = [\"\", \"\", \"\", \"\"]\r\n            errorMessageArray[err.index || 3] = err.message;\r\n            setInvalidMessages(errorMessageArray)\r\n        }\r\n\r\n    };\r\n\r\n    const onClickLogin = () => {\r\n        props.setIsLoginMode(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h3>Subscribe</h3>\r\n            <form onSubmit={onSubmitform}>\r\n                <input placeholder=\"Username\" className={inputClasses[0]} onBlur={onBlurUsername} />\r\n                {invalidMessages[0] !== \"\" && <div className=\"invalid-message\">{invalidMessages[0]}</div>}\r\n                <input placeholder=\"Email\" className={inputClasses[1]} onBlur={onBlurEmail} />\r\n                {invalidMessages[1] !== \"\" && <div className=\"invalid-message\">{invalidMessages[1]}</div>}\r\n                <input type=\"password\" placeholder=\"Password\" className={inputClasses[2]} onBlur={onBlurPassword} />\r\n                {invalidMessages[2] !== \"\" && <div className=\"invalid-message\">{invalidMessages[2]}</div>}\r\n                <input type=\"password\" placeholder=\"Repeat on password\" className={inputClasses[3]} onBlur={onBlurPasswordRepeated} />\r\n                {invalidMessages[3] !== \"\" && <div className=\"invalid-message\">{invalidMessages[3]}</div>}\r\n                <div className=\"login-form__nav\">\r\n                    <button type=\"submit\" disabled={isFormInvalid()}>Submit</button>\r\n                    {props.partOfLogin && <div className=\"login-or-subscribe\" onClick={onClickLogin}>Login</div>}\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubscribeForm;","import React, { useState } from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport SubscribeForm from './SubscribeForm';\r\n\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    const errorMessage = props?.location?.state?.needToLogin ?\r\n        \"You need to login\" : \"\";\r\n    const [isLoginMode, setIsLoginMode] = useState(true);\r\n    return (\r\n        <div className={\"login-page\"}>\r\n            <div className=\"login-page__form\">\r\n                {isLoginMode ?\r\n                    <LoginForm setIsLoginMode={setIsLoginMode} errorMessage={errorMessage} /> :\r\n                    <SubscribeForm setIsLoginMode={setIsLoginMode} partOfLogin={true} />}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default LoginPage;","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function Menu({ sections }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickOption = (event) => {\r\n\r\n        const { elementName, props } = sections[event.target.id];\r\n        const children = {\r\n            elementName,\r\n            props\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    };\r\n\r\n    return (\r\n        <div className=\"menu__container\">\r\n            {sections.length > 0 && sections.map(({ title }, i) => (\r\n                <button key={nanoid()} onClick={onClickOption} id={i}>{title}</button>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function QueryItems({ itemType, getItems, inputType, setAbleSubmit, getItemsParams, isChecked, setIsChecked }) {\r\n    const items = getItems(getItemsParams);\r\n    const [diaplayItems, setDisplayItems] = useState([...items]);\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayItems(items);\r\n            setAbleSubmit(Object.keys(isChecked).length > 0);\r\n        } else {\r\n            const filter = items.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayItems(filter);\r\n            setAbleSubmit((Object.keys(isChecked).length > 0) && (filter.length > 0))\r\n        }\r\n\r\n    };\r\n\r\n    const onChangeChecked = (event) => {\r\n        const id = event.target.id;\r\n        if (inputType === \"radio\") {\r\n            const record = {};\r\n            record[id] = true;\r\n            setAbleSubmit(true);\r\n            setIsChecked(record);\r\n        }\r\n        else if (inputType === \"checkbox\") {\r\n            if (event.target.checked) {\r\n                const record = isChecked;\r\n                record[id] = true;\r\n                setIsChecked(record);\r\n                setAbleSubmit(true);\r\n            } else {\r\n                const record = isChecked;\r\n                delete record[id];\r\n                setIsChecked(record);\r\n                setAbleSubmit(Object.keys(record).length > 0);\r\n            }\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"item-query\">\r\n            <div className=\"query\">\r\n                <input placeholder={\"Find \" + itemType} onInput={filterItems} />\r\n            </div>\r\n            <div className=\"options__container\">{\r\n                diaplayItems.length > 0 && diaplayItems.map((item) => (\r\n                    <div key={nanoid()} className=\"query__option\">\r\n                        <input id={item.id} type={inputType} onChange={onChangeChecked} checked={!!isChecked[item.id]} /> {item.name}\r\n                    </div>\r\n                ))\r\n            }</div>\r\n        </div>\r\n    )\r\n};\r\n","import React, { useState } from 'react';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function DeleteItems({ itemType, getItems, getItemsParams, onSubmitFunc, adjustType }) {\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClickSubmit = async () => {\r\n        const itemsToSubmit = getItemsToSubmit(adjustType);\r\n        await onSubmitFunc(itemsToSubmit)\r\n    }\r\n\r\n    const getItemsToSubmit = (adjustType) => {\r\n        switch (adjustType) {\r\n            case \"Update\": return Object.keys(isChecked)[0];\r\n            default: return Object.keys(isChecked);\r\n        }\r\n    }\r\n\r\n    const getInputType = (adjustType) => {\r\n        switch (adjustType) {\r\n            case \"Update\": return \"radio\"\r\n            default: return \"checkbox\"\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={getInputType(adjustType)}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClickSubmit}>{adjustType}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovies } from '../../../../server/utils';\r\nimport AdjustItems from '../AdjustItems';\r\n\r\nexport default function UpdateMovie() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const onClickSubmit = (id) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateMovieStats\",\r\n            props: { id }\r\n        }))\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h3>Pick a movie:</h3>\r\n            <AdjustItems\r\n                itemType={\"Movies\"}\r\n                getItems={getMovies}\r\n                getItemsParams={contentData.moviesData}\r\n                onSubmitFunc={onClickSubmit}\r\n                adjustType={\"Update\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext } from 'react';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\n\r\nexport default function PickLocation({ clickLoactionFunc }) {\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const locations = contentData.locationsData;\r\n    const onClickLocation = (event) => {\r\n        const location = event.target.innerText;\r\n        clickLoactionFunc(location)\r\n    };\r\n    return (\r\n        <div className=\"pick-location__container\">\r\n            <h3>Pick a location:</h3>\r\n            <div>\r\n                {locations.length > 0 && locations.map((location) => (\r\n                    <div key={nanoid()} className=\"modal__option\" onClick={onClickLocation}>{location}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { getTheatersByLocation } from '../../../../server/utils';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport PickLocation from './PickLocation';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nexport default function UpdateTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n    const onClickSubmit = () => {\r\n\r\n    }\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateItem\",\r\n            props: {\r\n                itemType: \"Theaters\",\r\n                getItems: getTheatersByLocation,\r\n                onSubmit: onClickSubmit,\r\n                getItemsParams: { location, theaters: contentData.theatersData },\r\n                elementName: \"UpdateTheaterStats\"\r\n            }\r\n        }))\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { goForwardAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function UpdateItem({ itemType, getItems, elementName, getItemsParams, }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClichSubmit = () => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName,\r\n            props: { id: Object.keys(isChecked)[0] }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={\"radio\"}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClichSubmit}>Update</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovieByID, getTheaterByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nexport default function UpdateTheaterStats({ id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n    const { name, movies, seats } = getTheaterByID(id, contentData.theatersData);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [seatsValue, setSeatsValue] = useState(seats);\r\n    const [moviesList, setMoviesList] = useState(movies);\r\n    const setValues = [setNameValue, setSeatsValue];\r\n    const [addMoreMovies, setAddMoreMovies] = useState(false);\r\n    const allMovies = contentData.moviesData;\r\n    const [displyMovies, setDisplayMovies] = useState([...allMovies])\r\n\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayMovies(allMovies);\r\n\r\n        } else {\r\n            const filter = allMovies.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayMovies(filter);\r\n        }\r\n\r\n    };\r\n\r\n    const onClickRemove = (event) => {\r\n        const index = event.target.parentElement.id;\r\n        const newMovieList = [...moviesList];\r\n        newMovieList.splice(index, 1);\r\n        setMoviesList(newMovieList);\r\n        setAddMoreMovies(addMoreMovies || newMovieList.length === 0)\r\n\r\n    };\r\n\r\n    const onChangeMovieChecked = (event) => {\r\n        const index = moviesList.indexOf(event.target.id);\r\n        const newMovieList = [...moviesList];\r\n        if (index >= 0) {\r\n            newMovieList.splice(index, 1);\r\n            setMoviesList(newMovieList);\r\n        } else {\r\n\r\n            newMovieList.push(event.target.id)\r\n            setMoviesList(newMovieList);\r\n        }\r\n    }\r\n    const onChangeValue = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setValues[index](value);\r\n    };\r\n\r\n    const onClickAddMovies = () => {\r\n        setAddMoreMovies(!addMoreMovies);\r\n    };\r\n\r\n    const onClickUpdate = () => {\r\n        const theaterDetails = {\r\n            name: nameValue,\r\n            seats: parseInt(seatsValue),\r\n            movies: moviesList\r\n        };\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateAvailableTimeSlots\",\r\n            props: {\r\n                oldMoviesList: movies,\r\n                theaterDetails,\r\n                id\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Theater Name: <input id=\"0\" value={nameValue} onChange={onChangeValue} /></div>\r\n            <div>Seats: <input id=\"1\" value={seatsValue} type=\"number\" onChange={onChangeValue} /></div>\r\n            <div className=\"movies-in-theater\">\r\n                {moviesList.map((movieID, i) => {\r\n                    const { name } = getMovieByID(movieID, contentData.moviesData);\r\n                    return (<div className=\"listed-movie\" key={nanoid()} id={i} onClick={onClickRemove}>\r\n                        <div className=\"remove\">Remove</div>{name}\r\n                    </div>)\r\n                })}\r\n                <div>\r\n                    <button className=\"add-more-movies\" onClick={onClickAddMovies}>{\"Show \" + (!addMoreMovies ? \"More\" : \"Less\") + \" Movies\"}</button>\r\n                    {addMoreMovies && <div className=\"more-movies-container\">\r\n                        <div className=\"query\">\r\n                            <input placeholder={\"Find Movies\"} onInput={filterItems} />\r\n                        </div>\r\n                        {\r\n                            displyMovies.map((movie, i) => (\r\n                                <div key={nanoid()}>\r\n                                    <input id={movie.id} type=\"checkBox\" checked={moviesList.indexOf(movie.id) >= 0} onChange={onChangeMovieChecked} />{movie.name}\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickUpdate} disabled={moviesList.length === 0}>Update Available Time Slots</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const initialHoursData = {\r\n    hours: []\r\n};\r\n\r\n\r\nconst SlotHoursReducer = (hoursData, action) => {\r\n    switch (action.type) {\r\n        case \"SET\":\r\n            return {\r\n                ...hoursData,\r\n                hours: action.hours\r\n            };\r\n        default:\r\n            return { ...hoursData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default SlotHoursReducer;","import React, { createContext, useReducer } from 'react';\r\nimport SlotHoursReducer, { initialHoursData } from '../reducers/SlotHoursReducer';\r\n\r\nexport const SlotHoursContext = createContext();\r\n\r\nconst SlotHoursContextProvider = (props) => {\r\n    const [hoursData, hoursDataDispatch] = useReducer(SlotHoursReducer, initialHoursData);\r\n    return (\r\n        <SlotHoursContext.Provider value={{ hoursData, hoursDataDispatch }}>\r\n            {props.children}\r\n        </SlotHoursContext.Provider>\r\n    )\r\n};\r\n\r\nexport default SlotHoursContextProvider;","import React, { useContext, useEffect } from 'react'\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\n\r\nexport default function AddHour({ removeHour, id }) {\r\n    const { hoursData } = useContext(SlotHoursContext)\r\n    useEffect(() => {\r\n\r\n    }, [hoursData.hours])\r\n\r\n    const onClickR = (event) => {\r\n        removeHour(event, hoursData.hours)\r\n    }\r\n    return (\r\n        <div className=\"add-time-slot__hour\" onClick={onClickR} id={id}>\r\n            <select>\r\n                <option>09</option><option>10</option><option>11</option>\r\n                <option>12</option><option>13</option><option>14</option><option>15</option>\r\n                <option>16</option><option>17</option><option>18</option>\r\n                <option>19</option><option>20</option>\r\n            </select><select>\r\n                <option>00</option><option>30</option>\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n","export const setHoursAction = (hours) => ({\r\n    type: \"SET\",\r\n    hours\r\n});\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { getMovieByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport TimeSlot from '../../../theaters/TimeSlot';\r\nimport AddHour from './AddHour';\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\nimport { setHoursAction } from '../../../../actions/SlotHoursActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\n\r\nexport default function UpdateTimeSlot({ movieTimeSlots, seats, setTimeSlots, index, newTimeSlots }) {\r\n\r\n    const { contentData } = useContext(DataContext);\r\n    const { hoursData, hoursDataDispatch } = useContext(SlotHoursContext)\r\n    const { name } = getMovieByID(movieTimeSlots.movieID, contentData.moviesData);\r\n    const week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n        \"Friday\", \"Saturday\", \"Sunday\",];\r\n    const getDays = (displaySlots) => {\r\n        const result = [];\r\n        for (let slot of displaySlots)\r\n            result.push(parseInt(Object.keys(slot)[0]) - 1)\r\n        return result;\r\n    }\r\n    const slots = movieTimeSlots.slots;\r\n    const [displaySlots, setDisplaySlots] = useState([...slots]);\r\n    const [existingDays, setExistingDays] = useState(getDays(displaySlots));\r\n    const [addDay, setAddDay] = useState(false);\r\n    const [day, setDay] = useState('Pick A Day');\r\n    useEffect(() => {\r\n        setDisplaySlots(newTimeSlots[index].slots);\r\n\r\n    }, [newTimeSlots, index]);\r\n    const onSelectDay = (event) => {\r\n        setDay(event.target.value);\r\n    };\r\n\r\n    const onClickaddDay = () => {\r\n        setAddDay(existingDays.length < 7)\r\n    };\r\n\r\n\r\n    const getHours = (hours) => {\r\n        const result = [];\r\n        for (let hour of hours) {\r\n            const slot = {}\r\n            const hh = parseInt(hour.children[0].value);\r\n            const mm = hour.children[1].value;\r\n            slot.startTime = `${hh}:${mm}`;\r\n            slot.endTime = `${hh + 3}:${mm}`;\r\n            slot.seats = createSeats(seats);\r\n            result.push(slot);\r\n        }\r\n        result.sort((a, b) => {\r\n            const h1 = a.startTime.split(':');\r\n            const h2 = b.startTime.split(':');\r\n            return (parseInt(h1[0]) > parseInt(h2[0]))\r\n        })\r\n        return result;\r\n    };\r\n\r\n    const createSeats = (seatsNum) => {\r\n        const seats = [];\r\n        for (let i = 0; i < seatsNum; i++)seats.push(true);\r\n        return seats;\r\n    };\r\n\r\n    const onClickSubmitDay = (event) => {\r\n        const day = event.target.parentElement.firstChild.value;\r\n        const keyDay = week.indexOf(day) + 1;\r\n        const hoursContainerElement = event.target.parentElement.children[1];\r\n        const showHours = getHours(hoursContainerElement.children);\r\n        const slot = {};\r\n        slot[keyDay] = showHours;\r\n        const newSlots = displaySlots;\r\n        newSlots.push(slot);\r\n        newSlots.sort((a, b) => (Object.keys(a)[0] > Object.keys(b)[0]));\r\n        console.log(newSlots)\r\n        setDisplaySlots([...newSlots]);\r\n        hoursDataDispatch(setHoursAction([]));\r\n        setExistingDays(getDays(newSlots));\r\n        setAddDay(false);\r\n        setTimeSlots(index, newSlots)\r\n    };\r\n\r\n\r\n    const removeHour = (event, h) => {\r\n        if (!!event.target.children[0]?.children[0]) {\r\n            const e = (h.filter((hour) => (hour.props.id === event.target.id)))[0];\r\n            const index = h.indexOf(e);\r\n            const newHours = [].concat(h.slice(0, index), h.slice(index + 1) || []);\r\n            hoursDataDispatch(setHoursAction(newHours));\r\n        }\r\n\r\n        event.stopPropagation();\r\n    };\r\n\r\n    const onClickAddHour = () => {\r\n        hoursDataDispatch(setHoursAction([].concat(hoursData.hours, <AddHour key={nanoid()} removeHour={removeHour} id={nanoid()} />)));\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-time-slot__container\">\r\n            <h3>{name}</h3>\r\n            <div className=\"update-time-slot__timeslots\">\r\n                {\r\n                    displaySlots.length > 0 && displaySlots.map((slot) => {\r\n\r\n                        return (\r\n                            <TimeSlot key={nanoid()} slot={slot} onClickFunc={() => { }} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {!!addDay && <div className=\"add-day__container\">\r\n                <select onChange={onSelectDay} value={day}>\r\n                    <option>{'Pick A Day'}</option>\r\n                    {week.filter((week, i) => (!existingDays.includes(i))).map((day) => (<option key={nanoid()}>{day}</option>))}\r\n                </select>\r\n                <div className=\"add-time-slot\">\r\n                    {hoursData.hours.length > 0 && hoursData.hours.map((hour) => (hour))}\r\n                </div>\r\n\r\n                <div className=\"add-time-slot__add-hour\" onClick={onClickAddHour}>+</div>\r\n\r\n                <button className=\"add-day__submit\" onClick={onClickSubmitDay} disabled={!hoursData.hours.length > 0 || day === 'Pick A Day'}>Add</button>\r\n            </div>}\r\n            <button className=\"add-day__button\" onClick={onClickaddDay} disabled={addDay || existingDays.length > 6}>Add Day</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { getAllTheaterTimeSlots, getData, updateTheater } from '../../../../server/utils'\r\nimport UpdateTimeSlot from './UpdateTimeSlot';\r\nimport { nanoid } from 'nanoid';\r\nimport SlotHoursContextProvider from '../../../../contexts/SlotHoursContext'\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\n\r\nexport default function UpdateAvailableTimeSlots({ oldMoviesList, theaterDetails, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const timeSlots = getAllTheaterTimeSlots(id, theaterDetails.movies, contentData.availabilityData);\r\n    const [newTimeSlots, setNewTimeSlots] = useState([...timeSlots]);\r\n    const [isAllMoviesUpdated, setisAllMoviesUpdated] = useState(false);\r\n    const setNewSlots = (index, timeSlots) => {\r\n        const newSlots = [...newTimeSlots];\r\n        newSlots[index].slots = timeSlots;\r\n        newSlots[index].hasOpenSeats = true;\r\n        setNewTimeSlots(newSlots);\r\n    };\r\n    useEffect(() => {\r\n        let update = true;\r\n        for (let movie of newTimeSlots) {\r\n            if (movie.slots.length === 0) update = false;\r\n            setisAllMoviesUpdated(update)\r\n        }\r\n    }, [newTimeSlots])\r\n    const onClickUpdate = async () => {\r\n        try {\r\n            setErrorMessage(\"\");\r\n            await updateTheater(userData.token, id, oldMoviesList, theaterDetails, newTimeSlots);\r\n            console.log(newTimeSlots, oldMoviesList, theaterDetails)\r\n            const theatersData = await getData('theaters');\r\n            const availabilityData = await getData('timeslots');\r\n            contentDataDispatch(setDataAction({ theatersData, availabilityData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"TimeSlots updated!\" }\r\n            }));\r\n\r\n        } catch (err) {\r\n            if (err.response) setErrorMessage(err.response.data.message);\r\n            else setErrorMessage(err.message);\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-available-timeslots\">\r\n            {timeSlots.length > 0 && timeSlots.map((timeSlot, i) => (\r\n                <SlotHoursContextProvider key={nanoid()}>\r\n                    <UpdateTimeSlot movieTimeSlots={timeSlot} seats={theaterDetails.seats} setTimeSlots={setNewSlots} index={i} newTimeSlots={newTimeSlots} />\r\n                </SlotHoursContextProvider>\r\n            ))}\r\n            <button disabled={!isAllMoviesUpdated} onClick={onClickUpdate}>Update Theater</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addNewLocation, checkForExistingLocation, getData } from '../../../../server/utils';\r\n\r\nexport default function AddLoction() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const [location, setLocation] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const onInputLocation = (event) => {\r\n        if (errorMessage !== \"\") setErrorMessage(\"\")\r\n        setLocation(event.target.value)\r\n    };\r\n\r\n    const onClickAddLocation = async () => {\r\n        setErrorMessage(\"\")\r\n        if (!checkForExistingLocation(location, contentData.locationsData)) {\r\n            try {\r\n                await addNewLocation(userData.token, location);\r\n                const locationsData = await getData('locations');\r\n                contentDataDispatch(setDataAction({ locationsData }));\r\n                modalDataDispatch(goForwardAction({\r\n                    elementName: \"AddNewTheaterStats\",\r\n                    props: {\r\n                        location\r\n                    }\r\n                }))\r\n            } catch (err) {\r\n                setErrorMessage(err.response?.data.message || err.message)\r\n            }\r\n\r\n        } else setErrorMessage(\"Location already exists!\")\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Enter Location name:</h3>\r\n            <input onInput={onInputLocation} />\r\n            <button onClick={onClickAddLocation} disabled={location === ''}>Add</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport PickLocation from './PickLocation';\r\nexport default function AddTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"AddNewTheaterStats\",\r\n            props: { location }\r\n        }));\r\n    };\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { getMovieByID, getMovies, getTheaterByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nexport default function AdjustTheaterDetails({ theaterID, onClickSubmitFunc, submitText }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { name, movies, seats } = getTheaterByID(theaterID);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [seatsValue, setSeatsValue] = useState(seats);\r\n    const [moviesList, setMoviesList] = useState(movies);\r\n    const setValues = [setNameValue, setSeatsValue];\r\n    const [addMoreMovies, setAddMoreMovies] = useState(false);\r\n    const allMovies = getMovies(contentData.moviesData);\r\n    const [displyMovies, setDisplayMovies] = useState([...allMovies])\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayMovies(allMovies);\r\n\r\n        } else {\r\n            const filter = allMovies.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayMovies(filter);\r\n        }\r\n\r\n    };\r\n\r\n    const onClickRemove = (event) => {\r\n        const index = event.target.parentElement.id;\r\n        const newMovieList = [...moviesList];\r\n        newMovieList.splice(index, 1);\r\n        setMoviesList(newMovieList);\r\n        setAddMoreMovies(addMoreMovies || newMovieList.length === 0)\r\n\r\n    };\r\n\r\n    const onChangeMovieChecked = (event) => {\r\n        const index = moviesList.indexOf(event.target.id);\r\n        const newMovieList = [...moviesList];\r\n        if (index >= 0) {\r\n            newMovieList.splice(index, 1);\r\n            setMoviesList(newMovieList);\r\n        } else {\r\n\r\n            newMovieList.push(event.target.id)\r\n            setMoviesList(newMovieList);\r\n        }\r\n    }\r\n    const onChangeValue = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setValues[index](value);\r\n    };\r\n\r\n    const onClickAddMovies = () => {\r\n        setAddMoreMovies(!addMoreMovies);\r\n    };\r\n\r\n    const onClickSubmit = async () => {\r\n        const theaterDetails = {\r\n            name: nameValue,\r\n            seats: parseInt(seatsValue),\r\n            movies: moviesList\r\n        };\r\n        try {\r\n            await onClickSubmitFunc(theaterDetails, theaterID, movies)\r\n        } catch (err) { console.log(err) }\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Theater Name: <input id=\"0\" value={nameValue} onChange={onChangeValue} /></div>\r\n            <div>Seats: <input id=\"1\" value={seatsValue} type=\"number\" onChange={onChangeValue} /></div>\r\n            <div className=\"movies-in-theater\">\r\n                {moviesList.map((movieID, i) => {\r\n                    const { name } = getMovieByID(movieID, contentData.moviesData);\r\n                    return (<div className=\"listed-movie\" key={nanoid()} id={i} onClick={onClickRemove}>\r\n                        <div className=\"remove\">Remove</div>{name}\r\n                    </div>)\r\n                })}\r\n                <div>\r\n                    <button className=\"add-more-movies\" onClick={onClickAddMovies}>{\"Show \" + (!addMoreMovies ? \"More\" : \"Less\") + \" Movies\"}</button>\r\n                    {addMoreMovies && <div className=\"more-movies-container\">\r\n                        <div className=\"query\">\r\n                            <input placeholder={\"Find Movies\"} onInput={filterItems} />\r\n                        </div>\r\n                        {\r\n                            displyMovies.map((movie, i) => (\r\n                                <div key={nanoid()}>\r\n                                    <input id={movie.id} type=\"checkBox\" checked={moviesList.indexOf(movie.id) >= 0} onChange={onChangeMovieChecked} />{movie.name}\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickSubmit} disabled={moviesList.length === 0 || nameValue === \"\" || !seatsValue > 0}>{submitText}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext, useState } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addNewTheater, checkForExistingTheater, getData } from '../../../../server/utils';\r\nimport AdjustTheaterDetails from './AdjustTheaterDetails';\r\n\r\nexport default function AddNewTheaterStats({ location }) {\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const [addNewTheaterForm, setAddNewTheaterForm] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const onClickAddNewTheater = () => {\r\n        setAddNewTheaterForm(!addNewTheaterForm);\r\n        setErrorMessage(\"\");\r\n    }\r\n    const onClickSubmit = async (theaterDetails) => {\r\n        setErrorMessage(\"\");\r\n        if (!checkForExistingTheater(theaterDetails.name, location, contentData.theatersData)) {\r\n            const theater = theaterDetails;\r\n            theater.location = location\r\n            setAddNewTheaterForm(false);\r\n            try {\r\n                await addNewTheater(userData.token, theater);\r\n                const theatersData = await getData('theaters');\r\n                contentDataDispatch(setDataAction({ theatersData }));\r\n            } catch (err) {\r\n                setErrorMessage(err.response?.data.message || err.message)\r\n\r\n            }\r\n\r\n        } else setErrorMessage('Theater already exists!');\r\n\r\n    }\r\n    return (\r\n        <div className=\"add-new-theater__container\">\r\n            <button onClick={onClickAddNewTheater}>{addNewTheaterForm ? \"-\" : \"+\"} New Theater</button>\r\n            {addNewTheaterForm && <div className=\"add-new-theater-form\">\r\n                <AdjustTheaterDetails\r\n                    theaterID={nanoid()}\r\n                    submitText={\"Add Theater\"}\r\n                    onClickSubmitFunc={onClickSubmit}\r\n                />\r\n            </div>}\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteLocation, getData } from '../../../../server/utils';\r\nimport PickLocation from './PickLocation';\r\nexport default function DeleteLocation() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: [location],\r\n                onDeleteFuncData: location\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (location) => {\r\n        try {\r\n            await deleteLocation(userData.token, location);\r\n            const locationsData = await getData('locations');\r\n            const theatersData = await getData('theaters');\r\n            const availabilityData = await getData('timeslots');\r\n            contentDataDispatch(setDataAction({ locationsData, theatersData, availabilityData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Location deleted!\" }\r\n            }));\r\n\r\n\r\n        } catch (err) {\r\n            console.log(err.response?.data.message || err.message)\r\n        }\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { clearModalAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\n\r\nexport default function ConfirmDelete({ onDeleteFunc, onDeleteFuncData, items }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickCancel = () => {\r\n        modalDataDispatch(clearModalAction());\r\n    };\r\n\r\n    const onClickDelete = async () => {\r\n        await onDeleteFunc(onDeleteFuncData);\r\n        modalDataDispatch(clearModalAction());\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>Are you sure you want to delete:</h3>\r\n            <div>\r\n                {items.length > 0 && items.map((item, i) => {\r\n                    const seperator = i === items.length - 1 ? \".\" : \", \";\r\n                    return (`${item}${seperator}`)\r\n                })}\r\n            </div>\r\n            <div className=\"update-item__buttons\">\r\n                <button className=\"delete-button\" onClick={onClickDelete}>Delete</button>\r\n                <button onClick={onClickCancel}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport PickLocation from './PickLocation';\r\n\r\nexport default function DeleteTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"DeleteTheaters\",\r\n            props: { location }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteTheaters, getData, getTheaterByID, getTheatersByLocation } from '../../../../server/utils';\r\nimport AdjustItems from '../AdjustItems'\r\nexport default function DeleteTheaters({ location }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n    const onClickDelete = (items) => {\r\n        const theatersNames = items.map((item) => {\r\n            const { name } = getTheaterByID(item);\r\n            return `${name} - ${location}`;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: theatersNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (theaters) => {\r\n        try {\r\n            await deleteTheaters(userData.token, theaters)\r\n            const theatersData = await getData('theaters');\r\n            const availabilityData = await getData('timeslots');\r\n            contentDataDispatch(setDataAction({ theatersData, availabilityData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Theaters deleted!\" }\r\n            }));\r\n\r\n\r\n        } catch (err) {\r\n            console.log(err.response?.data.message || err.message)\r\n        }\r\n\r\n    };\r\n    return (\r\n        <AdjustItems\r\n            itemType={\"Theaters\"}\r\n            getItems={getTheatersByLocation}\r\n            getItemsParams={{ location, theaters: contentData.theatersData }}\r\n            onSubmitFunc={onClickDelete}\r\n            adjustType={\"Delete\"}\r\n        />\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function AddPicture({\r\n    picture, setPicture,\r\n    onInputText, pictureValue, setPictureValue\r\n}) {\r\n\r\n    const onClickClear = (event) => {\r\n        const PictureInputElement = event.target.parentElement.previousSibling.children[0];;\r\n        PictureInputElement.value = \"\";\r\n        setPicture(null);\r\n        setPictureValue(null);\r\n    }\r\n    const onClickAddPicture = async (event) => {\r\n        const pictureInput = event.target.previousSibling;\r\n        const picture = pictureInput.value;\r\n        setPicture(picture);\r\n\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            Picture:\r\n            <div>\r\n                <input id=\"3\" onInput={onInputText} />\r\n                {!picture && <button onClick={onClickAddPicture} disabled={!pictureValue}>Add</button>}\r\n            </div >\r\n            {!!picture && <div className=\"image-preview__container\">\r\n                <img className=\"image-preview\" src={picture} alt=\"article_picture\" />\r\n                <button onClick={onClickClear}>Clear</button>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addArticle, getData } from '../../../../server/utils';\r\nimport AddPicture from '../AddPicture';\r\nexport default function AddArticle() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [name, setName] = useState('');\r\n    const [subTitle, setSubTitle] = useState('');\r\n    const [article, setArticle] = useState('');\r\n    const [picture, setPicture] = useState(null);\r\n    const [pictureValue, setPictureValue] = useState(null);\r\n    const setInput = [setName, setSubTitle, setArticle, setPictureValue];\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const onInputText = (event) => {\r\n        if (errorMessage !== \"\") setErrorMessage(\"\")\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setInput[index](value);\r\n    };\r\n\r\n    const onClickAdd = async () => {\r\n        try {\r\n            await addArticle(userData.token, { name, subTitle, article, picture });\r\n\r\n            modalDataDispatch(clearModalAction());\r\n            const newsData = await getData('articles');\r\n            contentDataDispatch(setDataAction({ newsData }))\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Article Added!\" }\r\n            }));\r\n        } catch (err) {\r\n            if (err.response) setErrorMessage(err.response.data.message);\r\n            else setErrorMessage(err.message);\r\n        }\r\n\r\n    };\r\n    return (\r\n        <div className=\"add-article\">\r\n            Title:<input id=\"0\" onInput={onInputText} />\r\n            Sub-Title:<input id=\"1\" onInput={onInputText} />\r\n            Article:<textarea id=\"2\" onInput={onInputText} />\r\n\r\n            <AddPicture\r\n                picture={picture}\r\n                setPicture={setPicture}\r\n                onInputText={onInputText}\r\n                pictureValue={pictureValue}\r\n                setPictureValue={setPictureValue}\r\n            />\r\n            <button\r\n                disabled={!name || !subTitle || !article}\r\n                onClick={onClickAdd}\r\n            >\r\n                Add Article</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { getNews } from '../../../../server/utils';\r\nimport UpdateItem from '../UpdateItem';\r\n\r\nexport default function UpdateArticle() {\r\n    const { contentData } = useContext(DataContext);\r\n    return (\r\n        <UpdateItem\r\n            getItems={getNews}\r\n            getItemsParams={contentData.newsData}\r\n            itemType=\"Articles\"\r\n            elementName=\"UpdateArticleStats\"\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { getArticleByid, getData, updateArticle } from '../../../../server/utils'\r\n\r\nexport default function UpdateArticleStats({ id }) {\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { name, subTitle, article, picture } = getArticleByid(id, contentData.newsData);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [subTitleValue, setSubTitleValue] = useState(subTitle);\r\n    const [articleValue, setArticleValue] = useState(article);\r\n    const [pictureValue, setPictureValue] = useState(picture || \"\");\r\n    const setInput = [setNameValue, setSubTitleValue, setArticleValue, setPictureValue];\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n\r\n    const onInputText = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setInput[index](value);\r\n\r\n    };\r\n\r\n    const onClickUpdate = async () => {\r\n        try {\r\n            setErrorMessage(\"\")\r\n            await updateArticle(id, {\r\n                name: nameValue,\r\n                subTitle: subTitleValue,\r\n                article: articleValue,\r\n                picture: pictureValue\r\n            }, userData.token);\r\n            const newsData = await getData('articles');\r\n            contentDataDispatch(setDataAction({ newsData }))\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Article Updated!\" }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.message)\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-article\">\r\n            Title:<input value={nameValue} id=\"0\" onInput={onInputText} />\r\n            Sub-Title:<textarea value={subTitleValue} id=\"1\" onInput={onInputText} />\r\n            Article:<textarea value={articleValue} id=\"2\" onInput={onInputText} />\r\n            Picture:<input value={pictureValue} id=\"3\" onInput={onInputText} />\r\n            <button onClick={onClickUpdate} disabled={!nameValue || !subTitleValue || !articleValue}>Update</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function DeleteItems({ itemType, getItems, getItemsParams, onSubmitFunc }) {\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClickSubmit = () => {\r\n        const itemsToSubmit = Object.keys(isChecked);\r\n        onSubmitFunc(itemsToSubmit)\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={\"checkbox\"}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClickSubmit}>Delete</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteArticles, getArticleByid, getData, getNews } from '../../../../server/utils'\r\nimport DeleteItems from '../DeleteItems'\r\nexport default function DeleteArticle() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const onClickDelete = (items) => {\r\n        const articlesNames = items.map((item) => {\r\n            const { name } = getArticleByid(item, contentData.newsData);\r\n            return name;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: articlesNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (articles) => {\r\n        try {\r\n            await deleteArticles(userData.token, articles)\r\n\r\n            const newsData = await getData('articles');\r\n            contentDataDispatch(setDataAction({ newsData }))\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Articles deleted!\" }\r\n            }));\r\n        } catch (err) {\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: err.response?.data.message || err.message }\r\n            }));\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <DeleteItems\r\n            getItems={getNews}\r\n            getItemsParams={contentData.newsData}\r\n            itemType=\"Articles\"\r\n            onSubmitFunc={onClickDelete}\r\n\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addMovie, getData, getMovieByName } from '../../../../server/utils';\r\nimport AddPicture from '../AddPicture';\r\nexport default function AddMovie() {\r\n\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const [name, setName] = useState('');\r\n    const [critics, setCritics] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [picture, setPicture] = useState(null);\r\n    const [pictureValue, setPictureValue] = useState(null);\r\n    const setInput = [setName, setDescription, setCritics, setPictureValue];\r\n\r\n    const onInputText = (event) => {\r\n        setErrorMessage(\"\");\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setInput[index](value);\r\n    };\r\n\r\n    const onClickAddTimeSlots = async () => {\r\n        setErrorMessage(\"\");\r\n        if (getMovieByName(name, contentData.moviesData)) {\r\n            setErrorMessage(\"Movie already exists!\");\r\n        } else {\r\n            try {\r\n                const id = await addMovie({\r\n                    name, description,\r\n                    comments: [],\r\n                    ratings: {\r\n                        critics,\r\n                        audience: NaN,\r\n                        numOfRatings: 0\r\n                    },\r\n                    picture\r\n\r\n                }, userData.token);\r\n                const moviesData = await getData('movies');\r\n                contentDataDispatch(setDataAction({ moviesData }));\r\n                modalDataDispatch(goForwardAction({\r\n                    elementName: \"AddMovieTimeSlots\",\r\n                    props: { id }\r\n                }))\r\n            } catch (err) {\r\n                if (err.response) setErrorMessage(err.response.data.message);\r\n                else setErrorMessage(err.message);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"add-movie\">\r\n            Name:<input id=\"0\" onInput={onInputText} />\r\n            Description:<input id=\"1\" onInput={onInputText} />\r\n            Critics: <input type=\"number\" id=\"2\" onInput={onInputText} />\r\n            <AddPicture\r\n                picture={picture}\r\n                setPicture={setPicture}\r\n                onInputText={onInputText}\r\n                pictureValue={pictureValue}\r\n                setPictureValue={setPictureValue}\r\n            />\r\n            <button\r\n                disabled={!name || !critics || !description || critics <= 0 || critics > 1}\r\n                onClick={onClickAddTimeSlots}\r\n            >Add Time Slots</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteMovies, getData, getMovieByID, getMovies } from '../../../../server/utils'\r\nimport AdjustItems from '../AdjustItems';\r\n\r\nexport default function DeleteMovies() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const onClickDelete = (items) => {\r\n        const moviesNames = items.map((item) => {\r\n            const { name } = getMovieByID(item, contentData.moviesData);\r\n            return name;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: moviesNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (movies) => {\r\n        await deleteMovies(movies, userData.token);\r\n        const moviesData = await getData('movies');\r\n        //const availabilityData = await getData('timeslots');\r\n        contentDataDispatch(setDataAction({ moviesData, }));//availabilityData\r\n        modalDataDispatch(clearModalAction());\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ApprovalMessage\",\r\n            props: { message: \"Movies Deleted\" }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h3>Pick a movie:</h3>\r\n            <AdjustItems\r\n                itemType={\"Movies\"}\r\n                getItems={getMovies}\r\n                getItemsParams={contentData.moviesData}\r\n                onSubmitFunc={onClickDelete}\r\n                adjustType={\"Delete\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getTheaters } from '../../../../server/utils'\r\nimport AdjustItems from '../AdjustItems';\r\nexport default function AddMovieTimeSlots({ id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const onSubmitAdd = (theaters) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"AddTimeSlots\",\r\n            props: {\r\n                id,\r\n                theaters\r\n            }\r\n        }))\r\n\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Pick a theater:</h3>\r\n            <AdjustItems\r\n                itemType={\"Theaters\"}\r\n                getItems={getTheaters}\r\n                getItemsParams={contentData.theatersData}\r\n                onSubmitFunc={onSubmitAdd}\r\n                adjustType={\"Add\"}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { changePassword } from '../../../../server/utils';\r\n\r\nexport default function ChangePassword() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [currentPassword, setCurrentPassword] = useState('');\r\n    const [newPassword, setNewPassword] = useState('');\r\n    const [inputClasses, setInputClasses] = useState([\"\", \"\"]);\r\n    const [invalidMessages, setInvalidMessages] = useState([\"\", \"\"]);\r\n    const [validInputs, setValidInputs] = useState([false, false]);\r\n    const isFormInvalid = () => {\r\n        return currentPassword === \"\" || validInputs.includes(false);\r\n    };\r\n\r\n    const setStateOfInputs = (message, inputClass, isvalidInput, inputindex) => {\r\n        const newInavlidMessages = [...invalidMessages];\r\n        const newInputClasses = [...inputClasses];\r\n        const newValidInputs = [...validInputs];\r\n        newInavlidMessages[inputindex] = message;\r\n        setInvalidMessages(newInavlidMessages);\r\n        newInputClasses[inputindex] = inputClass;\r\n        setInputClasses(newInputClasses);\r\n        newValidInputs[inputindex] = isvalidInput;\r\n        setValidInputs(newValidInputs);\r\n    };\r\n\r\n    const validateInput = (\r\n        value,\r\n        inputindex,\r\n        isValueValidFunc,\r\n        setValue,\r\n        missingValueMessage,\r\n        invalidValueMessage\r\n    ) => {\r\n\r\n\r\n        if (value.length > 0) {\r\n            if (isValueValidFunc(value)) {\r\n                setStateOfInputs(\"\", \"\", true, inputindex);\r\n                setValue(value);\r\n            } else {\r\n                setStateOfInputs(invalidValueMessage, \"input-invalid\", false, inputindex);\r\n            }\r\n        } else {\r\n            setStateOfInputs(missingValueMessage, \"input-invalid\", false, inputindex);\r\n        }\r\n    };\r\n\r\n    const onBlurPassword = (event) => {\r\n        const newPassword = event.target.value.trim();\r\n        const isPasswordValid = (value) => {\r\n            const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\r\n            return passwordRegex.test(value);\r\n        };\r\n        validateInput(\r\n            newPassword,\r\n            0,\r\n            isPasswordValid,\r\n            setNewPassword,\r\n            \"You must enter a new password\",\r\n            \"Password must contain capital and regular characters, numbers and must have at least 8 characters\"\r\n        );\r\n    };\r\n\r\n    const onBlurPasswordRepeated = (event) => {\r\n        const passwordRepeated = event.target.value.trim();\r\n        const isPasswordRepeatedValid = () => {\r\n            return newPassword === passwordRepeated;\r\n        };\r\n        validateInput(\r\n            passwordRepeated,\r\n            1,\r\n            isPasswordRepeatedValid,\r\n            () => { },\r\n            \"You must enter again your new password\",\r\n            \"The two passwords not identical\"\r\n        );\r\n    };\r\n\r\n    const onInputCurrentPassword = (event) => {\r\n        const value = event.target.value.trim();\r\n        setCurrentPassword(value);\r\n    }\r\n\r\n    const onClickChange = async () => {\r\n        setErrorMessage(\"\");\r\n        try {\r\n            await changePassword(userData.token, { currentPassword, newPassword }, true);\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Password successfully updated!\" }\r\n            }));\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || \"Server unavailable\");\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"add-article\">\r\n            Enter Current Password: <input type=\"password\" id={\"0\"} onInput={onInputCurrentPassword} />\r\n            Enter New Password: <input type=\"password\" id={\"1\"} onBlur={onBlurPassword} />\r\n            {invalidMessages[0] !== \"\" && <div className=\"invalid-message\">{invalidMessages[0]}</div>}\r\n            Re-Enter New Password: <input type=\"password\" id={\"2\"} onBlur={onBlurPasswordRepeated} />\r\n            {invalidMessages[1] !== \"\" && <div className=\"invalid-message\">{invalidMessages[1]}</div>}\r\n            <button onClick={onClickChange} disabled={isFormInvalid()}>Change Password</button>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport SubscribeForm from '../../../login/SubscribeForm';\r\nexport default function AddAccount() {\r\n    return (\r\n        <SubscribeForm\r\n            partOflogin={false}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { deleteAdmins, getAdminsData } from '../../../../server/utils';\r\nimport AdjustItems from '../AdjustItems'\r\nexport default function DeleteAccount() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n\r\n    const getAdminById = (adminID) => {\r\n        return contentData.adminsData.filter(({ id }) => (id === adminID))[0];\r\n    }\r\n    const onClickDelete = (items) => {\r\n        const adminNames = items.map((item) => {\r\n            const { name } = getAdminById(item);\r\n            return name;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: adminNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = async (idArray) => {\r\n        await deleteAdmins(idArray, userData.token);\r\n        const admins = await getAdminsData(userData.token);\r\n        contentDataDispatch(setDataAction(admins));\r\n        modalDataDispatch(clearModalAction());\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ApprovalMessage\",\r\n            props: { message: \"Accounts successfully deleted!\" }\r\n        }));\r\n    };\r\n\r\n    const getAllAdminsExceptCurrent = () => {\r\n        return contentData.adminsData.filter(({ name }) => (name !== userData.activeUser));\r\n    }\r\n    return (\r\n        <AdjustItems\r\n            itemType={\"Admin\"}\r\n            getItems={getAllAdminsExceptCurrent}\r\n            getItemsParams={undefined}\r\n            onSubmitFunc={onClickDelete}\r\n            adjustType=\"Delete\"\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { nanoid } from 'nanoid';\r\nimport TimeSlot from '../../../theaters/TimeSlot';\r\nimport AddHour from '../theaters/AddHour';\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\nimport { setHoursAction } from '../../../../actions/SlotHoursActions';\r\n\r\nexport default function UpdateTimeSlot({ theaterID, name, seats, setTimeSlots, index }) {\r\n    const { hoursData, hoursDataDispatch } = useContext(SlotHoursContext)\r\n    const week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n        \"Friday\", \"Saturday\", \"Sunday\",];\r\n    const getDays = (displaySlots) => {\r\n        const result = [];\r\n        for (let slot of displaySlots[0])\r\n            result.push(parseInt(Object.keys(slot)[0]) - 1)\r\n        return result;\r\n    }\r\n\r\n    const slots = [[]];\r\n    const [displaySlots, setDisplaySlots] = useState([...slots]);\r\n    const [existingDays, setExistingDays] = useState(getDays(displaySlots));\r\n    const [addDay, setAddDay] = useState(false);\r\n    const [day, setDay] = useState('Pick A Day');\r\n\r\n    const onSelectDay = (event) => {\r\n        setDay(event.target.value);\r\n    };\r\n\r\n    const onClickaddDay = () => {\r\n        setAddDay(existingDays.length < 7)\r\n    };\r\n\r\n\r\n    const getHours = (hours) => {\r\n        const result = [];\r\n        for (let hour of hours) {\r\n            const slot = {}\r\n            const hh = parseInt(hour.children[0].value);\r\n            const mm = hour.children[1].value;\r\n            slot.startTime = `${hh}:${mm}`;\r\n            slot.endTime = `${hh + 3}:${mm}`;\r\n            slot.seats = createSeats(seats);\r\n            result.push(slot);\r\n        }\r\n        result.sort((a, b) => {\r\n            const h1 = a.startTime.split(':');\r\n            const h2 = b.startTime.split(':');\r\n            return (parseInt(h1[0]) > parseInt(h2[0]))\r\n        })\r\n        return result;\r\n    };\r\n\r\n    const createSeats = (seatsNum) => {\r\n        const seats = [];\r\n        for (let i = 0; i < seatsNum; i++)seats.push(true);\r\n        return seats;\r\n    };\r\n\r\n    const onClickSubmitDay = (event) => {\r\n        const day = event.target.parentElement.firstChild.value;\r\n        const keyDay = week.indexOf(day) + 1;\r\n        const hoursContainerElement = event.target.parentElement.children[1];\r\n        const showHours = getHours(hoursContainerElement.children);\r\n        const slot = {};\r\n        slot[keyDay] = showHours;\r\n        const newSlots = [...displaySlots[0]];\r\n        newSlots.push(slot);\r\n        newSlots.sort((a, b) => (Object.keys(a)[0] > Object.keys(b)[0]));\r\n        setDisplaySlots([newSlots]);\r\n        hoursDataDispatch(setHoursAction([]));\r\n        setExistingDays(getDays([newSlots]));\r\n        setAddDay(false);\r\n        setTimeSlots(index, { theater: theaterID, slots: newSlots, hasOpenSeats: true })\r\n    };\r\n\r\n\r\n    const removeHour = (event, h) => {\r\n        if (!!event.target.children[0]?.children[0]) {\r\n            const e = (h.filter((hour) => (hour.props.id === event.target.id)))[0];\r\n            const index = h.indexOf(e);\r\n            const newHours = [].concat(h.slice(0, index), h.slice(index + 1) || []);\r\n            console.log(newHours)\r\n            hoursDataDispatch(setHoursAction(newHours));\r\n        }\r\n\r\n        event.stopPropagation();\r\n    };\r\n\r\n    const onClickAddHour = () => {\r\n        hoursDataDispatch(setHoursAction([].concat(hoursData.hours, <AddHour key={nanoid()} removeHour={removeHour} id={nanoid()} />)));\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-time-slot__container\">\r\n            <h3>{name}</h3>\r\n            <div className=\"update-time-slot__timeslots\">\r\n                {\r\n                    displaySlots.length > 0 && displaySlots[0].map((slot) => {\r\n\r\n                        return (\r\n                            <TimeSlot key={nanoid()} slot={slot} onClickFunc={() => { }} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {!!addDay && <div className=\"add-day__container\">\r\n                <select onChange={onSelectDay} value={day}>\r\n                    <option>{'Pick A Day'}</option>\r\n                    {week.filter((week, i) => (!existingDays.includes(i))).map((day) => (<option key={nanoid()}>{day}</option>))}\r\n                </select>\r\n                <div className=\"add-time-slot\">\r\n                    {hoursData.hours.length > 0 && hoursData.hours.map((hour) => (hour))}\r\n                </div>\r\n\r\n                <div className=\"add-time-slot__add-hour\" onClick={onClickAddHour}>+</div>\r\n\r\n                <button className=\"add-day__submit\" onClick={onClickSubmitDay} disabled={!hoursData.hours.length > 0 || day === 'Pick A Day'}>Add</button>\r\n            </div>}\r\n            <button className=\"add-day__button\" onClick={onClickaddDay} disabled={addDay || existingDays.length > 6}>Add Day</button>\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext, useState } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport SlotHoursContextProvider from '../../../../contexts/SlotHoursContext'\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { addAvailability, getData, getTheaterByID } from '../../../../server/utils';\r\nimport AddTimeSlot from './AddTimeSlot';\r\n\r\nexport default function AddTimeSlots({ id, theaters }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n\r\n    const setTheatersSlots = (numOfTheaters) => {\r\n        const result = []\r\n        for (let i = 0; i < numOfTheaters; i++) result.push(undefined);\r\n        return result\r\n    };\r\n\r\n    const [isDisabled, setIsDisabled] = useState(true);\r\n    const isValidTimeSlot = (availability) => {\r\n        let valid = true;\r\n        for (let slot of availability) {\r\n            if (!slot) valid = false;\r\n        }\r\n        return valid;\r\n    }\r\n\r\n    const [availability, setAvailability] = useState(setTheatersSlots(theaters.length))\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const setSlot = (index, slot) => {\r\n        const newAvailability = availability;\r\n        newAvailability[index] = slot;\r\n        setAvailability(newAvailability);\r\n        setIsDisabled(!(isValidTimeSlot(newAvailability)))\r\n    };\r\n\r\n    const onClickAdd = async () => {\r\n        setErrorMessage(\"\");\r\n        try {\r\n            await addAvailability(id, {\r\n                timeSlot: availability\r\n            }, userData.token);\r\n            const availabilityData = await getData('timeslots');\r\n            const theatersData = await getData('theaters');\r\n            contentDataDispatch(setDataAction({ availabilityData, theatersData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Timeslot added!\" }\r\n            }));\r\n        } catch (err) {\r\n            if (err.response) setErrorMessage(err.response.data.message);\r\n            else setErrorMessage(err.message);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {theaters.length > 0 && theaters.map((theaterId, i) => {\r\n                const { name, location, seats } = getTheaterByID(theaterId, contentData.theatersData)\r\n                return (\r\n                    <SlotHoursContextProvider key={nanoid()}>\r\n                        <AddTimeSlot\r\n                            name={`${name} - ${location}`}\r\n                            seats={seats}\r\n                            index={i}\r\n                            setTimeSlots={setSlot}\r\n                            theaterID={theaterId}\r\n                        />\r\n                    </SlotHoursContextProvider>\r\n                )\r\n            })}\r\n            <button\r\n                disabled={isDisabled}\r\n                onClick={onClickAdd}\r\n            >Add Time Slots</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { setDataAction } from '../../../../actions/DataActions';\r\nimport { clearModalAction, goForwardAction } from '../../../../actions/ModalActions';\r\nimport { DataContext } from '../../../../contexts/DataContext';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { UserContext } from '../../../../contexts/UserContext';\r\nimport { getData, getMovieByID, updateMovie } from '../../../../server/utils';\r\n\r\nexport default function UpdateMovieStats({ id }) {\r\n    const { contentData, contentDataDispatch } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { name, description, picture } = getMovieByID(id, contentData.moviesData);\r\n    const [newDescription, setNewDescription] = useState(description);\r\n    const [newPicture, setNewPicture] = useState(picture);\r\n    const setInputs = [setNewDescription, setNewPicture];\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const onClickUpdate = async () => {\r\n        setErrorMessage(\"\");\r\n        try {\r\n            await updateMovie(userData.token, id, { description: newDescription, picture: newPicture });\r\n            const moviesData = await getData(\"movies\");\r\n            contentDataDispatch(setDataAction({ moviesData }));\r\n            modalDataDispatch(clearModalAction());\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"ApprovalMessage\",\r\n                props: { message: \"Movie updated!\" }\r\n            }));\r\n\r\n        } catch (err) {\r\n            setErrorMessage(err.response?.data.message || err.message);\r\n        }\r\n    };\r\n\r\n    const onInputText = (event) => {\r\n        setErrorMessage(\"\");\r\n        const value = event.target.value;\r\n        const index = event.target.id;\r\n        setInputs[index](value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"add-article\">\r\n            <h3>{name}</h3>\r\n            Description:<textarea value={newDescription} onInput={onInputText} id=\"0\" />\r\n            Picture:<input value={newPicture} onInput={onInputText} id=\"1\" />\r\n            <button\r\n                disabled={newDescription === \"\"}\r\n                onClick={onClickUpdate}\r\n            >Update</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nexport default function ApprovalMessage({ message }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    setTimeout(() => {\r\n        modalDataDispatch(clearModalAction());\r\n    }, 1500)\r\n    return (\r\n        <div className=\"approval-message\">\r\n            <h1>{message}</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { clearModalAction, goBackAction } from '../../actions/ModalActions';\r\nimport ShowMovieDetails from '../theaters/ShowMovieDetails';\r\nimport Seats from '../theaters/Seats';\r\nimport Reservation from '../theaters/Reservation';\r\nimport Default from '../main/Default';\r\nimport AddComment from '../movies/AddComment';\r\nimport Movie from '../movies/Movie';\r\nimport LoginPage from '../login/LoginPage';\r\nimport Menu from '../account/Menu';\r\nimport UpdateMovie from '../account/admin/movies/UpdateMovie';\r\nimport UpdateTheater from '../account/admin/theaters/UpdateTheater';\r\nimport UpdateItem from '../account/admin/UpdateItem';\r\nimport UpdateTheaterStats from '../account/admin/theaters/UpdateTheaterStats';\r\nimport UpdateAvailableTimeSlots from '../account/admin/theaters/UpdateAvailableTimeSlots';\r\nimport AddLoction from '../account/admin/theaters/AddLoction';\r\nimport AddTheater from '../account/admin/theaters/AddTheater';\r\nimport AddNewTheaterStats from '../account/admin/theaters/AddNewTheaterStats';\r\nimport DeleteLocation from '../account/admin/theaters/DeleteLocation';\r\nimport ConfirmDelete from '../account/admin/ConfirmDelete';\r\nimport DeleteTheater from '../account/admin/theaters/DeleteTheater';\r\nimport DeleteTheaters from '../account/admin/theaters/DeleteTheaters';\r\nimport AddArticle from '../account/admin/news/AddArticle';\r\nimport UpdateArticle from '../account/admin/news/UpdateArticle';\r\nimport UpdateArticleStats from '../account/admin/news/UpdateArticleStats';\r\nimport DeleteArticle from '../account/admin/news/DeleteArticle';\r\nimport AddMovie from '../account/admin/movies/AddMovie';\r\nimport DeleteMovies from '../account/admin/movies/DeleteMovies';\r\nimport AddMovieTimeSlots from '../account/admin/movies/AddMovieTimeSlots';\r\nimport ChangePassword from '../account/admin/account/ChangePassword';\r\nimport AddAccount from '../account/admin/account/AddAccount';\r\nimport DeleteAccount from '../account/admin/account/DeleteAccount';\r\nimport AdjustItems from '../account/admin/AdjustItems';\r\nimport AddTimeSlots from '../account/admin/movies/AddTimeSlots';\r\nimport UpdateMovieStats from '../account/admin/movies/UpdateMovieStats';\r\nimport ApprovalMessage from './ApprovalMessage';\r\nexport default function Modal() {\r\n    const { modalData, modalDataDispatch } = useContext(ModalContext);\r\n    const components = {\r\n        Default, LoginPage, ApprovalMessage,\r\n        ShowMovieDetails, Seats, Reservation,\r\n        AddComment, Movie,\r\n        Menu, UpdateMovie, AddMovie, DeleteMovies, AddMovieTimeSlots, AddTimeSlots,\r\n        UpdateMovieStats,\r\n        ConfirmDelete, UpdateItem, AdjustItems,\r\n        UpdateTheater, UpdateTheaterStats, UpdateAvailableTimeSlots, AddLoction,\r\n        AddTheater, AddNewTheaterStats, DeleteLocation, DeleteTheater, DeleteTheaters,\r\n\r\n\r\n        AddArticle, UpdateArticle, UpdateArticleStats, DeleteArticle,\r\n\r\n        ChangePassword, AddAccount, DeleteAccount\r\n    };\r\n    const [children, setChildren] = useState({ elementName: 'Default', props: {} });\r\n    useEffect(() => {\r\n        setChildren(modalData.children);\r\n\r\n    }, [modalData.children])\r\n    const onClickCloseModal = () => {\r\n        modalDataDispatch(clearModalAction());\r\n    };\r\n    const onClickGoBack = (event) => {\r\n        modalDataDispatch(goBackAction());\r\n        event.stopPropagation();\r\n    };\r\n    return (\r\n        <div className=\"modal__container\">\r\n            <div className=\"modal\">\r\n                <div className=\"modal__header\">\r\n                    {modalData.back?.length > 0 && <div className=\"modal__back\" onClick={onClickGoBack}>Back</div>}\r\n                    <div className=\"close-modal__container\" onClick={onClickCloseModal}>\r\n                        <div className=\"close-modal\" ></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"modal__content\">{React.createElement(components[children.elementName], children.props)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\n\r\nexport default function Setting({ section, sections }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const sectionLower = section.toLowerCase();\r\n    const onClickSetting = () => {\r\n        const children = {\r\n            elementName: \"Menu\",\r\n            props: { sections }\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    };\r\n    return (\r\n        <div className=\"setting__container\">\r\n            <div className=\"icon_container\">\r\n                <div className=\"setting\" onClick={onClickSetting}>\r\n                    <img src={\"./icons/account/settings__\" + sectionLower + \".png\"} alt=\"icon\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"setting__title\">{\"Manage \" + section}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Setting from './Setting';\r\nimport Modal from '../../main/Modal';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\nexport default function AdminAccount() {\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n    return (\r\n        <div className=\"admin-account__container\">\r\n            <Setting\r\n                section=\"Movies\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Movie\",\r\n                            elementName: \"AddMovie\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Movie\",\r\n                            elementName: \"UpdateMovie\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Movie\",\r\n                            elementName: \"DeleteMovies\",\r\n                            props: {}\r\n                        },\r\n                    ]\r\n                }\r\n            />\r\n            <Setting\r\n                section=\"Theaters\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Theater\",\r\n                            elementName: \"AddTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Theater\",\r\n                            elementName: \"UpdateTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Theater\",\r\n                            elementName: \"DeleteTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Add New Location\",\r\n                            elementName: \"AddLoction\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Location\",\r\n                            elementName: \"DeleteLocation\",\r\n                            props: {}\r\n                        },\r\n                    ]} />\r\n            <Setting\r\n                section=\"News\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Article\",\r\n                            elementName: \"AddArticle\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Article\",\r\n                            elementName: \"UpdateArticle\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Article\",\r\n                            elementName: \"DeleteArticle\",\r\n                            props: {}\r\n                        },\r\n                    ]} />\r\n            <Setting\r\n                section=\"Account\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Change Password\",\r\n                            elementName: \"ChangePassword\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Add New Admin Account\",\r\n                            elementName: \"AddAccount\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Admin Account\",\r\n                            elementName: \"DeleteAccount\",\r\n                            props: {}\r\n                        }\r\n                    ]} />\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { UserContext } from '../../../contexts/UserContext';\r\n\r\nexport default function UserAccount() {\r\n    const { userData } = useContext(UserContext);\r\n    return (\r\n        <div>\r\n            <h1>{userData.activeUser}, Welcome Back!</h1>\r\n            <p>\r\n                Now you can catch up with latest movie releases,\r\n                nearby theaters and read the news everyone talks about!\r\n            </p>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport Modal from '../main/Modal';\r\nimport AdminAccount from './admin/AdminAccount';\r\nimport UserAccount from './user/UserAccount';\r\n\r\n\r\nexport default function Account() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalData, modalDataDispatch } = useContext(ModalContext);\r\n    useEffect(() => {\r\n        if (!userData.loggedIn)\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"LoginPage\",\r\n                props: {}\r\n            }));\r\n    }, [userData.loggedIn, modalDataDispatch])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"account__main\">\r\n            {userData.loggedIn ?\r\n                <div>\r\n                    {userData.isAdmin ?\r\n                        <AdminAccount /> :\r\n                        <UserAccount />}\r\n                </div> :\r\n                modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function FooterIcon({ name }) {\r\n    const nameLower = name.toLowerCase().trim();\r\n    return (\r\n        <NavLink to={`/${nameLower}`} className=\"nav\" activeClassName=\"nav_active\">\r\n            <img className=\"icon\" src={`./icons/footer/‏‏${name}.png`} alt=\"icon\" />\r\n            <img className=\"icon__active\" src={`./icons/footer/‏‏${name}__active.png`} alt=\"icon\" />\r\n            <div>{name}</div>\r\n        </NavLink>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport FooterIcon from './FooterIcon';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <div className=\"footer__container\">\r\n            <div className=\"footer\">\r\n                <FooterIcon name={\"Movies\"} />\r\n                <FooterIcon name={\"Theaters\"} />\r\n                <FooterIcon name={\"News\"} />\r\n                <FooterIcon name={\"Account\"} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React from 'react';\r\n\r\nexport default function ItemQueryContainer({ itemType, items, itemInput, onClickFunc }) {\r\n    const filterdItems = itemInput === \"\" ? [] : items.filter(({ name }) => (name.trim().toLowerCase().includes(itemInput)))\r\n    return (\r\n        <div className=\"item-serach__section\">\r\n            <h3>{itemType}</h3>\r\n            <div className=\"item-serach__items\">\r\n                {filterdItems.length > 0 ?\r\n                    filterdItems.map(({ name, id, picture }) => (\r\n                        <div key={nanoid()} className=\"item-search__item\" onClick={onClickFunc} id={id}>\r\n                            <img className=\"item-search__image\" src={picture} alt=\"serach\" />\r\n                            <div>{name}</div>\r\n                        </div>\r\n                    ))\r\n                    : \"No \" + itemType + \" match the search\"\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { getMovieByID } from '../../server/utils';\r\nimport ItemQueryContainer from './ItemQueryContainer';\r\n\r\nexport default function ItemSearch({ itemInput, setOnInput, setIsQuery, }) {\r\n    const history = useHistory();\r\n    const { contentData } = useContext(DataContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickMovie = (event) => {\r\n        const target = event.target\r\n        const element = target.children[0] ? target : target.parentElement;\r\n        const { description, comments, id } = getMovieByID(element.id, contentData.moviesData)\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"Movie\",\r\n            props: { description, comments, id }\r\n        }));\r\n    };\r\n    const onClickNews = (event) => {\r\n        const target = event.target;\r\n        const element = target.children[0] ? target : target.parentElement;\r\n        setOnInput(false);\r\n        setIsQuery(false);\r\n        history.push(`/news/article/${element.id}`);\r\n    };\r\n    return (\r\n        <div className=\"item-serach__container\">\r\n            <ItemQueryContainer\r\n                itemType={\"Movies\"}\r\n                items={contentData.moviesData}\r\n                itemInput={itemInput}\r\n                onClickFunc={onClickMovie}\r\n            />\r\n\r\n            <ItemQueryContainer\r\n                itemType={\"News\"}\r\n                items={contentData.newsData}\r\n                itemInput={itemInput}\r\n                onClickFunc={onClickNews}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function LoaderContainer() {\r\n    return (\r\n        <div className=\"loader-container\">\r\n            <div className=\"loader\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport ItemSearch from './ItemSearch';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { logoutAction, setWindowAction } from '../../actions/UserActions';\r\nimport { logout } from '../../server/login';\r\nimport { getAllData } from '../../server/utils';\r\nimport LoaderContainer from './LoaderContainer';\r\nimport { setDataAction } from '../../actions/DataActions';\r\nexport default function Header() {\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const { contentDataDispatch } = useContext(DataContext);\r\n    const [componentOn, setComponentOn] = useState(false);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [isQuery, setIsQuery] = useState(false);\r\n    const [onInput, setOnInput] = useState(false);\r\n    const [itemInput, setItemInput] = useState('')\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        setComponentOn(true);\r\n        userDataDispatch(setWindowAction(window.innerWidth));\r\n        if (componentOn) getAllData().then((res) => {\r\n            contentDataDispatch(setDataAction(res))\r\n            setIsLoaded(true)\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n        return () => {\r\n            setComponentOn(false);\r\n        }\r\n    }, [userDataDispatch, contentDataDispatch, componentOn]);\r\n\r\n    const onInputQuery = (event) => {\r\n        const input = event.target.value.trim().toLowerCase();\r\n        setItemInput(input);\r\n        setIsQuery(input !== \"\" ? true : false)\r\n    };\r\n\r\n    const onClickCancel = (event) => {\r\n        event.target.previousSibling.value = \"\";\r\n        setIsQuery(false);\r\n    };\r\n\r\n    const onClickLogo = () => {\r\n        history.push('/movies');\r\n    };\r\n\r\n    const onFocusInput = () => {\r\n        setOnInput(true);\r\n    };\r\n\r\n    const onClickCancelQuery = (event) => {\r\n        setOnInput(false);\r\n        setIsQuery(false);\r\n        const queryInput = event.target.previousSibling.children[0].children[1];\r\n        queryInput.value = \"\";\r\n    };\r\n\r\n    const onClickLogout = async () => {\r\n        try {\r\n            await logout(userData.token, userData.isAdmin);\r\n            userDataDispatch(logoutAction());\r\n            history.push('/movies');\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"header__container\">\r\n            <div className=\"header\">\r\n                <img className=\"header__logo\" src=\"./icons/header/logo.png\" alt=\"logo\" onClick={onClickLogo} />\r\n                <div className=\"header__search_bar\">\r\n                    <div className=\"bar\">\r\n                        <img className=\"find-icon\" src=\"./icons/header/find_icon.png\" alt=\"find\" />\r\n                        <input placeholder=\"Movies and News\"\r\n                            onInput={onInputQuery}\r\n                            onFocus={onFocusInput}\r\n                        />\r\n                        {isQuery && <div className=\"cancel-query\" onClick={onClickCancel} ></div>}\r\n                    </div>\r\n                </div>\r\n                {onInput && <div className=\"cancel-item-serach\" onClick={onClickCancelQuery}>Cancel</div>}\r\n                {!onInput && <div className=\"nav__bar\">\r\n                    <div className=\"nav__link\"><NavLink to=\"/movies\" className=\"a_nav\" activeClassName=\"a_nav__active\">Movies</NavLink></div>\r\n                    <div className=\"nav__link\"><NavLink to=\"/theaters\" className=\"a_nav\" activeClassName=\"a_nav__active\">Theaters</NavLink></div>\r\n                    <div className=\"nav__link\"><NavLink to=\"/news\" className=\"a_nav\" activeClassName=\"a_nav__active\">News</NavLink></div>\r\n                    <NavLink className=\"account_logo\" to=\"/account\">                    <img src=\"./icons/header/‏‏account_icon__header.png\" alt=\"account_logo\" />\r\n                    </NavLink>\r\n                </div>}\r\n            </div>\r\n            {userData.loggedIn && <div className=\"logout\" onClick={onClickLogout}>Logout</div>}\r\n            {onInput && <ItemSearch itemInput={itemInput} setOnInput={setOnInput} setIsQuery={setIsQuery} />}\r\n            {!isLoaded && <LoaderContainer />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\n\r\nexport default function Ratings({ criticsRatings, audienceRatings, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const getTomatoIcon = (rating) => {\r\n        if (rating >= 0.9) return 'med-tomato';\r\n        if (rating >= 0.6) return 'good-tomato';\r\n        else return 'rotten-tomato';\r\n    };\r\n\r\n    const onClickAddComment = () => {\r\n        modalDataDispatch(goForwardAction(\r\n            { elementName: 'AddComment', props: { id } }\r\n        ));\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"movie-ratings__container\">\r\n            <div className=\"movie-ratings__data\">\r\n                <div className=\"movie-ratings__critics\">\r\n                    <div className=\"movie-ratings__icon\">\r\n                        <img src={\"./icons/ratings/\" + getTomatoIcon(criticsRatings) + \".png\"} alt=\"audience-icon\" />\r\n                    </div>\r\n                    <div className=\"movie-ratings__legend\">{Math.round(criticsRatings * 100)}%</div>\r\n                </div>\r\n                <div className=\"movie-ratings__audience\">\r\n                    <div className=\"movie-ratings__icon\">\r\n                        <img src={\"./icons/ratings/\" + (audienceRatings > 0.5 ? \"good\" : \"bad\") + \"-popcorn.png\"} alt=\"audience-icon\" />\r\n                    </div>\r\n                    <div className=\"movie-ratings__legend\">{Math.round(audienceRatings * 100)}%</div>\r\n                </div>\r\n            </div>\r\n            {(userData.loggedIn && !userData.isAdmin) &&\r\n                <div className=\"movie-ratings__buttons\">\r\n                    <button onClick={onClickAddComment} className=\"add-comment-button__text\">Add Comment</button>\r\n                    <button onClick={onClickAddComment} className=\"add-comment-button__plus\">+</button>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Ratings from './Ratings';\r\n\r\n\r\n\r\nexport default function MovieItem({ id, description, name, ratings, comments, picture }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickMovie = () => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"Movie\",\r\n            props: { description, comments, id }\r\n        }));\r\n    };\r\n    return (\r\n        <div className=\"item\">\r\n            <div className=\"poster__container\" onClick={onClickMovie}>\r\n                <img className=\"poster\" src={picture || \"./movies-images/movies-icon.png\"} alt=\"movie-poster\" />\r\n            </div>\r\n            <Ratings\r\n                criticsRatings={ratings.critics}\r\n                audienceRatings={ratings.audience}\r\n                id={id}\r\n            />\r\n            <div className=\"movie-name\" onClick={onClickMovie}>{name}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function ScrollRight({ scrollBy }) {\r\n    const onClickScrollRight = (event) => {\r\n        const element = event.target.previousSibling ? event.target : event.target.parentElement;\r\n        const container = element.previousSibling;\r\n        container.scrollBy({ top: 0, left: scrollBy, behavior: 'smooth' });\r\n    };\r\n    return (\r\n        <div className=\"scroll-button\" onClick={onClickScrollRight}>\r\n            <span className=\"scroll-button__right\" />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function ScrollRight({ scrollBy }) {\r\n\r\n    const onClickScrollLeft = (event) => {\r\n        const element = event.target.nextSibling ? event.target : event.target.parentElement;\r\n        const container = element.nextSibling;\r\n        container.scrollBy({ top: 0, left: -scrollBy, behavior: 'smooth' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"scroll-button\" onClick={onClickScrollLeft}>\r\n            <span className=\"scroll-button__left\" />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport MovieItem from './MovieItem'\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport ScrollRight from '../main/ScrollRight';\r\nimport ScrollLeft from '../main/ScrollLeft';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../contexts/DataContext';\r\n\r\nexport default function MoviesSection({ section, getMoviesFunc }) {\r\n    const { userData } = useContext(UserContext);\r\n    const { contentData } = useContext(DataContext);\r\n    const scrollBy = (userData.windowWidth) * 24 / 100;\r\n    const displayMovies = getMoviesFunc(contentData.moviesData, contentData.availabilityData);\r\n    return (\r\n        <div className=\"now-playing\">\r\n            <h3>{section}</h3>\r\n            <div className=\"container__box\">\r\n                <ScrollLeft scrollBy={scrollBy} />\r\n                <div className=\"item__container\">\r\n\r\n                    {displayMovies.length > 0 ? displayMovies.map(({ id, description, name, ratings, comments, picture }, i) => (\r\n\r\n                        <MovieItem key={nanoid()}\r\n                            id={id}\r\n                            description={description}\r\n                            name={name}\r\n                            ratings={ratings}\r\n                            comments={comments}\r\n                            picture={picture}\r\n\r\n                        />\r\n                    )) :\r\n                        \"No Available Movies \"}\r\n\r\n\r\n                </div>\r\n                <ScrollRight scrollBy={scrollBy} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MoviesSection from './MoviesSection';\r\nimport { getUnavailableMovies } from '../../server/utils';\r\n\r\n\r\nexport default function ComingSoon() {\r\n    return (\r\n        <MoviesSection\r\n            section={\"Coming Soon\"}\r\n            getMoviesFunc={getUnavailableMovies}\r\n        />\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MoviesSection from './MoviesSection';\r\nimport { getAvailableMovies } from '../../server/utils';\r\n\r\n\r\nexport default function NowPlaying() {\r\n    return (\r\n        <MoviesSection\r\n            section={\"Now Playing\"}\r\n            getMoviesFunc={getAvailableMovies}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport ComingSoon from './ComingSoon'\r\nimport NowPlaying from './NowPlaying'\r\nimport Modal from '../main/Modal';\r\n\r\n\r\n\r\nexport default function Movies() {\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"movies__container\">\r\n            <NowPlaying />\r\n            <ComingSoon />\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nexport default function News() {\r\n\r\n    const { contentData } = useContext(DataContext);\r\n    const history = useHistory();\r\n    const news = contentData.newsData;\r\n    const onClickArticle = (event) => {\r\n        const element = event.target.children[0] ?\r\n            event.target :\r\n            event.target.parentElement;\r\n        const id = element.id;\r\n        history.push(`/news/article/${id}`);\r\n    }\r\n    return (\r\n        <div className=\"news__main\">\r\n            <div className=\"news__container\">\r\n                {news.map(({ name, picture, id }) => (\r\n                    <div key={id} id={id} className=\"article\" onClick={onClickArticle}>\r\n                        <img src={picture || './news-images/non-picture.jpg'} alt=\"article_pitcure\" />\r\n                        <h1>{name}</h1>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\n\r\nexport default function MovieInTheater({ name, slots, id, picture, description, movieID }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n\r\n    const getSlots = (slots) => {\r\n        let result = 'Days: ';\r\n        for (let slot of slots[0]) {\r\n            const key = Object.keys(slot);\r\n            result += `${key[0]}, `;\r\n        }\r\n        result.substring(0, result.length - 2)\r\n        return result.substring(0, result.length - 2);\r\n    };\r\n\r\n    const onClickMovie = () => {\r\n        const children = {\r\n            elementName: 'ShowMovieDetails',\r\n            props: {\r\n                name,\r\n                slots,\r\n                description,\r\n                movieID,\r\n                theaterID: id\r\n            }\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    }\r\n    return (\r\n        <div className=\"theater__movie\" onClick={onClickMovie}>\r\n            <h4>{name}</h4>\r\n            <div className=\"poster__container\">\r\n                <img className=\"poster\" src={picture || \"./movies-images/movies-icon.png\"} alt=\"movie-poster\" />\r\n            </div>\r\n            {/* {slots.length > 0 &&\r\n                <div className=\"time-slot\">\r\n                    {getSlots(slots)}\r\n                </div>\r\n            } */}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport MovieInTheater from './MovieInTheater';\r\nimport { getMovieAvailability } from '../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\nimport ScrollRight from '../main/ScrollRight';\r\nimport ScrollLeft from '../main/ScrollLeft';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\nexport default function Theater({ id, name, movies }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const scrollBy = (userData.windowWidth) * 24 / 100;\r\n\r\n    const getMovieSpecs = (movieID) => {\r\n        return (contentData.moviesData.filter(({ id }) => (id === movieID)))[0];\r\n    };\r\n\r\n\r\n\r\n\r\n    const getMovies = (movies) => {\r\n        const result = [];\r\n        for (let movieID of movies) {\r\n            const movie = { id: movieID };\r\n            const movieSpecs = getMovieSpecs(movieID);\r\n            if (movieSpecs) {\r\n                const { name, picture, description } = movieSpecs; //ratings\r\n                movie.name = name;\r\n                movie.picture = picture;\r\n                movie.description = description;\r\n                movie.slots = getMovieAvailability(movieID, id, contentData.availabilityData)\r\n                result.push(movie);\r\n            }\r\n\r\n        }\r\n        return result;\r\n    };\r\n    const moviesToDisplay = getMovies(movies);\r\n    return (\r\n        <div className=\"theater\" >\r\n            <h3>{name}</h3>\r\n            <div className=\"container__box\">\r\n                <ScrollLeft scrollBy={scrollBy} />\r\n                <div className=\"theater__movies__container\">\r\n\r\n                    {moviesToDisplay.length > 0 && moviesToDisplay.map(\r\n                        (movie, i) =>\r\n                        (<MovieInTheater\r\n                            key={nanoid()}\r\n                            name={movie.name}\r\n                            picture={movie.picture}\r\n                            description={movie.description}\r\n                            slots={movie.slots}\r\n                            id={id}\r\n                            movieID={movie.id}\r\n                        />)\r\n                    )\r\n                    }\r\n                </div>\r\n                <ScrollRight scrollBy={scrollBy} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { setLocationAction } from '../../actions/UserActions';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Theater from './Theater';\r\nimport Modal from '../main/Modal';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function ShowTheaters({ theaters, location }) {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalData } = useContext(ModalContext);\r\n    const onClickChangeLocation = () => {\r\n        userDataDispatch(setLocationAction(''));\r\n    }\r\n\r\n    return (\r\n        <div className=\"theaters__container\">\r\n            <div className=\"theaters__location\">\r\n                <h3>Theaters in {location}</h3>\r\n                <div className=\"change-location\" onClick={onClickChangeLocation}>Change Location</div>\r\n            </div>\r\n            {theaters.length > 0 ? theaters.map(\r\n                (theater) =>\r\n                (<Theater\r\n                    key={nanoid()}\r\n                    id={theater.id}\r\n                    name={theater.name}\r\n                    movies={theater.movies}\r\n                />)\r\n            ) :\r\n                <h3>No theaters available.</h3>}\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport ShowTheaters from './ShowTheaters';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { setLocationAction } from '../../actions/UserActions';\r\nimport { nanoid } from 'nanoid';\r\nimport { DataContext } from '../../contexts/DataContext';\r\n\r\n\r\n\r\n\r\nexport default function Theaters() {\r\n    const { contentData } = useContext(DataContext);\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const getTheaters = (requestedLocation) => {\r\n        return contentData.theatersData.filter(({ location }) => (location === requestedLocation));\r\n    };\r\n    const locations = contentData.locationsData;\r\n    const onClickLocation = (event) => {\r\n        const location = event.target.previousSibling.value;\r\n        userDataDispatch(setLocationAction(location));\r\n    }\r\n    return (\r\n        <div className=\"theaters__main\">\r\n            {userData.location === '' && <div className=\"pick-location\">\r\n                <h3>Pick a location:</h3>\r\n                <select>\r\n                    {locations.map((location, i) =>\r\n                        (<option key={nanoid()}>{location}</option>)\r\n                    )}\r\n                </select>\r\n                <button onClick={onClickLocation}>Go</button>\r\n            </div>}\r\n            {userData.location !== '' && <ShowTheaters\r\n                theaters={getTheaters(userData.location)}\r\n                location={userData.location}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { DataContext } from '../../contexts/DataContext';\r\nimport { getArticleByid } from '../../server/utils';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Modal from '../main/Modal';\r\n\r\n\r\nexport default function Article({ id }) {\r\n    const { contentData } = useContext(DataContext);\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n    const { name, subTitle, picture, article } = getArticleByid(id, contentData.newsData);\r\n    return (\r\n        <div className=\"article__main\">\r\n            <h2>{name}</h2>\r\n            <h4>{subTitle}</h4>\r\n            <img src={picture || './news-images/non-picture.jpg'} alt=\"article_picture\" />\r\n            <p>{article}</p>\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { DataContext } from '../contexts/DataContext';\r\nimport { getArticleByid } from '../server/utils';\r\n\r\nconst ArticleRoute = ({ component: Component, ...rest }) => {\r\n    const { contentData } = useContext(DataContext);\r\n\r\n    const id = document.location.pathname.replace('/news/article/', \"\");\r\n    const article = getArticleByid(id, contentData.newsData);\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            component={(props) => (\r\n                !!article ?\r\n                    <Component {...props} id={id} /> :\r\n                    <Redirect to={{ pathname: \"/news\" }} />\r\n\r\n            )}\r\n        />);\r\n};\r\n\r\nexport default ArticleRoute;\r\n","import React from 'react';\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport Account from '../components/account/Account';\r\nimport Footer from '../components/main/Footer';\r\nimport Header from '../components/main/Header';\r\nimport Movies from '../components/movies/Movies';\r\nimport News from '../components/news/News';\r\nimport Theaters from '../components/theaters/Theaters';\r\nimport ModalContextProvider from '../contexts/ModalContext';\r\nimport UserContextProvider from '../contexts/UserContext';\r\nimport DataContextProvider from '../contexts/DataContext';\r\nimport Article from '../components/news/Article';\r\nimport ArticleRoute from './ArticleRoute';\r\nexport default function AppRouter() {\r\n    return (\r\n        <BrowserRouter>\r\n            <ModalContextProvider>\r\n                <UserContextProvider>\r\n                    <DataContextProvider>\r\n                        <Header />\r\n                        <Switch>\r\n                            <Route path=\"/\" exact>\r\n                                <Redirect to=\"/movies\" />\r\n                            </Route>\r\n                            <Route path=\"/movies\" component={Movies} />\r\n                            <Route path=\"/account\" component={Account} />\r\n                            <ArticleRoute path=\"/news/article\" component={Article} />\r\n                            <Route path=\"/news\" component={News} />\r\n                            <Route path=\"/theaters\" component={Theaters} />\r\n                            <Route path=\"*\" component={Movies} />\r\n                        </Switch>\r\n                        <Footer />\r\n                    </DataContextProvider>\r\n                </UserContextProvider>\r\n            </ModalContextProvider>\r\n        </BrowserRouter >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport AppRouter from './routers/AppRouter'\r\nexport default function App() {\r\n  return (\r\n    <AppRouter />\r\n  )\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"./styles/styles.scss\";\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}