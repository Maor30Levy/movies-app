{"version":3,"sources":["actions/ModalActions.js","reducers/ModalReducer.js","contexts/ModalContext.js","reducers/UserReducer.js","contexts/UserContext.js","components/theaters/TimeSlot.js","components/theaters/ShowMovieDetails.js","components/theaters/Row.js","components/theaters/Seats.js","components/theaters/Reservation.js","components/main/Default.js","components/movies/StarRating.js","components/movies/AddComment.js","data/movies.js","data/availability.js","data/theaters.js","data/locations.js","server/utils.js","components/movies/ShowComments.js","components/movies/Movie.js","actions/UserActions.js","components/login/LoginForm.js","server/login.js","components/login/SubscribeForm.js","components/login/LoginPage.js","components/account/Menu.js","components/account/admin/QueryItems.js","components/account/admin/UpdateItem.js","components/account/admin/movies/UpdateMovie.js","components/account/admin/theaters/PickLocation.js","components/account/admin/theaters/UpdateTheater.js","components/account/admin/theaters/UpdateTheaterStats.js","reducers/SlotHoursReducer.js","contexts/SlotHoursContext.js","components/account/admin/theaters/AddHour.js","actions/SlotHoursActions.js","components/account/admin/theaters/UpdateTimeSlot.js","components/account/admin/theaters/UpdateAvailableTimeSlots.js","components/account/admin/theaters/AddLoction.js","components/account/admin/theaters/AddTheater.js","components/account/admin/theaters/AdjustTheaterDetails.js","components/account/admin/theaters/AddNewTheaterStats.js","components/account/admin/theaters/DeleteLocation.js","components/account/admin/ConfirmDelete.js","components/account/admin/theaters/DeleteTheater.js","components/account/admin/DeleteItems.js","components/account/admin/theaters/DeleteTheaters.js","components/main/Modal.js","components/account/admin/Setting.js","components/account/admin/AdminAccount.js","components/account/user/UserAccount.js","components/account/Account.js","components/main/FooterIcon.js","components/main/Footer.js","components/main/ItemSearch.js","components/main/Header.js","components/movies/Ratings.js","components/movies/MovieItem.js","components/movies/ComingSoon.js","components/main/ScrollRight.js","components/main/ScrollLeft.js","components/movies/NowPlaying.js","components/movies/Movies.js","components/news/News.js","components/theaters/MovieInTheater.js","components/theaters/Theater.js","components/theaters/ShowTheaters.js","components/theaters/Theaters.js","routers/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["goForwardAction","children","type","initialModalData","isModal","back","ModalReducer","modalData","action","result","elementName","props","concat","cell","pop","ModalContext","createContext","ModalContextProvider","useReducer","modalDataDispatch","Provider","value","initialUserData","loggedIn","isAdmin","activeUser","location","token","windowWidth","UserReducer","userData","user","UserContext","UserContextProvider","userDataDispatch","week","TimeSlot","slot","onClickFunc","day","Object","keys","onClickTime","event","className","length","map","show","i","id","onClick","startTime","nanoid","ShowMovieDetails","name","slots","useContext","onClickShowHours","seats","target","Row","row","onClickSeat","seat","Seats","Math","floor","push","slice","getRows","Reservation","Default","StarRating","rating","setRating","useState","active","setActive","onClickStar","parseInt","maxIndex","setChosenStar","AddComment","comment","setComment","onInput","input","disabled","request","console","log","moviesData","ratings","critics","audience","description","comments","availabilityData","timeSlot","theater","endTime","hasOpenSeats","theaters","movies","locations","getElementFromArray","array","key","filter","element","err","getMovieAvailability","movieID","theaterID","getMovies","getTheatersByLocation","getTheaterByID","getMovieByID","getLocations","ShowComments","showMore","setShowMore","moreClass","setMoreClass","Movie","allSlots","availableTheaters","includes","getMovieAvailabilityAll","onClickTheater","loginAction","setLocationAction","LoginForm","email","setEmail","password","setPassword","setIsAdmin","isEmailInputValid","setIsEmailInputValid","isPasswordInputValid","setIsPasswordInputValid","errorMessage","setErrorMessage","useEffect","onSubmitForm","a","preventDefault","resUserData","message","onSubmit","placeholder","onBlur","theEmail","trim","thePassword","onChange","checked","setIsLoginMode","SubscribeForm","inputClasses","setInputClasses","invalidMessages","setInvalidMessages","validInputs","setValidInputs","username","setUsername","setStateOfInputs","inputClass","isvalidInput","inputindex","newInavlidMessages","newInputClasses","newValidInputs","validateInput","isValueValidFunc","setValue","missingValueMessage","invalidValueMessage","onSubmitform","errorMessageArray","index","newUsername","newEmail","validator","isEmail","newPassword","test","passwordRepeated","LoginPage","state","needToLogin","isLoginMode","Menu","sections","onClickOption","title","QueryItems","itemType","getItems","inputType","setAbleSubmit","getItemsParams","isChecked","setIsChecked","items","diaplayItems","setDisplayItems","onChangeChecked","record","item","toLowerCase","UpdateItem","ableSubmit","UpdateMovie","undefined","PickLocation","clickLoactionFunc","onClickLocation","innerText","UpdateTheater","onClickSubmit","UpdateTheaterStats","nameValue","setNameValue","seatsValue","setSeatsValue","moviesList","setMoviesList","setValues","addMoreMovies","setAddMoreMovies","allMovies","displyMovies","setDisplayMovies","onClickRemove","parentElement","newMovieList","splice","onChangeMovieChecked","indexOf","onChangeValue","movie","theaterDetails","oldMoviesList","initialHoursData","hours","SlotHoursReducer","hoursData","SlotHoursContext","SlotHoursContextProvider","hoursDataDispatch","AddHour","removeHour","setHoursAction","UpdateTimeSlot","movieTimeSlots","setTimeSlots","getDays","displaySlots","setDisplaySlots","existingDays","setExistingDays","addDay","setAddDay","setDay","createSeats","seatsNum","h","e","hour","newHours","stopPropagation","firstChild","keyDay","showHours","hh","mm","sort","b","h1","split","h2","getHours","newSlots","UpdateAvailableTimeSlots","timeSlots","forEach","arrResult","getAllTheaterTimeSlots","newTimeSlots","setNewTimeSlots","isAllMoviesUpdated","setisAllMoviesUpdated","setNewSlots","update","AddLoction","setLocation","l","checkForExistingLocation","addNewLocation","AddTheater","AdjustTheaterDetails","onClickSubmitFunc","submitText","AddNewTheaterStats","addNewTheaterForm","setAddNewTheaterForm","theaterName","theaterLocation","addNewTheater","DeleteLocation","locationTheaters","deleteLocation","onDeleteFunc","onDeleteFuncData","ConfirmDelete","seperator","DeleteTheater","DeleteItems","onSubmitFunc","itemsToSubmit","DeleteTheaters","deleteTheaters","theatersNames","Modal","components","setChildren","React","createElement","Setting","section","sectionLower","src","alt","AdminAccount","UserAccount","Account","FooterIcon","nameLower","to","activeClassName","Footer","ItemSearch","Header","isQuery","setIsQuery","setOnInput","history","useHistory","window","innerWidth","onFocus","previousSibling","Ratings","criticsRatings","audienceRatings","onClickAddComment","round","MovieItem","onClickMovie","ComingSoon","ScrollRight","scrollBy","top","left","behavior","nextSibling","NowPlaying","getAvailableMovies","displayMovies","Movies","News","MovieInTheater","setModal","substring","getSlots","Theater","getMovieSpecs","moviesToDisplay","ShowTheaters","Theaters","requestedLocation","AppRouter","path","exact","component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1655e683.chunk.js","sourcesContent":["export const clearModalAction = () => ({\r\n    type: \"CLEAR\"\r\n});\r\n\r\nexport const goForwardAction = (children) => ({\r\n    type: \"FORWARD\",\r\n    children\r\n});\r\n\r\nexport const goBackAction = () => ({\r\n    type: \"BACK\"\r\n});","export const initialModalData = {\r\n    isModal: false,\r\n    children: null,\r\n    back: []\r\n};\r\n\r\n\r\nconst ModalReducer = (modalData, action) => {\r\n    switch (action.type) {\r\n        case \"CLEAR\":\r\n            return {\r\n                initialModalData\r\n            };\r\n        case \"FORWARD\":\r\n            let result = [];\r\n            let children;\r\n            if (!!modalData.children) {\r\n                children = {\r\n                    elementName: modalData.children.elementName,\r\n                    props: modalData.children.props\r\n                };\r\n                result = result.concat(!!modalData.back ? modalData.back : [], children);\r\n            }\r\n            return {\r\n                ...modalData,\r\n                isModal: true,\r\n                back: result,\r\n                children: action.children\r\n            };\r\n        case \"BACK\":\r\n            let back = modalData.back;\r\n            const cell = back.pop();\r\n            return {\r\n                ...modalData,\r\n                children: cell,\r\n                back\r\n            };\r\n        default:\r\n            return { ...modalData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default ModalReducer;","import React, { createContext, useReducer } from 'react';\r\nimport ModalReducer, { initialModalData } from '../reducers/ModalReducer';\r\n\r\nexport const ModalContext = createContext();\r\n\r\nconst ModalContextProvider = (props) => {\r\n    const [modalData, modalDataDispatch] = useReducer(ModalReducer, initialModalData);\r\n    return (\r\n        <ModalContext.Provider value={{ modalData, modalDataDispatch }}>\r\n            {props.children}\r\n        </ModalContext.Provider>\r\n    )\r\n};\r\n\r\nexport default ModalContextProvider;","export const initialUserData = {\r\n    loggedIn: false,\r\n    isAdmin: false,\r\n    activeUser: '',\r\n    location: '',\r\n    token: '',\r\n    windowWidth: null,\r\n\r\n};\r\n\r\nconst UserReducer = (userData, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN\":\r\n            return {\r\n                ...userData,\r\n                loggedIn: true,\r\n                activeUser: action.user.user,\r\n                token: action.user.token,\r\n                isAdmin: action.isAdmin\r\n            };\r\n        case \"WINDOW\":\r\n            return {\r\n                ...userData,\r\n                windowWidth: action.windowWidth\r\n            };\r\n        case \"LOGOUT\":\r\n            return {\r\n                ...userData,\r\n                loggedIn: false,\r\n                activeUser: '',\r\n                token: '',\r\n                isAdmin: false\r\n            };\r\n\r\n        case \"SET_LOCATION\":\r\n            return {\r\n                ...userData,\r\n                location: action.location\r\n            };\r\n\r\n        default:\r\n            return { ...userData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default UserReducer;","import React, { createContext, useReducer } from 'react';\r\nimport UserReducer, { initialUserData } from '../reducers/UserReducer';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = (props) => {\r\n    const [userData, userDataDispatch] = useReducer(UserReducer, initialUserData);\r\n    return (\r\n        <UserContext.Provider value={{ userData, userDataDispatch }}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n};\r\n\r\nexport default UserContextProvider;","import React, { useContext } from 'react';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n    \"Friday\", \"Saturday\", \"Sunday\",];\r\n\r\nexport default function TimeSlot({ slot, onClickFunc }) {\r\n    const day = (Object.keys(slot))[0];\r\n    const onClickTime = (event) => {\r\n        onClickFunc(event, slot);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"time-slot\">\r\n            <div className=\"time-slot__day\">{week[day - 1]}</div>\r\n            <div className=\"time-slot__container\">\r\n                {slot[day].length > 0 && slot[day].map((show, i) => (\r\n                    <div\r\n                        className=\"time-slot__hour\"\r\n                        key={nanoid()}\r\n                        id={i}\r\n                        onClick={onClickTime}>{show.startTime}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport TimeSlot from './TimeSlot';\r\nimport { nanoid } from 'nanoid';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nexport default function ShowMovieDetails({ name, slots }) {\r\n\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickShowHours = (event, slot) => {\r\n        const day = (Object.keys(slot))[0];\r\n        const seats = slot[day][event.target.id].seats;\r\n        modalDataDispatch(goForwardAction({ elementName: 'Seats', props: { seats } }));\r\n    };\r\n    return (\r\n        <div>\r\n            <div className=\"description__container\">\r\n                Description\r\n            </div>\r\n            <div>\r\n                {slots.length > 0 ?\r\n                    slots[0].map((slot, i) => (<TimeSlot key={nanoid()} slot={slot} onClickFunc={onClickShowHours} />))\r\n                    : \"No Available Time Slots.\"}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\nexport default function Row({ seats, row }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickSeat = (event) => {\r\n        const seat = event.target.id;\r\n        modalDataDispatch(goForwardAction({ elementName: 'Reservation', props: { row, seat } }));\r\n    }\r\n\r\n    return (\r\n        <div className=\"row__container\">\r\n            <div className=\"row__number\">{row}</div>\r\n            <div className=\"row\">\r\n                {seats.map((seat, i) => (\r\n                    <div\r\n                        id={i + 1}\r\n                        key={\"seat\" + i}\r\n                        className={(seat ? \"green\" : \"red\") + \" seat\"}\r\n                        onClick={seat ? onClickSeat : () => { }}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Row from './Row';\r\n\r\nexport default function Seats({ seats }) {\r\n    const getRows = (seats) => {\r\n        const result = []\r\n        for (let i = 0; i < seats.length;) {\r\n            const row = (Math.floor(i / 12) + 1);\r\n            result.push(<Row key={row} seats={seats.slice(i, i + 12)} row={row} />);\r\n            i += 12;\r\n        }\r\n        return result\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"seats\">\r\n            <div className=\"screen\"></div>\r\n            <div className=\"seats__container\">\r\n                {seats.length > 0 && getRows(seats).map((row) => (row))}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Reservation({ row, seat }) {\r\n    return (\r\n        <div>\r\n            Row: {row}, Seat: {seat}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Default() {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function StarRating({ rating, setRating }) {\r\n    const [active, setActive] = useState([\"\", \"\", \"\", \"\", \"\"]);\r\n    const setChosenStar = (maxIndex) => {\r\n        const result = [\"\", \"\", \"\", \"\", \"\"];\r\n        for (let i = 0; i < maxIndex; i++)result[i] = 'active';\r\n        setActive(result);\r\n    };\r\n\r\n    const onClickStar = (event) => {\r\n        const id = parseInt(event.target.id);\r\n        setChosenStar(id)\r\n        setRating(id);\r\n    };\r\n\r\n    const clearRating = () => {\r\n        setActive([\"\", \"\", \"\", \"\", \"\"]);\r\n        setRating(null);\r\n    }\r\n    return (\r\n        <div className=\"add-comment__rating\">\r\n            <div className=\"star-wrapper\">\r\n                <div onClick={onClickStar} className={\"fas fa-star s5 \" + active[4]} id=\"5\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s4 \" + active[3]} id=\"4\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s3 \" + active[2]} id=\"3\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s2 \" + active[1]} id=\"2\" />\r\n                <div onClick={onClickStar} className={\"fas fa-star s1 \" + active[0]} id=\"1\" />\r\n            </div>\r\n            {rating && <button onClick={clearRating}>Clear</button>}\r\n        </div>\r\n\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport StarRating from './StarRating';\r\nimport { nanoid } from 'nanoid';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\n\r\n\r\nexport default function AddComment() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [rating, setRating] = useState(null);\r\n    const [comment, setComment] = useState(null);\r\n    const onInputComment = (event) => {\r\n        const input = event.target.value\r\n        if (input === '') setComment(null);\r\n        else setComment(input);\r\n    };\r\n    const onClickSubmit = () => {\r\n        const request = {};\r\n        if (rating) request.rating = rating;\r\n        if (comment) request.comment = {\r\n            user: userData.activeUser,\r\n            comment,\r\n            id: nanoid()\r\n        };\r\n        console.log(request);\r\n        modalDataDispatch(clearModalAction());\r\n    }\r\n    return (\r\n        <div className=\"add-comment__container\">\r\n            <StarRating setRating={setRating} rating={rating} />\r\n            <div className=\"add-comment__comment\">\r\n                <textarea onInput={onInputComment}></textarea>\r\n            </div>\r\n            <button\r\n                disabled={!comment && !rating}\r\n                onClick={onClickSubmit}\r\n            >Submit</button>\r\n        </div>\r\n    )\r\n}\r\n","export const moviesData = [\r\n    {\r\n        id: \"01\",\r\n        name: \"Movie 1\",\r\n        ratings: { critics: 0.7, audience: 0.86 },\r\n        description: \"Description movie1\",\r\n        comments: [\r\n            {\r\n                user: \"User1\",\r\n                comment: \"Great!\",\r\n                id: \"111\"\r\n            },\r\n            {\r\n                user: \"User3\",\r\n                comment: \"Enumerating objects: 31, done Counting objects: 100% (31/31), done. Delta compression using up to 4 threads Compressing objects: 100% (17/17), done.  Writing objects: 100% (17/17), 2.08 KiB | 1.04 MiB/s, done. Total 17 (delta 10), reused 0 (delta 0), pack-reused 0 remote: Resolving deltas: 100% (10/10), completed with 10 local objects.\",\r\n                id: \"113\"\r\n            },]\r\n    },\r\n    {\r\n        id: \"02\",\r\n        name: \"Movie 2\",\r\n        ratings: { critics: 0.45, audience: 0.97 },\r\n        description: \"Description movie2\",\r\n        comments: [\r\n            {\r\n                user: \"User1\",\r\n                comment: \"Geret\",\r\n                id: \"111\"\r\n            },\r\n            {\r\n                user: \"User2\",\r\n                comment: \"Not Great\",\r\n                id: \"112\"\r\n            },\r\n            {\r\n                user: \"User3\",\r\n                comment: \"Awsome!\",\r\n                id: \"113\"\r\n            },]\r\n    },\r\n    {\r\n        id: \"03\",\r\n        name: \"Movie 3\",\r\n        ratings: { critics: 0.67, audience: 0.42 },\r\n        description: \"Description movie3\",\r\n        comments: [\r\n            {\r\n                user: \"User2\",\r\n                comment: \"Not Great\",\r\n                id: \"112\"\r\n            },\r\n            {\r\n                user: \"User3\",\r\n                comment: \"Awsome!\",\r\n                id: \"113\"\r\n            },]\r\n    },\r\n    {\r\n        id: \"04\",\r\n        name: \"Movie 4\",\r\n        ratings: { critics: 0.67, audience: 0.42 },\r\n        description: \"Description movie4\",\r\n        comments: [\r\n            {\r\n                user: \"User1\",\r\n                comment: \"Geret\",\r\n                id: \"111\"\r\n            },\r\n            {\r\n                user: \"User3\",\r\n                comment: \"Awsome!\",\r\n                id: \"113\"\r\n            },]\r\n    },\r\n];","export const availabilityData = [\r\n    {\r\n        id: \"01\",\r\n        timeSlot: [\r\n            {\r\n                theater: \"001\",\r\n                slots:\r\n                    [\r\n                        {\r\n                            1: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true, true, true, true, true, true, false, true, true,\r\n                                        true, true, false, true, true, true, true, true, true, true, true, true,\r\n                                        false, true, true, true, true, true, true, true, true, true, true, false,\r\n                                        true, true, true, false, true, true, true, true, true, true, true, true,\r\n                                        true, false, true, true, true, true, false, true, true, true, true, true,\r\n                                        true, true, true, true,\r\n                                    ]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            3: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            5: [\r\n                                {\r\n                                    startTime: \"19:00\",\r\n                                    endTime: \"22:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"20:00\",\r\n                                    endTime: \"23:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"21:00\",\r\n                                    endTime: \"24:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                    ]\r\n\r\n                ,\r\n                hasOpenSeats: true\r\n            },\r\n            {\r\n                theater: \"002\",\r\n                slots:\r\n                    [\r\n                        {\r\n                            1: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            3: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            7: [\r\n                                {\r\n                                    startTime: \"19:00\",\r\n                                    endTime: \"22:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"20:00\",\r\n                                    endTime: \"23:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"21:00\",\r\n                                    endTime: \"24:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },]\r\n\r\n\r\n                ,\r\n                hasOpenSeats: true\r\n            },\r\n            {\r\n                theater: \"003\",\r\n                slots:\r\n\r\n                    [\r\n                        {\r\n                            1: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            3: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            7: [\r\n                                {\r\n                                    startTime: \"19:00\",\r\n                                    endTime: \"22:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"20:00\",\r\n                                    endTime: \"23:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"21:00\",\r\n                                    endTime: \"24:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n\r\n                    ]\r\n                ,\r\n                hasOpenSeats: true\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: \"02\",\r\n        timeSlot: [\r\n            {\r\n                theater: \"001\",\r\n                slots:\r\n                    [\r\n                        {\r\n                            1: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            3: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            5: [\r\n                                {\r\n                                    startTime: \"19:00\",\r\n                                    endTime: \"22:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"20:00\",\r\n                                    endTime: \"23:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"21:00\",\r\n                                    endTime: \"24:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },]\r\n\r\n\r\n                ,\r\n                hasOpenSeats: true\r\n            },\r\n            {\r\n                theater: \"003\",\r\n                slots:\r\n                    [\r\n                        {\r\n                            1: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            3: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            7: [\r\n                                {\r\n                                    startTime: \"19:00\",\r\n                                    endTime: \"22:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"20:00\",\r\n                                    endTime: \"23:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"21:00\",\r\n                                    endTime: \"24:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n\r\n                    ]\r\n                ,\r\n                hasOpenSeats: true\r\n                ,\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        id: \"03\",\r\n        timeSlot: [\r\n            {\r\n                theater: \"001\",\r\n                slots:\r\n\r\n                    [{\r\n                        1: [\r\n                            {\r\n                                startTime: \"9:00\",\r\n                                endTime: \"12:00\",\r\n                                seats: [true, true, true, true]\r\n                            },\r\n                            {\r\n                                startTime: \"10:00\",\r\n                                endTime: \"13:00\",\r\n                                seats: [true, true, true, true]\r\n                            },\r\n                            {\r\n                                startTime: \"12:00\",\r\n                                endTime: \"15:00\",\r\n                                seats: [true, true, true, true]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        3: [\r\n                            {\r\n                                startTime: \"9:00\",\r\n                                endTime: \"12:00\",\r\n                                seats: [true, true, true, true]\r\n                            },\r\n                            {\r\n                                startTime: \"10:00\",\r\n                                endTime: \"13:00\",\r\n                                seats: [true, true, true, true]\r\n                            },\r\n                            {\r\n                                startTime: \"12:00\",\r\n                                endTime: \"15:00\",\r\n                                seats: [true, true, true, true]\r\n                            }\r\n                        ]\r\n                    },\r\n                    {\r\n                        5: [\r\n                            {\r\n                                startTime: \"19:00\",\r\n                                endTime: \"22:00\",\r\n                                seats: [true, true, true, true]\r\n                            },\r\n                            {\r\n                                startTime: \"20:00\",\r\n                                endTime: \"23:00\",\r\n                                seats: [true, true, true, true]\r\n                            },\r\n                            {\r\n                                startTime: \"21:00\",\r\n                                endTime: \"24:00\",\r\n                                seats: [true, true, true, true]\r\n                            }\r\n                        ]\r\n                    },\r\n                    ],\r\n                hasOpenSeats: true\r\n            },\r\n            {\r\n                theater: \"002\",\r\n                slots:\r\n                    [\r\n                        {\r\n                            1: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            3: [\r\n                                {\r\n                                    startTime: \"9:00\",\r\n                                    endTime: \"12:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"10:00\",\r\n                                    endTime: \"13:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"12:00\",\r\n                                    endTime: \"15:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n                        {\r\n                            7: [\r\n                                {\r\n                                    startTime: \"19:00\",\r\n                                    endTime: \"22:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"20:00\",\r\n                                    endTime: \"23:00\",\r\n                                    seats: [true, true, true, true]\r\n                                },\r\n                                {\r\n                                    startTime: \"21:00\",\r\n                                    endTime: \"24:00\",\r\n                                    seats: [true, true, true, true]\r\n                                }\r\n                            ]\r\n                        },\r\n\r\n                    ]\r\n                ,\r\n                hasOpenSeats: true\r\n            },\r\n        ]\r\n    }\r\n]","export const theaters = [\r\n    {\r\n        id: \"001\",\r\n        name: \"Cinema City\",\r\n        location: 'Jerusalem',\r\n        movies: [\"01\", \"02\", \"03\"],\r\n        seats: 60\r\n    },\r\n    {\r\n        id: \"002\",\r\n        name: \"Cinema City\",\r\n        location: 'Rishon LeTzion',\r\n        movies: [\"01\", \"03\"],\r\n        seats: 60\r\n    },\r\n    {\r\n        id: \"003\",\r\n        name: \"Cinema City\",\r\n        location: 'Glilot',\r\n        movies: [\"01\", \"02\"],\r\n        seats: 60\r\n    },\r\n    {\r\n        id: \"004\",\r\n        name: \"Yes Planet\",\r\n        location: 'Jerusalem',\r\n        movies: [\"01\", \"02\"],\r\n        seats: 60\r\n    },\r\n    {\r\n        id: \"005\",\r\n        name: \"Rav-Hen\",\r\n        location: 'Jerusalem',\r\n        movies: [\"02\", \"03\"],\r\n        seats: 60\r\n    },\r\n];","export const locations = ['Jerusalem', 'Rishon LeTzion', 'Glilot'];","import { moviesData } from '../data/movies';\r\nimport { availabilityData } from '../data/availability';\r\nimport { theaters } from '../data/theaters';\r\nimport { locations } from '../data/locations';\r\n\r\nexport const getElementFromArray = (array, key, value) => {\r\n    try {\r\n        return array.filter((element) => (element[key] === value))[0];\r\n    } catch (err) {\r\n        return\r\n    }\r\n\r\n}\r\nexport const getMovieAvailability = (movieID, theaterID) => {\r\n    const movie = (availabilityData.filter(({ id }) => (id === movieID)))[0];\r\n    const availableSlots = movie.timeSlot.filter(({ theater, hasOpenSeats }) => (theater === theaterID && hasOpenSeats))\r\n    const result = availableSlots.map((slot) => (slot.slots))\r\n    return result;\r\n};\r\n\r\nexport const getMovies = () => {\r\n    return moviesData;\r\n};\r\n\r\nexport const getTheatersByLocation = (location) => {\r\n    return theaters.filter((theater) => (location === theater.location));\r\n};\r\n\r\nexport const getAllTheaterTimeSlots = (theaterID, movies) => {\r\n    const result = [];\r\n    movies.forEach((movie) => {\r\n        const arrResult = getElementFromArray(availabilityData, \"id\", movie) || { timeSlot: {} };\r\n        result.push({ movieID: movie, slots: getElementFromArray(arrResult.timeSlot, \"theater\", theaterID) || { theater: theaterID, slots: [] } })\r\n    })\r\n    return result;\r\n}\r\n\r\nexport const getTheaterByID = (theaterID) => {\r\n    try {\r\n        const { name, movies, seats } = theaters.filter(({ id }) => (theaterID === id))[0];\r\n        return { name, movies, seats }\r\n    } catch (err) {\r\n        return { name: \"\", movies: [], seats: 0 }\r\n    }\r\n};\r\n\r\nexport const getMovieByID = (movieID) => {\r\n    return getMovies().filter(({ id }) => (movieID === id))[0];\r\n};\r\n\r\nexport const getLocations = () => {\r\n    return locations;\r\n}\r\nexport const getAvailableMovies = () => {\r\n    const result = [];\r\n    getMovies().forEach((movie) => {\r\n        for (let timeSlot of availabilityData) {\r\n            if (movie.id === timeSlot.id) {\r\n                result.push(movie);\r\n                break;\r\n            }\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n\r\nexport const checkForExistingTheater = (theaterName, theaterLocation) => {\r\n    return theaters.filter(({ name, location }) => (\r\n        name === theaterName && location === theaterLocation\r\n    )).length > 0\r\n};\r\n\r\nexport const getMovieAvailabilityAll = (movieID) => {\r\n    const result = [];\r\n    const availableTheaters = theaters.filter(({ movies }) => (movies.includes(movieID)));\r\n    for (let theater of availableTheaters) result.push({ theater: theater.name, location: theater.location, slots: getMovieAvailability(movieID, theater.id) });\r\n    return result;\r\n};\r\n\r\nexport const addNewTheater = (theater) => {\r\n    console.log(theater);\r\n}\r\n\r\nexport const checkForExistingLocation = (location) => {\r\n    return locations.filter((l) => (\r\n        l === location\r\n    )).length > 0\r\n};\r\n\r\nexport const addNewLocation = (location) => {\r\n    console.log(location);\r\n}\r\n\r\nexport const deleteLocation = (location) => {\r\n    console.log(location);\r\n    const locationTheaters = getTheatersByLocation(location).map(({ id }) => (id)) || [];\r\n    console.log(locationTheaters);\r\n}\r\n\r\nexport const deleteTheaters = (theaters) => {\r\n    console.log(theaters);\r\n}","import React, { useState } from 'react'\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function ShowComments({ comments }) {\r\n    const [showMore, setShowMore] = useState(false);\r\n    const [moreClass, setMoreClass] = useState(\"comments\");\r\n    const onClickShow = () => {\r\n        setShowMore(!showMore);\r\n        setMoreClass(\"comments\" + (!showMore ? \" more\" : \"\"))\r\n    }\r\n    return (\r\n        <div className=\"comments__container\">\r\n            <h3>Comments</h3>\r\n            <div className={moreClass}>\r\n                {comments.map((comment, i) => (\r\n                    <div key={nanoid()} className=\"comment\">{comment.comment}</div>\r\n                ))}\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickShow}>\r\n                    {showMore ? \"Show Less Comments\" : \"Show More Comments\"}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { getMovieAvailabilityAll } from '../../server/utils';\r\nimport ShowComments from './ShowComments';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function Movie({ description, comments, id }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const allSlots = getMovieAvailabilityAll(id);\r\n\r\n    const onClickTheater = (event) => {\r\n        const { name, slots } = allSlots[event.target.id];\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ShowMovieDetails\",\r\n            props: { name, slots }\r\n        }));\r\n    }\r\n    return (\r\n        <div className=\"movie__container\">\r\n            <div className=\"description__container\">\r\n                {description}\r\n            </div>\r\n            <div className=\"theater-options\">\r\n                {allSlots.map(({ theater, location }, i) => (\r\n                    <div key={nanoid()}>\r\n                        <div className=\"modal__option\" onClick={onClickTheater} id={i}>\r\n                            {`${theater}, ${location}`}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div><ShowComments comments={comments} /></div>\r\n        </div>\r\n    )\r\n}\r\n","export const loginAction = (user, isAdmin) => ({\r\n    type: \"LOGIN\",\r\n    user,\r\n    isAdmin\r\n});\r\n\r\nexport const logoutAction = () => ({\r\n    type: \"LOGOUT\"\r\n});\r\n\r\nexport const setHeaderAction = (activeHeader) => ({\r\n    type: \"HEADER\",\r\n    activeHeader\r\n});\r\n\r\nexport const setWindowAction = (windowWidth) => ({\r\n    type: \"WINDOW\",\r\n    windowWidth\r\n});\r\n\r\nexport const setLocationAction = (location) => ({\r\n    type: \"SET_LOCATION\",\r\n    location\r\n});","import React, { useContext, useEffect, useState } from 'react';\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\nimport { loginAction } from '../../actions/UserActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { loginUser } from '../../server/login';\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [isEmailInputValid, setIsEmailInputValid] = useState(true);\r\n    const [isPasswordInputValid, setIsPasswordInputValid] = useState(true);\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    useEffect(() => {\r\n        if (props.errorMessage !== \"\") {\r\n            setErrorMessage(props.errorMessage)\r\n        }\r\n    }, [props.errorMessage])\r\n    const isFormInvalid = () => {\r\n        return email === '' || password === '';\r\n    };\r\n\r\n    const onBlurEmailInput = (event) => {\r\n        const theEmail = event.target.value.trim();\r\n        if (theEmail === '') {\r\n            setEmail('');\r\n            setIsEmailInputValid(false);\r\n        } else {\r\n            setEmail(theEmail);\r\n            setIsEmailInputValid(true);\r\n        }\r\n    }\r\n\r\n    const onBlurPasswordInput = (event) => {\r\n        const thePassword = event.target.value.trim();\r\n        setPassword(thePassword === '' ? '' : thePassword);\r\n        setIsPasswordInputValid(thePassword === '' ? false : true);\r\n    }\r\n\r\n    const onSubmitForm = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const resUserData = await loginUser({ email, password, isAdmin });\r\n            userDataDispatch(loginAction(resUserData, isAdmin));\r\n            modalDataDispatch(clearModalAction());\r\n        } catch (err) {\r\n            setErrorMessage(err.message);\r\n        }\r\n    };\r\n\r\n    const onClickSubscribe = () => {\r\n        props.setIsLoginMode(false);\r\n    };\r\n\r\n    const onChangeAdminLogin = (event) => {\r\n        setIsAdmin(event.target.checked);\r\n    };\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h3>Login</h3>\r\n            {\r\n                errorMessage !== '' && <div className=\"error-message\">{errorMessage}</div>\r\n            }\r\n            <form className=\"login-form\" onSubmit={onSubmitForm}>\r\n                <input placeholder=\"Email\" onBlur={onBlurEmailInput} />\r\n                {!isEmailInputValid && <div className=\"invalid-message\">You must enter your Email.</div>}\r\n                <input type=\"password\" placeholder=\"Password\" onBlur={onBlurPasswordInput} />\r\n                {!isPasswordInputValid && <div className=\"invalid-message\">You must enter your password.</div>}\r\n                <div className=\"login-admin\"><input type=\"checkbox\" onChange={onChangeAdminLogin} />Login as admin</div>\r\n                <div className=\"login-form__nav\">\r\n                    <button type=\"submit\" disabled={isFormInvalid()}>Submit</button>\r\n                    <div className=\"login-or-subscribe\" onClick={onClickSubscribe}>Subscribe</div>\r\n                </div>\r\n\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default LoginForm;","export const loginUser = (request) => {\r\n    return { user: \"avi\", token: \"111\" };\r\n};\r\n\r\nexport const subscribeUser = (request) => {\r\n    return request;\r\n};","import React, { useContext, useState } from 'react';\r\nimport validator from 'validator';\r\nimport { clearModalAction } from '../../actions/ModalActions';\r\nimport { loginAction } from '../../actions/UserActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { subscribeUser } from '../../server/login';\r\n\r\nconst SubscribeForm = (props) => {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [inputClasses, setInputClasses] = useState([\"\", \"\", \"\", \"\"]);\r\n    const [invalidMessages, setInvalidMessages] = useState([\"\", \"\", \"\", \"\"]);\r\n    const [validInputs, setValidInputs] = useState([false, false, false, false]);\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\");\r\n\r\n\r\n    const isFormInvalid = () => {\r\n        return validInputs.includes(false);\r\n    };\r\n\r\n    const setStateOfInputs = (message, inputClass, isvalidInput, inputindex) => {\r\n        const newInavlidMessages = [...invalidMessages];\r\n        const newInputClasses = [...inputClasses];\r\n        const newValidInputs = [...validInputs];\r\n        newInavlidMessages[inputindex] = message;\r\n        setInvalidMessages(newInavlidMessages);\r\n        newInputClasses[inputindex] = inputClass;\r\n        setInputClasses(newInputClasses);\r\n        newValidInputs[inputindex] = isvalidInput;\r\n        setValidInputs(newValidInputs);\r\n    };\r\n\r\n    const validateInput = (\r\n        value,\r\n        inputindex,\r\n        isValueValidFunc,\r\n        setValue,\r\n        missingValueMessage,\r\n        invalidValueMessage\r\n    ) => {\r\n\r\n\r\n        if (value.length > 0) {\r\n            if (isValueValidFunc(value)) {\r\n                setStateOfInputs(\"\", \"\", true, inputindex);\r\n                setValue(value);\r\n            } else {\r\n                setStateOfInputs(invalidValueMessage, \"input-invalid\", false, inputindex);\r\n            }\r\n        } else {\r\n            setStateOfInputs(missingValueMessage, \"input-invalid\", false, inputindex);\r\n        }\r\n    };\r\n\r\n    const onBlurUsername = (event) => {\r\n        const newUsername = event.target.value.trim();\r\n        const isUsenamevalid = (value) => {\r\n            return true;\r\n        };\r\n        validateInput(\r\n            newUsername,\r\n            0,\r\n            isUsenamevalid,\r\n            setUsername,\r\n            \"You must enter username\",\r\n            \"Username could not be MOSHE!!!\"\r\n        );\r\n    };\r\n\r\n    const onBlurEmail = (event) => {\r\n        const newEmail = event.target.value.trim();\r\n\r\n        validateInput(\r\n            newEmail,\r\n            1,\r\n            validator.isEmail,\r\n            setEmail,\r\n            \"You must enter your email\",\r\n            \"Email invalid\"\r\n        );\r\n    };\r\n\r\n    const onBlurPassword = (event) => {\r\n        const newPassword = event.target.value.trim();\r\n        const isPasswordValid = (value) => {\r\n            const passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/;\r\n            return passwordRegex.test(value);\r\n        };\r\n        validateInput(\r\n            newPassword,\r\n            2,\r\n            isPasswordValid,\r\n            setPassword,\r\n            \"You must enter password\",\r\n            \"Password must contain capital and regular characters, numbers and must have at least 8 characters\"\r\n        );\r\n    };\r\n\r\n    const onBlurPasswordRepeated = (event) => {\r\n        const passwordRepeated = event.target.value.trim();\r\n        const isPasswordRepeatedValid = () => {\r\n            return password === passwordRepeated;\r\n        };\r\n        validateInput(\r\n            passwordRepeated,\r\n            3,\r\n            isPasswordRepeatedValid,\r\n            () => { },\r\n            \"You must enter again your password\",\r\n            \"The two passwords not identical\"\r\n        );\r\n    };\r\n\r\n    const onSubmitform = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const request = { email, password, username };\r\n            const userData = await subscribeUser(request);\r\n            userDataDispatch(loginAction(userData));\r\n            modalDataDispatch(clearModalAction());\r\n\r\n        } catch (err) {\r\n            const errorMessageArray = [\"\", \"\", \"\", \"\"]\r\n            errorMessageArray[err.index || 3] = err.message;\r\n            setInvalidMessages(errorMessageArray)\r\n        }\r\n\r\n    };\r\n\r\n    const onClickLogin = () => {\r\n        props.setIsLoginMode(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-form\">\r\n            <h3>Subscribe</h3>\r\n            <form onSubmit={onSubmitform}>\r\n                <input placeholder=\"Username\" className={inputClasses[0]} onBlur={onBlurUsername} />\r\n                {invalidMessages[0] !== \"\" && <div className=\"invalid-message\">{invalidMessages[0]}</div>}\r\n                <input placeholder=\"Email\" className={inputClasses[1]} onBlur={onBlurEmail} />\r\n                {invalidMessages[1] !== \"\" && <div className=\"invalid-message\">{invalidMessages[1]}</div>}\r\n                <input type=\"password\" placeholder=\"Password\" className={inputClasses[2]} onBlur={onBlurPassword} />\r\n                {invalidMessages[2] !== \"\" && <div className=\"invalid-message\">{invalidMessages[2]}</div>}\r\n                <input type=\"password\" placeholder=\"Repeat on password\" className={inputClasses[3]} onBlur={onBlurPasswordRepeated} />\r\n                {invalidMessages[3] !== \"\" && <div className=\"invalid-message\">{invalidMessages[3]}</div>}\r\n                <div className=\"login-form__nav\">\r\n                    <button type=\"submit\" disabled={isFormInvalid()}>Submit</button>\r\n                    <div className=\"login-or-subscribe\" onClick={onClickLogin}>Login</div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubscribeForm;","import React, { useState } from 'react';\r\nimport LoginForm from './LoginForm';\r\nimport SubscribeForm from './SubscribeForm';\r\n\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    const errorMessage = props?.location?.state?.needToLogin ?\r\n        \"You need to login\" : \"\";\r\n    const [isLoginMode, setIsLoginMode] = useState(true);\r\n    return (\r\n        <div className={\"login-page\"}>\r\n            <div className=\"login-page__form\">\r\n                {isLoginMode ?\r\n                    <LoginForm setIsLoginMode={setIsLoginMode} errorMessage={errorMessage} /> :\r\n                    <SubscribeForm setIsLoginMode={setIsLoginMode} />}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default LoginPage;","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function Menu({ sections }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickOption = (event) => {\r\n\r\n        const { elementName, props } = sections[event.target.id];\r\n        const children = {\r\n            elementName,\r\n            props\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    };\r\n\r\n    return (\r\n        <div className=\"menu__container\">\r\n            {sections.length > 0 && sections.map(({ title }, i) => (\r\n                <button key={nanoid()} onClick={onClickOption} id={i}>{title}</button>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function QueryItems({ itemType, getItems, inputType, setAbleSubmit, getItemsParams, isChecked, setIsChecked }) {\r\n    const items = getItems(getItemsParams);\r\n    const [diaplayItems, setDisplayItems] = useState([...items]);\r\n\r\n\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayItems(items);\r\n            setAbleSubmit(Object.keys(isChecked).length > 0);\r\n        } else {\r\n            const filter = items.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayItems(filter);\r\n            setAbleSubmit((Object.keys(isChecked).length > 0) && (filter.length > 0))\r\n        }\r\n\r\n    };\r\n\r\n    const onChangeChecked = (event) => {\r\n        const id = event.target.id;\r\n        if (inputType === \"radio\") {\r\n            const record = {};\r\n            record[id] = true;\r\n            setAbleSubmit(true);\r\n            setIsChecked(record);\r\n        }\r\n        else if (inputType === \"checkbox\") {\r\n            if (event.target.checked) {\r\n                const record = isChecked;\r\n                record[id] = true;\r\n                setIsChecked(record);\r\n                setAbleSubmit(true);\r\n            } else {\r\n                const record = isChecked;\r\n                delete record[id];\r\n                setIsChecked(record);\r\n                setAbleSubmit(Object.keys(record).length > 0);\r\n            }\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"item-query\">\r\n            <div className=\"query\">\r\n                <input placeholder={\"Find \" + itemType} onInput={filterItems} />\r\n            </div>\r\n            <div className=\"options__container\">{\r\n                diaplayItems.map((item, i) => (\r\n                    <div key={nanoid()} className=\"query__option\">\r\n                        <input id={item.id} type={inputType} onChange={onChangeChecked} checked={!!isChecked[item.id]} /> {item.name}\r\n                    </div>\r\n                ))\r\n            }</div>\r\n        </div>\r\n    )\r\n};\r\n","import React, { useContext, useState } from 'react';\r\nimport { goForwardAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function UpdateItem({ itemType, getItems, elementName, getItemsParams, }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClichSubmit = () => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName,\r\n            props: { theaterID: Object.keys(isChecked)[0] }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={\"radio\"}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClichSubmit}>Update</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovies } from '../../../../server/utils';\r\nimport UpdateItem from '../UpdateItem';\r\n\r\nexport default function UpdateMovie() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const [isChecked, setIsChecked] = useState({});\r\n\r\n\r\n    const onClickSubmit = () => {\r\n        console.log('submit');\r\n    }\r\n\r\n    return (\r\n        <UpdateItem\r\n            itemType={\"Movies\"}\r\n            getItems={getMovies}\r\n            onSubmit={onClickSubmit}\r\n            getItemsParams={undefined}\r\n            isChecked={isChecked}\r\n            setIsChecked={setIsChecked}\r\n        />\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React from 'react';\r\nimport { getLocations } from '../../../../server/utils';\r\n\r\nexport default function PickLocation({ clickLoactionFunc }) {\r\n    const locations = getLocations();\r\n    const onClickLocation = (event) => {\r\n        const location = event.target.innerText;\r\n        clickLoactionFunc(location)\r\n    };\r\n    return (\r\n        <div className=\"pick-location__container\">\r\n            <h3>Pick a location:</h3>\r\n            <div>\r\n                {locations.length > 0 && locations.map((location) => (\r\n                    <div key={nanoid()} className=\"modal__option\" onClick={onClickLocation}>{location}</div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { getTheatersByLocation } from '../../../../server/utils';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport PickLocation from './PickLocation';\r\nexport default function UpdateTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickSubmit = () => {\r\n\r\n    }\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateItem\",\r\n            props: {\r\n                itemType: \"Theaters\",\r\n                getItems: getTheatersByLocation,\r\n                onSubmit: onClickSubmit,\r\n                getItemsParams: location,\r\n                elementName: \"UpdateTheaterStats\"\r\n            }\r\n        }))\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovieByID, getMovies, getTheaterByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function UpdateTheaterStats({ theaterID }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const { name, movies, seats } = getTheaterByID(theaterID);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [seatsValue, setSeatsValue] = useState(seats);\r\n    const [moviesList, setMoviesList] = useState(movies);\r\n    const setValues = [setNameValue, setSeatsValue];\r\n    const [addMoreMovies, setAddMoreMovies] = useState(false);\r\n    const allMovies = getMovies();\r\n    const [displyMovies, setDisplayMovies] = useState([...allMovies])\r\n\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayMovies(allMovies);\r\n\r\n        } else {\r\n            const filter = allMovies.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayMovies(filter);\r\n        }\r\n\r\n    };\r\n\r\n    const onClickRemove = (event) => {\r\n        const index = event.target.parentElement.id;\r\n        const newMovieList = [...moviesList];\r\n        newMovieList.splice(index, 1);\r\n        setMoviesList(newMovieList);\r\n        setAddMoreMovies(addMoreMovies || newMovieList.length === 0)\r\n\r\n    };\r\n\r\n    const onChangeMovieChecked = (event) => {\r\n        const index = moviesList.indexOf(event.target.id);\r\n        const newMovieList = [...moviesList];\r\n        if (index >= 0) {\r\n            newMovieList.splice(index, 1);\r\n            setMoviesList(newMovieList);\r\n        } else {\r\n\r\n            newMovieList.push(event.target.id)\r\n            setMoviesList(newMovieList);\r\n        }\r\n    }\r\n    const onChangeValue = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setValues[index](value);\r\n    };\r\n\r\n    const onClickAddMovies = () => {\r\n        setAddMoreMovies(!addMoreMovies);\r\n    };\r\n\r\n    const onClickUpdate = () => {\r\n        const theaterDetails = {\r\n            name: nameValue,\r\n            seats: parseInt(seatsValue),\r\n            movies: moviesList\r\n        };\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"UpdateAvailableTimeSlots\",\r\n            props: {\r\n                oldMoviesList: movies,\r\n                theaterDetails,\r\n                theaterID\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Theater Name: <input id=\"0\" value={nameValue} onChange={onChangeValue} /></div>\r\n            <div>Seats: <input id=\"1\" value={seatsValue} type=\"number\" onChange={onChangeValue} /></div>\r\n            <div className=\"movies-in-theater\">\r\n                {moviesList.map((movieID, i) => {\r\n                    const { name } = getMovieByID(movieID);\r\n                    return (<div className=\"listed-movie\" key={nanoid()} id={i} onClick={onClickRemove}>\r\n                        <div className=\"remove\">Remove</div>{name}\r\n                    </div>)\r\n                })}\r\n                <div>\r\n                    <button className=\"add-more-movies\" onClick={onClickAddMovies}>{\"Show \" + (!addMoreMovies ? \"More\" : \"Less\") + \" Movies\"}</button>\r\n                    {addMoreMovies && <div className=\"more-movies-container\">\r\n                        <div className=\"query\">\r\n                            <input placeholder={\"Find Movies\"} onInput={filterItems} />\r\n                        </div>\r\n                        {\r\n                            displyMovies.map((movie, i) => (\r\n                                <div key={nanoid()}>\r\n                                    <input id={movie.id} type=\"checkBox\" checked={moviesList.indexOf(movie.id) >= 0} onChange={onChangeMovieChecked} />{movie.name}\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickUpdate} disabled={moviesList.length === 0}>Update Available Time Slots</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const initialHoursData = {\r\n    hours: []\r\n};\r\n\r\n\r\nconst SlotHoursReducer = (hoursData, action) => {\r\n    switch (action.type) {\r\n        case \"SET\":\r\n            return {\r\n                ...hoursData,\r\n                hours: action.hours\r\n            };\r\n        default:\r\n            return { ...hoursData };\r\n\r\n    }\r\n};\r\n\r\n\r\nexport default SlotHoursReducer;","import React, { createContext, useReducer } from 'react';\r\nimport SlotHoursReducer, { initialHoursData } from '../reducers/SlotHoursReducer';\r\n\r\nexport const SlotHoursContext = createContext();\r\n\r\nconst SlotHoursContextProvider = (props) => {\r\n    const [hoursData, hoursDataDispatch] = useReducer(SlotHoursReducer, initialHoursData);\r\n    return (\r\n        <SlotHoursContext.Provider value={{ hoursData, hoursDataDispatch }}>\r\n            {props.children}\r\n        </SlotHoursContext.Provider>\r\n    )\r\n};\r\n\r\nexport default SlotHoursContextProvider;","import React, { useContext, useEffect } from 'react'\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\n\r\nexport default function AddHour({ removeHour, id }) {\r\n    const { hoursData, hoursDataDispatch } = useContext(SlotHoursContext)\r\n    useEffect(() => {\r\n\r\n    }, [hoursData.hours])\r\n\r\n    const onClickR = (event) => {\r\n        removeHour(event, hoursData.hours)\r\n    }\r\n    return (\r\n        <div className=\"add-time-slot__hour\" onClick={onClickR} id={id}>\r\n            <select>\r\n                <option>09</option><option>10</option><option>11</option>\r\n                <option>12</option><option>13</option><option>14</option><option>15</option>\r\n                <option>16</option><option>17</option><option>18</option>\r\n                <option>19</option><option>20</option>\r\n            </select><select>\r\n                <option>00</option><option>30</option>\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n","export const setHoursAction = (hours) => ({\r\n    type: \"SET\",\r\n    hours\r\n});\r\n","import React, { useContext, useState } from 'react'\r\nimport { getMovieByID } from '../../../../server/utils'\r\nimport { nanoid } from 'nanoid';\r\nimport TimeSlot from '../../../theaters/TimeSlot';\r\nimport AddHour from './AddHour';\r\nimport { SlotHoursContext } from '../../../../contexts/SlotHoursContext';\r\nimport { setHoursAction } from '../../../../actions/SlotHoursActions';\r\n\r\nexport default function UpdateTimeSlot({ movieTimeSlots, seats, setTimeSlots, index }) {\r\n    const { hoursData, hoursDataDispatch } = useContext(SlotHoursContext)\r\n    const { name } = getMovieByID(movieTimeSlots.movieID);\r\n    const week = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\",\r\n        \"Friday\", \"Saturday\", \"Sunday\",];\r\n    const getDays = (displaySlots) => {\r\n        const result = [];\r\n        for (let slot of displaySlots[0])\r\n            result.push(parseInt(Object.keys(slot)[0]) - 1)\r\n        return result;\r\n    }\r\n\r\n    const slots = [movieTimeSlots.slots?.slots];\r\n    const [displaySlots, setDisplaySlots] = useState([...slots]);\r\n    const [existingDays, setExistingDays] = useState(getDays(displaySlots));\r\n    const [addDay, setAddDay] = useState(false);\r\n    const [day, setDay] = useState('Pick A Day');\r\n\r\n    const onSelectDay = (event) => {\r\n        setDay(event.target.value);\r\n    };\r\n\r\n    const onClickaddDay = () => {\r\n        setAddDay(existingDays.length < 7)\r\n    };\r\n\r\n\r\n    const getHours = (hours) => {\r\n        const result = [];\r\n        for (let hour of hours) {\r\n            const slot = {}\r\n            const hh = parseInt(hour.children[0].value);\r\n            const mm = hour.children[1].value;\r\n            slot.startTime = `${hh}:${mm}`;\r\n            slot.endTime = `${hh + 3}:${mm}`;\r\n            slot.seats = createSeats(seats);\r\n            result.push(slot);\r\n        }\r\n        result.sort((a, b) => {\r\n            const h1 = a.startTime.split(':');\r\n            const h2 = b.startTime.split(':');\r\n            return (parseInt(h1[0]) > parseInt(h2[0]))\r\n        })\r\n        return result;\r\n    };\r\n\r\n    const createSeats = (seatsNum) => {\r\n        const seats = [];\r\n        for (let i = 0; i < seatsNum; i++)seats.push(true);\r\n        return seats;\r\n    };\r\n\r\n    const onClickSubmitDay = (event) => {\r\n        console.log(displaySlots)\r\n        const day = event.target.parentElement.firstChild.value;\r\n        const keyDay = week.indexOf(day) + 1;\r\n        const hoursContainerElement = event.target.parentElement.children[1];\r\n        const showHours = getHours(hoursContainerElement.children);\r\n        const slot = {};\r\n        slot[keyDay] = showHours;\r\n        const newSlots = [...displaySlots[0]];\r\n        newSlots.push(slot);\r\n        newSlots.sort((a, b) => (Object.keys(a)[0] > Object.keys(b)[0]));\r\n        setDisplaySlots([newSlots]);\r\n        hoursDataDispatch(setHoursAction([]));\r\n        setExistingDays(getDays([newSlots]));\r\n        setAddDay(false);\r\n        console.log([newSlots])\r\n        setTimeSlots(index, newSlots)\r\n    };\r\n\r\n\r\n    const removeHour = (event, h) => {\r\n        if (!!event.target.children[0]?.children[0]) {\r\n            const e = (h.filter((hour) => (hour.props.id === event.target.id)))[0];\r\n            const index = h.indexOf(e);\r\n            const newHours = [].concat(h.slice(0, index), h.slice(index + 1) || []);\r\n            console.log(newHours)\r\n            hoursDataDispatch(setHoursAction(newHours));\r\n        }\r\n\r\n        event.stopPropagation();\r\n    };\r\n\r\n    const onClickAddHour = () => {\r\n        hoursDataDispatch(setHoursAction([].concat(hoursData.hours, <AddHour key={nanoid()} removeHour={removeHour} id={nanoid()} />)));\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-time-slot__container\">\r\n            <h3>{name}</h3>\r\n            <div className=\"update-time-slot__timeslots\">\r\n                {\r\n                    displaySlots.length > 0 && displaySlots[0].map((slot) => {\r\n\r\n                        return (\r\n                            <TimeSlot key={nanoid()} slot={slot} onClickFunc={() => { }} />\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            {!!addDay && <div className=\"add-day__container\">\r\n                <select onChange={onSelectDay} value={day}>\r\n                    <option>{'Pick A Day'}</option>\r\n                    {week.filter((week, i) => (!existingDays.includes(i))).map((day) => (<option key={nanoid()}>{day}</option>))}\r\n                </select>\r\n                <div className=\"add-time-slot\">\r\n                    {hoursData.hours.length > 0 && hoursData.hours.map((hour) => (hour))}\r\n                </div>\r\n\r\n                <div className=\"add-time-slot__add-hour\" onClick={onClickAddHour}>+</div>\r\n\r\n                <button className=\"add-day__submit\" onClick={onClickSubmitDay} disabled={!hoursData.hours.length > 0 || day === 'Pick A Day'}>Add</button>\r\n            </div>}\r\n            <button className=\"add-day__button\" onClick={onClickaddDay} disabled={addDay || existingDays.length > 6}>Add Day</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { getAllTheaterTimeSlots } from '../../../../server/utils'\r\nimport UpdateTimeSlot from './UpdateTimeSlot';\r\nimport { nanoid } from 'nanoid';\r\nimport SlotHoursContextProvider from '../../../../contexts/SlotHoursContext'\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { clearModalAction } from '../../../../actions/ModalActions';\r\n\r\nexport default function UpdateAvailableTimeSlots({ oldMoviesList, theaterDetails, theaterID }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const timeSlots = getAllTheaterTimeSlots(theaterID, theaterDetails.movies);\r\n    const [newTimeSlots, setNewTimeSlots] = useState([...timeSlots]);\r\n    const [isAllMoviesUpdated, setisAllMoviesUpdated] = useState(false);\r\n    const setNewSlots = (index, timeSlots) => {\r\n        const newSlots = [...newTimeSlots];\r\n        newSlots[index].slots.slots = timeSlots;\r\n        newSlots[index].hasOpenSeats = true;\r\n        setNewTimeSlots(newSlots);\r\n    };\r\n    useEffect(() => {\r\n        let update = true;\r\n        for (let movie of newTimeSlots) {\r\n            if (movie.slots.slots.length === 0) update = false;\r\n            setisAllMoviesUpdated(update)\r\n        }\r\n    }, [newTimeSlots])\r\n    const onClickUpdate = () => {\r\n        console.log(newTimeSlots)\r\n        modalDataDispatch(clearModalAction());\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-available-timeslots\">\r\n            {timeSlots.length > 0 && timeSlots.map((timeSlot, i) => (\r\n                <SlotHoursContextProvider key={nanoid()}>\r\n                    <UpdateTimeSlot movieTimeSlots={timeSlot} seats={theaterDetails.seats} setTimeSlots={setNewSlots} index={i} />\r\n                </SlotHoursContextProvider>\r\n            ))}\r\n            <button disabled={!isAllMoviesUpdated} onClick={onClickUpdate}>Update Theater</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { addNewLocation, checkForExistingLocation } from '../../../../server/utils';\r\n\r\nexport default function AddLoction() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const [location, setLocation] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n    const onInputLocation = (event) => {\r\n        if (errorMessage !== \"\") setErrorMessage(\"\")\r\n        setLocation(event.target.value)\r\n    };\r\n\r\n    const onClickAddLocation = () => {\r\n        setErrorMessage(\"\")\r\n        if (!checkForExistingLocation(location)) {\r\n            addNewLocation(location);\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"AddNewTheaterStats\",\r\n                props: {\r\n                    location\r\n                }\r\n            }))\r\n\r\n        } else setErrorMessage(\"Location already exists!\")\r\n    }\r\n    return (\r\n        <div>\r\n            <h3>Enter Location name:</h3>\r\n            <input onInput={onInputLocation} />\r\n            <button onClick={onClickAddLocation} disabled={location === ''}>Add</button>\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport PickLocation from './PickLocation';\r\nexport default function AddTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"AddNewTheaterStats\",\r\n            props: { location }\r\n        }));\r\n    };\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { getMovieByID, getMovies, getTheaterByID } from '../../../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function AdjustTheaterDetails({ theaterID, onClickSubmitFunc, submitText }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const { name, movies, seats } = getTheaterByID(theaterID);\r\n    const [nameValue, setNameValue] = useState(name);\r\n    const [seatsValue, setSeatsValue] = useState(seats);\r\n    const [moviesList, setMoviesList] = useState(movies);\r\n    const setValues = [setNameValue, setSeatsValue];\r\n    const [addMoreMovies, setAddMoreMovies] = useState(false);\r\n    const allMovies = getMovies();\r\n    const [displyMovies, setDisplayMovies] = useState([...allMovies])\r\n\r\n    const filterItems = (event) => {\r\n        const value = event.target.value;\r\n        if (value === '') {\r\n            setDisplayMovies(allMovies);\r\n\r\n        } else {\r\n            const filter = allMovies.filter((item) => (item.name.toLowerCase().includes(value.toLowerCase())));\r\n            setDisplayMovies(filter);\r\n        }\r\n\r\n    };\r\n\r\n    const onClickRemove = (event) => {\r\n        const index = event.target.parentElement.id;\r\n        const newMovieList = [...moviesList];\r\n        newMovieList.splice(index, 1);\r\n        setMoviesList(newMovieList);\r\n        setAddMoreMovies(addMoreMovies || newMovieList.length === 0)\r\n\r\n    };\r\n\r\n    const onChangeMovieChecked = (event) => {\r\n        const index = moviesList.indexOf(event.target.id);\r\n        const newMovieList = [...moviesList];\r\n        if (index >= 0) {\r\n            newMovieList.splice(index, 1);\r\n            setMoviesList(newMovieList);\r\n        } else {\r\n\r\n            newMovieList.push(event.target.id)\r\n            setMoviesList(newMovieList);\r\n        }\r\n    }\r\n    const onChangeValue = (event) => {\r\n        const index = event.target.id;\r\n        const value = event.target.value;\r\n        setValues[index](value);\r\n    };\r\n\r\n    const onClickAddMovies = () => {\r\n        setAddMoreMovies(!addMoreMovies);\r\n    };\r\n\r\n    const onClickSubmit = () => {\r\n        const theaterDetails = {\r\n            name: nameValue,\r\n            seats: parseInt(seatsValue),\r\n            movies: moviesList\r\n        };\r\n        onClickSubmitFunc(theaterDetails, theaterID, movies)\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>Theater Name: <input id=\"0\" value={nameValue} onChange={onChangeValue} /></div>\r\n            <div>Seats: <input id=\"1\" value={seatsValue} type=\"number\" onChange={onChangeValue} /></div>\r\n            <div className=\"movies-in-theater\">\r\n                {moviesList.map((movieID, i) => {\r\n                    const { name } = getMovieByID(movieID);\r\n                    return (<div className=\"listed-movie\" key={nanoid()} id={i} onClick={onClickRemove}>\r\n                        <div className=\"remove\">Remove</div>{name}\r\n                    </div>)\r\n                })}\r\n                <div>\r\n                    <button className=\"add-more-movies\" onClick={onClickAddMovies}>{\"Show \" + (!addMoreMovies ? \"More\" : \"Less\") + \" Movies\"}</button>\r\n                    {addMoreMovies && <div className=\"more-movies-container\">\r\n                        <div className=\"query\">\r\n                            <input placeholder={\"Find Movies\"} onInput={filterItems} />\r\n                        </div>\r\n                        {\r\n                            displyMovies.map((movie, i) => (\r\n                                <div key={nanoid()}>\r\n                                    <input id={movie.id} type=\"checkBox\" checked={moviesList.indexOf(movie.id) >= 0} onChange={onChangeMovieChecked} />{movie.name}\r\n                                </div>\r\n\r\n                            ))\r\n                        }\r\n                    </div>}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <button onClick={onClickSubmit} disabled={moviesList.length === 0 || nameValue === \"\" || !seatsValue > 0}>{submitText}</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useState } from 'react';\r\nimport { addNewTheater, checkForExistingTheater } from '../../../../server/utils';\r\nimport AdjustTheaterDetails from './AdjustTheaterDetails';\r\n\r\nexport default function AddNewTheaterStats({ location }) {\r\n    const [addNewTheaterForm, setAddNewTheaterForm] = useState(false);\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const onClickAddNewTheater = () => {\r\n        setAddNewTheaterForm(!addNewTheaterForm);\r\n        setErrorMessage(\"\");\r\n    }\r\n    const onClickSubmit = (theaterDetails, theaterID, movies) => {\r\n        setErrorMessage(\"\");\r\n        if (!checkForExistingTheater(theaterDetails.name, location)) {\r\n            const theater = theaterDetails;\r\n            theater.id = theaterID;\r\n            theater.location = location\r\n            setAddNewTheaterForm(false)\r\n            addNewTheater(theater);\r\n        } else setErrorMessage('Theater already exists!');\r\n\r\n    }\r\n    return (\r\n        <div className=\"add-new-theater__container\">\r\n            <button onClick={onClickAddNewTheater}>{addNewTheaterForm ? \"-\" : \"+\"} New Theater</button>\r\n            {addNewTheaterForm && <div className=\"add-new-theater-form\">\r\n                <AdjustTheaterDetails\r\n                    theaterID={nanoid()}\r\n                    submitText={\"Add Theater\"}\r\n                    onClickSubmitFunc={onClickSubmit}\r\n                />\r\n            </div>}\r\n            {!!errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        </div>\r\n    )\r\n}\r\n","import { nanoid } from 'nanoid';\r\nimport React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { deleteLocation, getLocations } from '../../../../server/utils';\r\nimport PickLocation from './PickLocation';\r\nexport default function DeleteLocation() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: [location],\r\n                onDeleteFuncData: location\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = (location) => {\r\n        deleteLocation(location)\r\n    };\r\n\r\n    const locations = getLocations();\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { clearModalAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\n\r\nexport default function ConfirmDelete({ onDeleteFunc, onDeleteFuncData, items }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickCancel = () => {\r\n        modalDataDispatch(clearModalAction());\r\n    };\r\n\r\n    const onClickDelete = () => {\r\n        onDeleteFunc(onDeleteFuncData);\r\n        modalDataDispatch(clearModalAction());\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h3>Are you sure you want to delete:</h3>\r\n            <div>\r\n                {items.length > 0 && items.map((item, i) => {\r\n                    const seperator = i === items.length - 1 ? \".\" : \", \";\r\n                    return (`${item}${seperator}`)\r\n                })}\r\n            </div>\r\n            <div className=\"update-item__buttons\">\r\n                <button className=\"delete-button\" onClick={onClickDelete}>Delete</button>\r\n                <button onClick={onClickCancel}>Cancel</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport PickLocation from './PickLocation';\r\n\r\nexport default function DeleteTheater() {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const onClickLocation = (location) => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"DeleteTheaters\",\r\n            props: { location }\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <PickLocation\r\n            clickLoactionFunc={onClickLocation}\r\n        />\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport QueryItems from './QueryItems';\r\n\r\nexport default function DeleteItems({ itemType, getItems, getItemsParams, onSubmitFunc }) {\r\n    const [ableSubmit, setAbleSubmit] = useState(false);\r\n    const [isChecked, setIsChecked] = useState({});\r\n    const onClickClear = () => {\r\n        setIsChecked({});\r\n        setAbleSubmit(false);\r\n    };\r\n\r\n    const onClickSubmit = () => {\r\n        const itemsToSubmit = Object.keys(isChecked);\r\n        onSubmitFunc(itemsToSubmit)\r\n    }\r\n\r\n    return (\r\n        <div className=\"update-item\">\r\n            <QueryItems\r\n                itemType={itemType}\r\n                getItems={getItems}\r\n                inputType={\"checkbox\"}\r\n                isChecked={isChecked}\r\n                setIsChecked={setIsChecked}\r\n                setAbleSubmit={setAbleSubmit}\r\n                getItemsParams={getItemsParams}\r\n            />\r\n            <div className=\"update-item__buttons\">\r\n                <button onClick={onClickClear}>Clear</button>\r\n                <button disabled={!ableSubmit} onClick={onClickSubmit}>Delete</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../../contexts/ModalContext';\r\nimport { deleteTheaters, getTheaterByID, getTheatersByLocation } from '../../../../server/utils';\r\nimport DeleteItems from '../DeleteItems'\r\nexport default function DeleteTheaters({ location }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickDelete = (items) => {\r\n        const theatersNames = items.map((item) => {\r\n            const { name } = getTheaterByID(item);\r\n            return `${name} - ${location}`;\r\n        })\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"ConfirmDelete\",\r\n            props: {\r\n                onDeleteFunc: onClickSubmit,\r\n                items: theatersNames,\r\n                onDeleteFuncData: items\r\n            }\r\n        }))\r\n    };\r\n\r\n    const onClickSubmit = (theaters) => {\r\n        deleteTheaters(theaters)\r\n    };\r\n    return (\r\n        <DeleteItems\r\n            itemType={\"Theaters\"}\r\n            getItems={getTheatersByLocation}\r\n            getItemsParams={location}\r\n            onSubmitFunc={onClickDelete}\r\n        />\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { clearModalAction, goBackAction } from '../../actions/ModalActions';\r\nimport ShowMovieDetails from '../theaters/ShowMovieDetails';\r\nimport Seats from '../theaters/Seats';\r\nimport Reservation from '../theaters/Reservation';\r\nimport Default from '../main/Default';\r\nimport AddComment from '../movies/AddComment';\r\nimport Movie from '../movies/Movie';\r\nimport LoginPage from '../login/LoginPage';\r\nimport Menu from '../account/Menu';\r\nimport UpdateMovie from '../account/admin/movies/UpdateMovie';\r\nimport UpdateTheater from '../account/admin/theaters/UpdateTheater';\r\nimport UpdateItem from '../account/admin/UpdateItem';\r\nimport UpdateTheaterStats from '../account/admin/theaters/UpdateTheaterStats';\r\nimport UpdateAvailableTimeSlots from '../account/admin/theaters/UpdateAvailableTimeSlots';\r\nimport AddLoction from '../account/admin/theaters/AddLoction';\r\nimport AddTheater from '../account/admin/theaters/AddTheater';\r\nimport AddNewTheaterStats from '../account/admin/theaters/AddNewTheaterStats';\r\nimport DeleteLocation from '../account/admin/theaters/DeleteLocation';\r\nimport ConfirmDelete from '../account/admin/ConfirmDelete';\r\nimport DeleteTheater from '../account/admin/theaters/DeleteTheater';\r\nimport DeleteTheaters from '../account/admin/theaters/DeleteTheaters';\r\nexport default function Modal() {\r\n    const { modalData, modalDataDispatch } = useContext(ModalContext);\r\n    const components = {\r\n        Default, LoginPage,\r\n        ShowMovieDetails, Seats, Reservation,\r\n        AddComment, Movie,\r\n        Menu, UpdateMovie,\r\n        ConfirmDelete, UpdateItem,\r\n        UpdateTheater, UpdateTheaterStats, UpdateAvailableTimeSlots, AddLoction,\r\n        AddTheater, AddNewTheaterStats, DeleteLocation, DeleteTheater, DeleteTheaters\r\n    };\r\n    const [children, setChildren] = useState({ elementName: 'Default', props: {} });\r\n    useEffect(() => {\r\n        setChildren(modalData.children);\r\n\r\n    }, [modalData.children])\r\n    const onClickCloseModal = () => {\r\n        modalDataDispatch(clearModalAction());\r\n    };\r\n    const onClickGoBack = (event) => {\r\n        modalDataDispatch(goBackAction());\r\n        event.stopPropagation();\r\n    };\r\n    return (\r\n        <div className=\"modal__container\">\r\n            <div className=\"modal\">\r\n                <div className=\"modal__header\">\r\n                    {modalData.back?.length > 0 && <div className=\"modal__back\" onClick={onClickGoBack}>Back</div>}\r\n                    <div className=\"close-modal__container\" onClick={onClickCloseModal}>\r\n                        <div className=\"close-modal\" ></div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"modal__content\">{React.createElement(components[children.elementName], children.props)}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../../actions/ModalActions';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\n\r\nexport default function Setting({ section, sections }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const sectionLower = section.toLowerCase();\r\n    const onClickSetting = () => {\r\n        const children = {\r\n            elementName: \"Menu\",\r\n            props: { sections }\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    };\r\n    return (\r\n        <div className=\"setting__container\">\r\n            <div className=\"icon_container\">\r\n                <div className=\"setting\" onClick={onClickSetting}>\r\n                    <img src={\"./icons/account/settings__\" + sectionLower + \".png\"} alt=\"icon\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"setting__title\">{\"Manage \" + section}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Setting from './Setting';\r\nimport Modal from '../../main/Modal';\r\nimport { ModalContext } from '../../../contexts/ModalContext';\r\nimport { getMovies } from '../../../server/utils';\r\nexport default function AdminAccount() {\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n    return (\r\n        <div className=\"admin-account__container\">\r\n            <Setting\r\n                section=\"Movies\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Movie\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Movie\",\r\n                            elementName: \"UpdateMovie\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Movie\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                    ]\r\n                }\r\n            />\r\n            <Setting\r\n                section=\"Theaters\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Theater\",\r\n                            elementName: \"AddTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Theater\",\r\n                            elementName: \"UpdateTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Theater\",\r\n                            elementName: \"DeleteTheater\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Add New Location\",\r\n                            elementName: \"AddLoction\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Location\",\r\n                            elementName: \"DeleteLocation\",\r\n                            props: {}\r\n                        },\r\n                    ]} />\r\n            <Setting\r\n                section=\"News\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Add New Article\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Update Article\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Article\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                    ]} />\r\n            <Setting\r\n                section=\"Account\"\r\n                sections={\r\n                    [\r\n                        {\r\n                            title: \"Change Password\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Add New Admin Account\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        },\r\n                        {\r\n                            title: \"Delete Admin Account\",\r\n                            elementName: \"Default\",\r\n                            props: {}\r\n                        }\r\n                    ]} />\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function UserAccount() {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport Modal from '../main/Modal';\r\nimport AdminAccount from './admin/AdminAccount';\r\nimport UserAccount from './user/UserAccount';\r\n\r\n\r\nexport default function Account() {\r\n    const { userData } = useContext(UserContext);\r\n    const { modalData, modalDataDispatch } = useContext(ModalContext);\r\n    useEffect(() => {\r\n        if (!userData.loggedIn)\r\n            modalDataDispatch(goForwardAction({\r\n                elementName: \"LoginPage\",\r\n                props: {}\r\n            }));\r\n    }, [userData.loggedIn, modalDataDispatch])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"account__main\">\r\n            {userData.loggedIn ?\r\n                <div>\r\n                    {userData.isAdmin ?\r\n                        <AdminAccount /> :\r\n                        <UserAccount />}\r\n                </div> :\r\n                modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport default function FooterIcon({ name }) {\r\n    const nameLower = name.toLowerCase().trim();\r\n    return (\r\n        <NavLink to={`/${nameLower}`} className=\"nav\" activeClassName=\"nav_active\">\r\n            <img className=\"icon\" src={`./icons/footer/‏‏${name}.png`} alt=\"icon\" />\r\n            <img className=\"icon__active\" src={`./icons/footer/‏‏${name}__active.png`} alt=\"icon\" />\r\n            <div>{name}</div>\r\n        </NavLink>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport FooterIcon from './FooterIcon';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <div className=\"footer__container\">\r\n            <div className=\"footer\">\r\n                <FooterIcon name={\"Movies\"} />\r\n                <FooterIcon name={\"Theaters\"} />\r\n                <FooterIcon name={\"News\"} />\r\n                <FooterIcon name={\"Account\"} />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function ItemSearch() {\r\n    return (\r\n        <div className=\"item-serach__container\">\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { NavLink, useHistory } from 'react-router-dom';\r\nimport ItemSearch from './ItemSearch';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { logoutAction, setWindowAction } from '../../actions/UserActions';\r\n\r\nexport default function Header() {\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const [isQuery, setIsQuery] = useState(false);\r\n    const [onInput, setOnInput] = useState(false);\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        userDataDispatch(setWindowAction(window.innerWidth));\r\n    }, [userDataDispatch]);\r\n\r\n    const onInputQuery = (event) => {\r\n        const input = event.target.value;\r\n        setIsQuery(input !== \"\" ? true : false)\r\n    };\r\n\r\n    const onClickCancel = (event) => {\r\n        event.target.previousSibling.value = \"\";\r\n        setIsQuery(false);\r\n    };\r\n\r\n    const onClickLogo = () => {\r\n        history.push('/movies');\r\n    };\r\n\r\n    const onFocusInput = () => {\r\n        setOnInput(true);\r\n    };\r\n\r\n    const onClickCancelQuery = (event) => {\r\n        setOnInput(false);\r\n        setIsQuery(false);\r\n        const queryInput = event.target.previousSibling.children[0].children[1];\r\n        queryInput.value = \"\";\r\n    };\r\n\r\n    const onClickLogout = () => {\r\n        userDataDispatch(logoutAction());\r\n        history.push('/movies');\r\n    }\r\n\r\n    return (\r\n        <div className=\"header__container\">\r\n            <div className=\"header\">\r\n                <img className=\"header__logo\" src=\"./icons/header/logo.png\" alt=\"logo\" onClick={onClickLogo} />\r\n                <div className=\"header__search_bar\">\r\n                    <div className=\"bar\">\r\n                        <img className=\"find-icon\" src=\"./icons/header/find_icon.png\" alt=\"find\" />\r\n                        <input placeholder=\"Movies and Shows\"\r\n                            onInput={onInputQuery}\r\n                            onFocus={onFocusInput}\r\n                        />\r\n                        {isQuery && <div className=\"cancel-query\" onClick={onClickCancel} ></div>}\r\n                    </div>\r\n                </div>\r\n                {onInput && <div className=\"cancel-item-serach\" onClick={onClickCancelQuery}>Cancel</div>}\r\n                {!onInput && <div className=\"nav__bar\">\r\n                    <div className=\"nav__link\"><NavLink to=\"/movies\" className=\"a_nav\" activeClassName=\"a_nav__active\">Movies</NavLink></div>\r\n                    <div className=\"nav__link\"><NavLink to=\"/theaters\" className=\"a_nav\" activeClassName=\"a_nav__active\">Theaters</NavLink></div>\r\n                    <div className=\"nav__link\"><NavLink to=\"/news\" className=\"a_nav\" activeClassName=\"a_nav__active\">News</NavLink></div>\r\n                    <NavLink className=\"account_logo\" to=\"/account\">                    <img src=\"./icons/header/‏‏account_icon__header.png\" alt=\"account_logo\" />\r\n                    </NavLink>\r\n                </div>}\r\n            </div>\r\n            {userData.loggedIn && <div className=\"logout\" onClick={onClickLogout}>Logout</div>}\r\n            {onInput && <ItemSearch />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport { UserContext } from '../../contexts/UserContext';\r\n\r\n\r\nexport default function Ratings({ criticsRatings, audienceRatings }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n    const { userData } = useContext(UserContext);\r\n\r\n    const getTomatoIcon = (rating) => {\r\n        if (rating >= 0.9) return 'med-tomato';\r\n        if (rating >= 0.6) return 'good-tomato';\r\n        else return 'rotten-tomato';\r\n    };\r\n\r\n    const onClickAddComment = () => {\r\n        modalDataDispatch(goForwardAction(\r\n            { elementName: 'AddComment', props: {} }\r\n        ));\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"movie-ratings__container\">\r\n            <div className=\"movie-ratings__data\">\r\n                <div className=\"movie-ratings__critics\">\r\n                    <div className=\"movie-ratings__icon\">\r\n                        <img src={\"./icons/ratings/\" + getTomatoIcon(criticsRatings) + \".png\"} alt=\"audience-icon\" />\r\n                    </div>\r\n                    <div className=\"movie-ratings__legend\">{Math.round(criticsRatings * 100)}%</div>\r\n                </div>\r\n                <div className=\"movie-ratings__audience\">\r\n                    <div className=\"movie-ratings__icon\">\r\n                        <img src={\"./icons/ratings/\" + (audienceRatings > 0.5 ? \"good\" : \"bad\") + \"-popcorn.png\"} alt=\"audience-icon\" />\r\n                    </div>\r\n                    <div className=\"movie-ratings__legend\">{Math.round(audienceRatings * 100)}%</div>\r\n                </div>\r\n            </div>\r\n            {(userData.loggedIn && !userData.isAdmin) &&\r\n                <div className=\"movie-ratings__buttons\">\r\n                    <button onClick={onClickAddComment} className=\"add-comment-button__text\">Add Comment</button>\r\n                    <button onClick={onClickAddComment} className=\"add-comment-button__plus\">+</button>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Ratings from './Ratings';\r\n\r\n\r\n\r\nexport default function MovieItem({ id, description, name, ratings, comments }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n    const onClickMovie = () => {\r\n        modalDataDispatch(goForwardAction({\r\n            elementName: \"Movie\",\r\n            props: { description, comments, id }\r\n        }));\r\n    };\r\n    return (\r\n        <div className=\"item\">\r\n            <div className=\"poster__container\" onClick={onClickMovie}>\r\n                <img className=\"poster\" src=\"./temp/peter-rabbit-2.jpg\" alt=\"movie-poster\" />\r\n            </div>\r\n            <Ratings\r\n                criticsRatings={ratings.critics}\r\n                audienceRatings={ratings.audience}\r\n            />\r\n            <div className=\"movie-name\" onClick={onClickMovie}>{name}</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport MovieItem from './MovieItem'\r\n\r\nexport default function ComingSoon() {\r\n    return (\r\n        <div className=\"coming-soon\">\r\n            <h3>Coming Soon</h3>\r\n            <div className=\"item__container\">\r\n                {/* <MovieItem />\r\n                <MovieItem />\r\n                <MovieItem />\r\n                <MovieItem />\r\n                <MovieItem />\r\n                <MovieItem /> */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function ScrollRight({ scrollBy }) {\r\n    const onClickScrollRight = (event) => {\r\n        const element = event.target.previousSibling ? event.target : event.target.parentElement;\r\n        const container = element.previousSibling;\r\n        container.scrollBy({ top: 0, left: scrollBy, behavior: 'smooth' });\r\n    };\r\n    return (\r\n        <div className=\"scroll-button\" onClick={onClickScrollRight}>\r\n            <span className=\"scroll-button__right\" />\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\n\r\nexport default function ScrollRight({ scrollBy }) {\r\n\r\n    const onClickScrollLeft = (event) => {\r\n        const element = event.target.nextSibling ? event.target : event.target.parentElement;\r\n        const container = element.nextSibling;\r\n        container.scrollBy({ top: 0, left: -scrollBy, behavior: 'smooth' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"scroll-button\" onClick={onClickScrollLeft}>\r\n            <span className=\"scroll-button__left\" />\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport MovieItem from './MovieItem'\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport ScrollRight from '../main/ScrollRight';\r\nimport ScrollLeft from '../main/ScrollLeft';\r\nimport { getAvailableMovies } from '../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\n\r\n\r\nexport default function NowPlaying() {\r\n    const { userData } = useContext(UserContext);\r\n    const scrollBy = (userData.windowWidth) * 24 / 100;\r\n    const [displayMovies, setDisplayMovies] = useState(getAvailableMovies());\r\n    return (\r\n        <div className=\"now-playing\">\r\n            <h3>Now Playing</h3>\r\n            <div className=\"container__box\">\r\n                <ScrollLeft scrollBy={scrollBy} />\r\n                <div className=\"item__container\">\r\n\r\n                    {displayMovies.length > 0 ? displayMovies.map(({ id, description, name, ratings, comments }, i) => (\r\n\r\n                        <MovieItem key={nanoid()}\r\n                            id={id}\r\n                            description={description}\r\n                            name={name}\r\n                            ratings={ratings}\r\n                            comments={comments}\r\n\r\n                        />\r\n                    )) :\r\n                        \"No Available Movies \"}\r\n\r\n\r\n                </div>\r\n                <ScrollRight scrollBy={scrollBy} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport ComingSoon from './ComingSoon'\r\nimport NowPlaying from './NowPlaying'\r\nimport Modal from '../main/Modal';\r\n\r\n\r\nexport default function Movies() {\r\n    const { modalData } = useContext(ModalContext);\r\n\r\n    return (\r\n        <div className=\"movies__container\">\r\n            <NowPlaying />\r\n            <ComingSoon />\r\n            <NowPlaying />\r\n            <ComingSoon />\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function News() {\r\n    return (\r\n        <div className=\"news__main\">\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { goForwardAction } from '../../actions/ModalActions';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\n\r\n\r\nexport default function MovieInTheater({ name, slots, id, setModal }) {\r\n    const { modalDataDispatch } = useContext(ModalContext);\r\n\r\n\r\n    const getSlots = (slots) => {\r\n        let result = 'Days: ';\r\n        for (let slot of slots[0]) {\r\n            const key = Object.keys(slot);\r\n            result += `${key[0]}, `;\r\n        }\r\n        result.substring(0, result.length - 2)\r\n        return result.substring(0, result.length - 2);\r\n    };\r\n\r\n    const onClickMovie = () => {\r\n        const children = {\r\n            elementName: 'ShowMovieDetails',\r\n            props: {\r\n                name,\r\n                slots\r\n            }\r\n        }\r\n        modalDataDispatch(goForwardAction(children));\r\n    }\r\n    return (\r\n        <div className=\"theater__movie\" onClick={onClickMovie}>\r\n            <h4>{name}</h4>\r\n            <div className=\"poster__container\">\r\n                <img className=\"poster\" src=\"./temp/peter-rabbit-2.jpg\" alt=\"movie-poster\" />\r\n            </div>\r\n            {slots.length > 0 &&\r\n                <div className=\"time-slot\">\r\n                    {getSlots(slots)}\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { moviesData } from '../../data/movies';\r\nimport MovieInTheater from './MovieInTheater';\r\nimport { getMovieAvailability } from '../../server/utils';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function Theater({ id, name, movies }) {\r\n    const getMovieSpecs = (movieID) => {\r\n        return (moviesData.filter(({ id }) => (id === movieID)))[0];\r\n    };\r\n\r\n\r\n\r\n\r\n    const getMovies = (movies) => {\r\n        const result = [];\r\n        for (let movieID of movies) {\r\n            const movie = { id: movieID };\r\n            const { name, } = getMovieSpecs(movieID); //ratings\r\n            movie.name = name;\r\n            movie.slots = getMovieAvailability(movieID, id)\r\n\r\n            result.push(movie);\r\n        }\r\n        return result;\r\n    };\r\n    const moviesToDisplay = getMovies(movies);\r\n    return (\r\n        <div className=\"theater\" >\r\n            <h3>{name}</h3>\r\n            <div className=\"theater__movies__container\">\r\n                {moviesToDisplay.length > 0 && moviesToDisplay.map(\r\n                    (movie, i) =>\r\n                    (<MovieInTheater\r\n                        key={nanoid()}\r\n                        name={movie.name}\r\n                        slots={movie.slots}\r\n                        id={id}\r\n                    />)\r\n                )\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { setLocationAction } from '../../actions/UserActions';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { ModalContext } from '../../contexts/ModalContext';\r\nimport Theater from './Theater';\r\nimport Modal from '../main/Modal';\r\nimport { nanoid } from 'nanoid';\r\n\r\nexport default function ShowTheaters({ theaters, location }) {\r\n    const { userDataDispatch } = useContext(UserContext);\r\n    const { modalData } = useContext(ModalContext);\r\n    const onClickChangeLocation = () => {\r\n        userDataDispatch(setLocationAction(''));\r\n    }\r\n\r\n    return (\r\n        <div className=\"theaters__container\">\r\n            <div className=\"theaters__location\">\r\n                <h3>Theaters in {location}</h3>\r\n                <div className=\"change-location\" onClick={onClickChangeLocation}>Change Location</div>\r\n            </div>\r\n            {theaters.map(\r\n                (theater) =>\r\n                (<Theater\r\n                    key={nanoid()}\r\n                    id={theater.id}\r\n                    name={theater.name}\r\n                    movies={theater.movies}\r\n                />)\r\n            )}\r\n            {modalData.isModal && <Modal />}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { theaters } from '../../data/theaters'\r\nimport { locations } from '../../data/locations';\r\nimport ShowTheaters from './ShowTheaters';\r\nimport { UserContext } from '../../contexts/UserContext';\r\nimport { setLocationAction } from '../../actions/UserActions';\r\nimport { nanoid } from 'nanoid';\r\n\r\nconst getLocations = () => (locations);\r\nconst getTheaters = (requestedLocation) => {\r\n    return theaters.filter(({ location }) => (location === requestedLocation));\r\n};\r\n\r\n\r\nexport default function Theaters() {\r\n    const { userData, userDataDispatch } = useContext(UserContext);\r\n    const locations = getLocations();\r\n    const onClickLocation = (event) => {\r\n        const location = event.target.previousSibling.value;\r\n        userDataDispatch(setLocationAction(location));\r\n    }\r\n    return (\r\n        <div className=\"theaters__main\">\r\n            {userData.location === '' && <div className=\"pick-location\">\r\n                <h3>Pick a location:</h3>\r\n                <select>\r\n                    {locations.map((location, i) =>\r\n                        (<option key={nanoid()}>{location}</option>)\r\n                    )}\r\n                </select>\r\n                <button onClick={onClickLocation}>Go</button>\r\n            </div>}\r\n            {userData.location !== '' && <ShowTheaters\r\n                theaters={getTheaters(userData.location)}\r\n                location={userData.location}\r\n            />}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\r\nimport Account from '../components/account/Account';\r\nimport Footer from '../components/main/Footer';\r\nimport Header from '../components/main/Header';\r\nimport Movies from '../components/movies/Movies';\r\nimport News from '../components/news/News';\r\nimport Theaters from '../components/theaters/Theaters';\r\nimport ModalContextProvider from '../contexts/ModalContext';\r\n\r\nimport UserContextProvider from '../contexts/UserContext'\r\nexport default function AppRouter() {\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <ModalContextProvider>\r\n                <UserContextProvider>\r\n                    <Header />\r\n                    <Switch>\r\n                        <Route path=\"/\" exact>\r\n                            <Redirect to=\"/movies\" />\r\n                        </Route>\r\n                        <Route path=\"/movies\" component={Movies} />\r\n                        <Route path=\"/account\" component={Account} />\r\n                        <Route path=\"/news\" component={News} />\r\n                        <Route path=\"/theaters\" component={Theaters} />\r\n\r\n                        <Route path=\"*\" component={Movies} />\r\n                    </Switch>\r\n                    <Footer />\r\n                </UserContextProvider>\r\n            </ModalContextProvider>\r\n        </BrowserRouter >\r\n    )\r\n}\r\n","import React from 'react'\r\nimport AppRouter from './routers/AppRouter'\r\nexport default function App() {\r\n  return (\r\n    <AppRouter />\r\n  )\r\n}\r\n\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport \"./styles/styles.scss\";\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}